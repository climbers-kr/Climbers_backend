{"version":3,"sources":["images/ClimbersLogo.png","components/auth/ErrorMessage.js","components/common/LinkedButton.js","images/homeImage.png","images/homeImage2.png","components/common/CustomTheme.js","components/common/Header.js","lib/api/client.js","lib/api/auth.js","modules/loading.js","lib/createRequestSaga.js","modules/user.js","containers/common/HeaderContainer.js","components/home/MainCarousel.js","components/home/HomeTemplate.js","components/home/SlideViewTemplate.js","lib/api/centers.js","lib/api/community/posts.js","modules/home.js","components/common/LazyImage.js","components/common/Carousel.js","components/common/CenterCard.js","components/common/SkeletonCenterCard.js","components/home/centerSection/CenterCarousel.js","containers/home/CenterSectionContainer.js","components/home/feedSetion/UserInfo.js","components/home/feedSetion/FeedCard.js","components/home/feedSetion/FeedCarousel.js","containers/home/FeedSectionContainer.js","pages/HomePage.js","components/auth/AuthTemplate.js","modules/auth.js","lib/styles/palette.js","components/auth/login/LoginForm.js","containers/auth/LoginFormContainer.js","pages/LoginPage.js","components/auth/register/Stepper.js","components/auth/register/FirstStepForm.js","components/auth/register/RegisterForm.js","containers/auth/RegisterFormContainer.js","pages/RegisterPage.js","components/common/AlignItemList.js","components/community/postList/CommunityTemplate.js","modules/posts.js","components/community/common/Carousel.js","components/community/postList/PostContents.js","components/community/postList/CommentList.js","components/community/postList/CommentInput.js","containers/community/readPost/ListReactionContainer.js","components/community/postList/PostListItem.js","components/common/ErrorMessage.js","components/community/postList/PostList.js","containers/community/readPost/PostListContainer.js","components/common/LinkedFab.js","components/community/common/WritePostButton.js","components/community/postList/CategoryTab.js","containers/community/readPost/CategoryTabContainer.js","modules/post.js","components/community/postViewer/PostViewer.js","containers/community/readPost/PostViewerContainer.js","components/community/postViewer/PostViewerTemplate.js","components/community/postViewer/CommentInput.js","containers/community/readPost/CommentInputContainer.js","pages/community/PostPage.js","pages/community/CommunityPage.js","components/community/writePost/WriteTemplate.js","components/community/writePost/ImageForm.js","modules/write.js","containers/community/writePost/ImageContainer.js","components/community/writePost/TextForm.js","containers/community/writePost/TextContainer.js","components/community/writePost/WriteActionButton.js","containers/community/writePost/WriteActionButtonContainer.js","components/community/writePost/TagBox.js","containers/community/writePost/TagBoxContainer.js","components/community/writePost/CategorySelector.js","containers/community/writePost/CategorySelectorContainer.js","pages/community/WritePage.js","pages/community/index.js","components/account/edit/EditTemplate.js","components/account/edit/EditForm.js","components/account/edit/ImageSelector.js","modules/accounts/userProfileEdit.js","containers/account/edit/ImageSelectorContainer.js","containers/account/edit/EditProfileContainer.js","components/common/WriteActionButton.js","pages/account/EditAccountPage.js","containers/account/edit/WriteActionButtonContainer.js","pages/account/EditPasswordPage.js","pages/account/index.js","components/account/user/UserProfileTemplate.js","components/account/user/molecules/LabelTypography.js","components/account/user/UserProfile.js","components/account/user/molecules/HorizontalTab.js","lib/api/user.js","modules/accounts/userProfile.js","containers/account/user/UserProfileContainer.js","pages/user/UserProfilePage.js","pages/user/index.js","components/centers/centerList/CenterListTemplate.js","modules/centers/centerList.js","components/centers/centerList/CenterList.js","containers/centers/CenterListContainer.js","pages/centers/CenterListPage.js","modules/centers/center.js","components/centers/centerViewer/CenterInfo.js","components/centers/centerViewer/CenterViewer.js","containers/centers/CenterViewerContainer.js","components/centers/centerViewer/CenterViewerTemplate.js","pages/centers/CenterPage.js","pages/centers/index.js","pages/test/VirtualizingTest.js","components/admin/SideAppBar.js","components/admin/saveCenterInfo/FormTemplate.js","components/admin/saveCenterInfo/common/commonComponents.js","components/admin/saveCenterInfo/common/ArrayBox.js","components/admin/saveCenterInfo/common/PriceBox.js","components/admin/saveCenterInfo/common/CheckBox.js","components/admin/saveCenterInfo/common/BooleanSelectBox.js","components/admin/saveCenterInfo/SaveForm.js","lib/api/admin/saveCenter.js","modules/admin/saveCenter.js","containers/admin/saveCenterInfo/SaveFormContainer.js","components/admin/saveCenterInfo/common/PostCode.js","components/admin/saveCenterInfo/common/PostCodeModal.js","components/admin/saveCenterInfo/LocationSearchForm.js","containers/admin/saveCenterInfo/LocationSearchContainer.js","containers/admin/saveCenterInfo/WriteActionButtonContainer.js","components/admin/saveCenterInfo/ImageForm.js","containers/admin/saveCenterInfo/ImageContainer.js","pages/admin/DashboardPage.js","App.js","serviceWorker.js","modules/index.js","index.js"],"names":["module","exports","ErrorMessage","styled","div","LinkWrapperButton","props","to","buttonProps","renderLink","React","useMemo","forwardRef","linkProps","ref","component","children","theme","createMuiTheme","palette","primary","main","secondary","inherit","breakpoints","values","xs","sm","md","lg","xl","useStyles","makeStyles","appBar","background","position","menuButton","marginRight","spacing","up","display","title","flexGrow","userInfo","color","link","margin","textDecoration","menuLink","menuItem","down","Header","user","onLogout","classes","useState","top","state","setState","open","setOpen","anchorRef","useRef","handleClose","event","current","contains","target","handleListKeyDown","key","preventDefault","prevOpen","useEffect","focus","side","toggleDrawer","type","AppBar","className","Toolbar","IconButton","edge","aria-label","onClick","src","url","alt","width","height","variant","Button","aria-controls","undefined","aria-haspopup","username","Popper","anchorEl","role","transition","disablePortal","TransitionProps","placement","Grow","style","transformOrigin","Paper","ClickAwayListener","onClickAway","MenuList","autoFocusItem","id","onKeyDown","MenuItem","Divider","Drawer","anchor","onClose","fullList","List","list","ListItem","button","client","axios","create","check","get","logout","post","updateProfileImg","startLoading","createAction","requestType","finishLoading","loading","handleActions","action","payload","createRequestActionTypes","createRequestSaga","request","SUCCESS","FAILURE","put","console","dir","call","response","data","meta","error","checkSaga","logoutSaga","userSaga","CHECK","CHECK_SUCCESS","CHECK_FAILURE","tempSetUser","authAPI","errorStatus","status","log","checkFailureSaga","localStorage","removeItem","e","takeLatest","checkError","HeaderContainer","useSelector","dispatch","useDispatch","CarouselBox","SlideImage","ArrowButton","icon","fontSize","MainCarousel","renderCenterLeftControls","previousSlide","renderCenterRightControls","nextSlide","homeImage1","homeImage2","HomeTemplateBlock","Footer","HomeTemplate","SlideViewSection","SlideViewBlock","Responsive","h1","SlideViewTemplate","label","listCenters","page","sido","sigungu","queryString","qs","stringify","imageUpload","fileObject","formData","FormData","append","writePost","imgUrlList","body","tags","centerTag","category","writeComment","postId","comment","listPosts","tag","homeSaga","LIST_CENTERS","LIST_CENTERS_SUCCESS","LIST_CENTERS_FAILURE","LIST_POSTS","LIST_POSTS_SUCCESS","LIST_POSTS_FAILURE","listCentersSaga","centersAPI","listPostsSaga","postsAPI","home","centers","posts","events","feeds","centerError","postsError","LazyImage","imageSrc","setImageSrc","imageRef","setImageRef","observer","didCancel","IntersectionObserver","entries","forEach","entry","intersectionRatio","isIntersecting","unobserve","threshold","rootMargin","observe","onLoad","classList","add","onError","root","touchAction","dot","borderRadius","border","maxWidth","opacity","dotSelected","dotBox","textAlign","bottom","left","right","arrowButton","backgroundColor","justifyContent","alignItems","transform","zIndex","nextButton","backButton","RightArrowButton","clsx","LeftArrowButton","ComponentsUsingContext","carouselContext","useContext","CarouselContext","currentSlide","setCurrentSlide","onChange","subscribe","unsubscribe","dotComponents","map","image","index","slide","length","SliderWrapper","Carousel","count","naturalSlideWidth","naturalSlideHeight","totalSlides","dragEnabled","isPlaying","interval","cardStyle","css","coloredborder","Title","Card","Address","ContentHeader","flex","flexDirection","borderColor","borderImageSlice","borderImage","borderImageWidth","content","paddingLeft","padding","maxHeight","overflow","controls","badge","rating","withRouter","center","history","location","locationObject","_id","CardContent","Rating","name","defaultValue","size","bname","CardActions","Badge","badgeContent","SkeletonCenterCard","Skeleton","animation","CardBox","mobileM","visibleSlides","slideIndex","i","CenterCarousel","mobileL","useMediaQuery","laptop","totalSlide","Math","ceil","step","dragStep","CenterSectionContainer","centersLoading","parseInt","UserInfoBlock","Username","p","UserInfo","Avatar","FeedCardContainer","FeedInfo","FeedCard","FeedCarousel","FeedSectionContainer","postsLoading","HomePage","AuthTemplateBlock","WhiteBox","Container","AuthTemplate","logo","authSaga","CHECK_USERNAME","CHECK_USERNAME_SUCCESS","CHECK_USERNAME_FAILURE","NEXT_STEP","PHONE_AUTH","PHONE_AUTH_SUCCESS","REGISTER","REGISTER_SUCCESS","REGISTER_FAILURE","LOGIN","LOGIN_SUCCESS","LOGIN_FAILURE","changeField","form","value","initializeForm","checkUsername","goNextStep","goBackStep","requestPhoneAuth","phone","register","password","validationCode","login","checkUsernameSaga","requestPhoneAuthSaga","registerSaga","loginSaga","initialState","passwordConfirm","validationCodeTimer","usernameValidation","usernameValidationError","smsValidationError","auth","authError","produce","draft","Date","getTime","gray","cyan","textMap","Grid","paper","avatar","marginTop","submit","LoginForm","onSubmit","text","Typography","noValidate","TextField","required","fullWidth","autoComplete","autoFocus","container","item","href","setError","goBack","setItem","JSON","LoginPage","instructions","marginBottom","stepper","HorizontalLabelStepper","steps","Stepper","activeStep","alternativeLabel","Step","StepLabel","FirstStepForm","usernameError","SecondStepForm","Loadable","loader","CircularProgress","helpText","timer","gridButtonBox","repeatButton","alignSelf","RegisterForm","onRepeatRequestPhoneAuth","onChangeNumberButtonClick","onSubmitValidationCode","changeNumber","setUsernameError","setChangeNumber","debounceCheckUsername","debounce","push","includes","isMobilePhone","RegExp","test","RegisterPage","inline","AlignItemsList","ListItemAvatar","ListItemText","Fragment","GlobalStyle","createGlobalStyle","leftBox","rightBox","CommunityTemplate","scrollBottomSaga","writeCommentSaga","postsSaga","WRITE_COMMENT","WRITE_COMMENT_SUCCESS","WRITE_COMMENT_FAILURE","READ_MORE","READ_MORE_SUCCESS","READ_MORE_FAILURE","scrollBottom","readMorePostsSaga","selectCategory","unloadPosts","select","isLoading","postsState","lastPage","comments","postError","postsObject","postContent","headers","concat","reaction","commentsLoading","buttonBack","buttonNext","carouselRef","media","paddingTop","green","publishedDate","CardHeader","subheader","toLocaleDateString","disableSpacing","CommentItemBlock","Commenter","CommentText","CommentItem","commenter","CommentList","LoadableModal","CommentInputBlock","CommentForm","StyledInput","Input","ButtonWrapper","ProgressWrapper","CommentInput","submitComment","onChangeField","input","setInput","modal","setModal","onCancel","useCallback","placeholder","disabled","visible","description","memo","submitCommentLoading","StyledCard","CommentListBlock","ErrorMessageBlock","PostListBlock","loaderBox","minHeight","PostList","loading2","containerRef","message","morePostsLoading","parse","search","ignoreQueryPrefix","options","showWriteButton","extendedIcon","fab","LinkWrapperFab","Fab","WritePostButton","TopBox","tabBox","tabs","borderRight","divider","CategoryTab","onChangeCategory","FormControl","InputLabel","Select","labelId","Tabs","orientation","newValue","Tab","postSaga","READ_POST","READ_POST_SUCCESS","READ_POST_FAILURE","readPost","unloadPost","readPostSaga","commentInput","like","PostViewerBlock","StyledCardHeader","CarouselWrapper","IconButtonBlock","StyledCardContent","HeaderTextBox","HeaderText","IconWrapper","StyledAvatar","Comment","onRemove","PostViewer","match","params","ownPost","PostViewerTemplateBlock","PostViewerTemplate","StyledButton","CommentInputContainer","postLoading","PostPage","path","CategoryTabContainer","WriteTemplateBlock","WriteTemplate","PreviewBox","PreviewItem","ImgFilter","ImgPreview","img","ImgSelector","doneIcon","addIcon","ImageForm","hasImages","imgList","previewBoxRef","scrollWidth","scrollLeft","object","URL","createObjectURL","file","done","accept","multiple","htmlFor","uploadQueueSaga","saveFileSaga","writePostSaga","writeSaga","UPLOAD_QUEUE","UPLOAD_QUEUE_SUCCESS","UPLOAD_QUEUE_FAILURE","WRITE_POST","WRITE_POST_SUCCESS","WRITE_POST_FAILURE","SAVE_FILE","SAVE_FILE_SUCCESS","SAVE_FILE_FAILURE","initialize","selectImage","selectedImg","curOrder","write","imgQueue","listToUpload","imgCount","uploadedCount","queueError","queue","splice","findIndex","ImageContainer","files","TextForm","multiline","TextContainer","WriteActionButton","onPublish","TagBoxBlock","StyledFab","TagBox","TagBoxContainer","onChangeTags","nextTags","formControl","minWidth","CategorySelectorBlock","StyledFormControl","CategorySelector","CategorySeletorContainer","CategorySelectorContainer","Community","CommunityPage","exact","WritePage","render","pathname","FullScreen","FormTemplate","FormHeader","EditTemplate","InputLabelBox","SelectBox","selectedValue","setSelectedValue","LabelTextField","EditForm","profileInfo","lv","UserImage","ImageSelector","userProfileEditSaga","LOAD_PROFILE","LOAD_PROFILE_SUCCESS","UPDATE_PROFILE","UPDATE_PROFILE_SUCCESS","UPDATE_PROFILE_FAILURE","loadProfile","loadProfileSaga","imageToUpload","selectError","sex","introduction","profileImgUrl","profile","profileError","userProfileEdit","ImageSelectorContainer","userProfile","EditAccountPage","EditPasswordPage","Account","UserProfileTemplateBlock","UserProfileTemplate","LabelTypographyBlock","labelText","stateText","LabelTypography","UserProfileBlock","UserInfoBox","InfoItemWrapper","UserImageWrapper","ProfileSkeleton","UserProfile","Chip","postCount","follower","following","StyledTab","StyledTabs","HorizontalTab","setValue","indicatorColor","textColor","centered","userProfileSaga","READ_PROFILE","READ_PROFILE_SUCCESS","readProfile","unloadProfile","readProfileSaga","UserProfilePage","User","CenterListTemplateBlock","SortingButtonBlock","StyledTextField","CenterListTemplate","centerListSaga","readMoreCentersSaga","centersState","centerList","LoaderBlock","CenterListBlock","CenterList","initialLoading","readMoreLoading","currentPage","moreCentersLoading","CenterListPage","centerSaga","READ_CENTER","READ_CENTER_SUCCESS","READ_CENTER_FAILURE","readCenter","unloadCenter","readCenterSaga","CenterInfoBlock","expand","marginLeft","transitions","duration","shortest","expandOpen","fontWeight","textWrapper","priceList","siteList","memberAvatar","CenterInfo","expanded","setExpanded","contact","sites","site","aria-expanded","Collapse","in","timeout","unmountOnExit","prices","price","period","AvatarGroup","max","CenterViewer","centerId","CenterViewerTemplateBlock","CenterViewerTemplate","CenterPage","Centers","ListBlock","Row","rowRenderer","VirtualizingTest","rowCount","rowHeight","drawer","easing","sharp","leavingScreen","appBarShift","enteringScreen","hide","flexShrink","whiteSpace","drawerOpen","drawerClose","overflowX","toolbar","mixins","SideAppBar","useTheme","CssBaseline","noWrap","direction","ListItemIcon","FormTemplateBlock","OutlinedInput","InputWithLabel","Site","ItemListBlock","ArrayForm","SiteItem","ItemList","ArrayBox","onChangeArray","localTags","setLocalTags","insertTag","filter","t","trim","selectEmpty","PriceForm","Price","PriceListBlock","PriceItem","PriceList","PriceBox","localPrices","setLocalPrices","insertPrice","nextPrices","inputProps","CheckBox","onChangeCheck","bouldering","endurance","lead","speed","outside","handleChange","checked","FormGroup","FormControlLabel","control","Checkbox","BooleanSelectBox","SaveForm","imageSource","time","hasParking","saveCenter","saveCenterRequestSaga","saveCenterSaga","SAVE_CENTER","SAVE_CENTER_SUCCESS","SAVE_CENTER_FAILURE","setLocation","saveCenterRequest","saveAPI","locationDetail","facility","fullAddress","address","extraAddress","addressType","buildingName","PostCode","onSelectLocation","onComplete","rand","round","random","getModalStyle","boxShadow","shadows","PostCodeModal","modalStyle","Modal","aria-labelledby","aria-describedby","LocationSearchForm","LocationSearchContainer","centerInfoObject","DashboardPage","App","ThemeProvider","Boolean","window","hostname","rootSaga","all","rootReducer","combineReducers","sagaMiddleware","createSagaMiddleware","store","createStore","composeWithDevTools","applyMiddleware","run","getItem","loadUser","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"2GAAAA,EAAOC,QAAU,IAA0B,0C,8MCE3C,IAAMC,E,KAAaC,EAAOC,IAAR,KAOHF,O,8ECaAG,IAlBf,SAA2BC,GAAQ,IACvBC,EAAuBD,EAAvBC,GAAOC,EADe,YACCF,EADD,QAGxBG,EAAaC,IAAMC,SACrB,kBACID,IAAME,YAAW,SAACC,EAAWC,GAAZ,OACb,kBAAC,IAAD,eAAMA,IAAKA,EAAKP,GAAIA,GAAQM,SAEpC,CAACN,IAGL,OACI,kBAAC,IAAD,eAAQQ,UAAWN,GAAgBD,GAC7BF,EAAMU,Y,oBCjBpBhB,EAAOC,QAAU,IAA0B,uC,oBCA3CD,EAAOC,QAAU,IAA0B,wC,iJCgB5BgB,EAdDC,YAAe,CACzBC,QAAS,CACLC,QAAS,CACLC,KAAK,WAETC,UAAW,CACPD,KAAK,WAETE,QAAS,CACLF,KAAK,c,2NCkBXJ,EAAQC,YAAe,CAAEM,YAAa,CAAEC,OAPrB,CACrBC,GAAI,EACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,SAGFC,EAAYC,aAAW,SAAAf,GAAK,MAAK,CACnCgB,OAAO,CACHC,WAAY,UACZC,SAAU,SAEdC,WAAW,aACPC,YAAapB,EAAMqB,QAAQ,IAC1BrB,EAAMO,YAAYe,GAAG,MAAQ,CAC1BC,QAAS,SAGjBC,MAAO,CACHC,SAAU,GAEdC,SAAU,CACNN,YAAapB,EAAMqB,QAAQ,GAC3BM,MAAO,SAEXC,KAAM,CACFC,OAAQ7B,EAAMqB,QAAQ,EAAG,GACzBS,eAAgB,OAChBH,MAAO,SAEXI,SAAU,CACNJ,MAAO,QACPG,eAAgB,QAEpBE,SAAS,aACLP,SAAU,GACTzB,EAAMO,YAAY0B,KAAK,MAAQ,CAC5BV,QAAS,aAkLNW,EA5KA,SAAC,GAAwB,IAAtBC,EAAqB,EAArBA,KAAMC,EAAe,EAAfA,SACdC,EAAUvB,EAAUd,GADS,EAETP,IAAM6C,SAAS,CACrCC,KAAK,IAH0B,mBAE5BC,EAF4B,KAErBC,EAFqB,OAKXhD,IAAM6C,UAAS,GALJ,mBAK5BI,EAL4B,KAKtBC,EALsB,KAM7BC,EAAYnD,IAAMoD,OAAO,MAKzBC,EAAc,SAACC,GACbH,EAAUI,SAAWJ,EAAUI,QAAQC,SAASF,EAAMG,SAG1DP,GAAQ,IAGZ,SAASQ,EAAkBJ,GACL,QAAdA,EAAMK,MACNL,EAAMM,iBACNV,GAAQ,IAKhB,IAAMW,EAAW7D,IAAMoD,OAAOH,GAC9BjD,IAAM8D,WAAU,YACa,IAArBD,EAASN,UAA6B,IAATN,GAC7BE,EAAUI,QAAQQ,QAGtBF,EAASN,QAAUN,IACpB,CAACA,IAIJ,IAQiBe,EARXC,EAAe,SAACD,EAAMf,GAAP,OAAgB,SAAAK,IACd,YAAfA,EAAMY,MAAqC,QAAdZ,EAAMK,KAA+B,UAAdL,EAAMK,MAI9DX,EAAS,eAAKD,EAAN,eAAciB,EAAOf,OAwCjC,OACI,oCACI,kBAACkB,EAAA,EAAD,CAAQC,UAAWxB,EAAQrB,QACvB,kBAAC8C,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CACIC,KAAK,QACLH,UAAWxB,EAAQlB,WACnBQ,MAAM,UACNsC,aAAW,OACXC,QAASR,EAAa,OAAO,IAE7B,kBAAC,IAAD,OAEJ,kBAAC,IAAD,CAAMG,UAAWxB,EAAQb,MAAOlC,GAAG,KAC/B,yBAAK6E,IAAKC,IAAKC,IAAI,OAAOC,MAAM,MAAMC,OAAO,QAE7C,yBAAKV,UAAWxB,EAAQL,UACpB,kBAAC,IAAD,CAAM1C,GAAG,WAAWuE,UAAWxB,EAAQT,MAAvC,6BAGA,kBAAC,IAAD,CAAMtC,GAAG,aAAauE,UAAWxB,EAAQT,MAAzC,4BAGA,kBAAC,IAAD,CAAMtC,GAAG,WAAWuE,UAAWxB,EAAQT,MAAvC,6BAGA,kBAAC,IAAD,CAAM4C,QAAQ,SAAS7C,MAAM,UAAUrC,GAAG,UAAUuE,UAAWxB,EAAQT,MAAvE,6BAGA,kBAAC,IAAD,CAAMtC,GAAG,UAAUuE,UAAWxB,EAAQT,MAAtC,uBAKPO,EACG,oCACI,kBAACsC,EAAA,EAAD,CACIZ,UAAWxB,EAAQX,SACnB7B,IAAK+C,EACL8B,gBAAehC,EAAO,sBAAmBiC,EACzCC,gBAAc,OACdV,QApHP,WACjBvB,GAAQ,SAACW,GAAD,OAAeA,OAqHEnB,EAAK0C,UAEV,kBAACC,EAAA,EAAD,CAAQpC,KAAMA,EAAMqC,SAAUnC,EAAUI,QAASgC,UAAML,EAAWM,YAAU,EAACC,eAAa,IACrF,gBAAGC,EAAH,EAAGA,gBAAiBC,EAApB,EAAoBA,UAApB,OACG,kBAACC,EAAA,EAAD,iBACQF,EADR,CAEIG,MAAO,CAAEC,gBAA+B,WAAdH,EAAyB,aAAe,mBAElE,kBAACI,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAmBC,YAAa5C,GAC5B,kBAAC6C,EAAA,EAAD,CAAUC,cAAelD,EAAMmD,GAAG,iBAAiBC,UAAW3C,GAC1D,kBAAC4C,EAAA,EAAD,CAAU7B,QAASpB,GACf,kBAAC,IAAD,CAAM0B,QAAQ,SAASlF,GAAE,gBAAW6C,EAAK0C,UAAYhB,UAAWxB,EAAQN,UAAxE,uBAIJ,kBAACiE,EAAA,EAAD,MACA,kBAACD,EAAA,EAAD,CAAU7B,QAASpB,GACf,kBAAC,IAAD,CAAM0B,QAAQ,SAASlF,GAAG,iBAAiBuE,UAAWxB,EAAQN,UAA9D,YAIJ,kBAACgE,EAAA,EAAD,CAAU7B,QAASpB,GAAnB,cACA,kBAACiD,EAAA,EAAD,CAAU7B,QAASpB,GAAnB,iBAOxB,kBAAC2B,EAAA,EAAD,CAAQ9C,MAAM,YAAY6C,QAAQ,WAAWN,QAAS9B,GAAtD,WAGJ,oCACI,kBAAC,IAAD,CAAmBT,MAAM,YAAY6C,QAAQ,WAAWlF,GAAG,UAA3D,UAGR,kBAAC2G,EAAA,EAAD,CAAQC,OAAO,MAAMxD,KAAMF,EAAMD,IAAK4D,QAASzC,EAAa,OAAO,KArHlED,EAsHa,MArH1B,yBACII,UAAWxB,EAAQ+D,SACnBpB,KAAK,eACLd,QAASR,EAAaD,GAAM,GAC5BqC,UAAWpC,EAAaD,GAAM,IAE9B,kBAAC4C,EAAA,EAAD,CAAMxC,UAAWxB,EAAQiE,MACrB,kBAACC,EAAA,EAAD,CAAUC,QAAM,GACZ,kBAAC,IAAD,CAAMlH,GAAG,YAAT,8BAIJ,kBAACiH,EAAA,EAAD,CAAUC,QAAM,GACZ,kBAAC,IAAD,CAAMlH,GAAG,cAAT,6BAIJ,kBAACiH,EAAA,EAAD,CAAUC,QAAM,GACZ,kBAAC,IAAD,CAAMlH,GAAG,YAAT,8BAIJ,kBAACiH,EAAA,EAAD,CAAUC,QAAM,GACZ,kBAAC,IAAD,CAAMlH,GAAG,WAAT,8BAIJ,kBAACiH,EAAA,EAAD,CAAUC,QAAM,GACZ,kBAAC,IAAD,CAAMlH,GAAG,WAAT,+B,oDCvILmH,E,OAHFC,EAAMC,SCiBNC,EAAM,kBAAIH,EAAOI,IAAI,oBAGrBC,EAAO,kBAAIL,EAAOM,KAAK,qBAKvBC,EAAmB,kBAAKP,EAAOM,KAAK,iCClBpCE,EAAeC,YAPN,yBASlB,SAAAC,GAAW,OAAIA,KAGNC,EAAgBF,YAXP,0BAalB,SAAAC,GAAW,OAAIA,KAmBJE,EAdCC,aAAa,mBAnBP,yBAqBG,SAAC9E,EAAO+E,GAAR,sBACV/E,EADU,eAEZ+E,EAAOC,SAAU,OAJD,cAlBP,0BAwBI,SAAChF,EAAO+E,GAAR,sBACX/E,EADW,eAEb+E,EAAOC,SAAU,OARD,GAFR,IChBRC,GAA2B,SAAA9D,GAGpC,MAAO,CAACA,EAFK,UAAMA,EAAN,YACA,UAAMA,EAAN,cAIF,SAAS+D,GAAkB/D,EAAMgE,GAC5C,IAAMC,EAAO,UAAMjE,EAAN,YACPkE,EAAO,UAAMlE,EAAN,YAEb,iBAAO,WAAU4D,GAAV,uEACH,OADG,SACGO,YAAIb,EAAatD,IADpB,OAImB,OAFtBoE,QAAQC,IAAIT,EAAOC,SAFhB,kBAIyBS,YAAKN,EAASJ,EAAOC,SAJ9C,OAMC,OAFMU,EAJP,OAKCH,QAAQC,IAAIE,GALb,UAMOJ,YAAI,CACNnE,KAAMiE,EACNJ,QAASU,EAASC,KAClBC,KAAMF,IATX,gCAaC,OAbD,0BAYCH,QAAQC,IAAR,MAZD,UAaOF,YAAI,CACNnE,KAAMkE,EACNL,QAAQ,EAAD,GACPa,OAAO,IAhBZ,QAmBH,OAnBG,UAmBGP,YAAIV,EAAczD,IAnBrB,yD,gBCQD2E,I,YA0CAC,I,YAUOC,I,GAhE6Bf,GAC1C,c,qBADGgB,G,MAAOC,G,MAAeC,G,MAOhBC,GAAc1B,YATL,sBASiC,SAAA/E,GAAI,OAAEA,KAChDyE,GAAQM,YAAauB,IACrB3B,GAASI,YALR,eAQd,SAAUoB,GAAUf,GAApB,yEACI,OADJ,SACUO,YAAIb,EAAawB,KAD3B,OAGyB,OAHzB,kBAG+BR,YAAKY,EAAetB,EAAOC,SAH1D,OAIQ,OADMU,EAHd,gBAIcJ,YAAI,CACNnE,KAAM+E,GACNlB,QAASU,EAASC,OAN9B,4DASQJ,QAAQC,IAAR,MACI,KAAEE,SAVd,iBAYY,OAZZ,UAYkBJ,YAAI,CACNnE,KAtBS,0BAuBT6D,QAAQ,EAAD,GACPa,OAAO,IAfvB,gCAqBgB,OAHES,EAAY,KAAEZ,SAASa,OAC7BhB,QAAQiB,IAAI,gBAAgBF,GAnBxC,UAqBsBhB,YAAI,CACNnE,KAAMgF,GACNnB,QAAQ,EAAD,GACPa,OAAO,IAxB3B,QA6BI,OA7BJ,UA6BUP,YAAIV,EAAcqB,KA7B5B,uDAgCA,SAASQ,KACL,IACIC,aAAaC,WAAW,QAC1B,MAAOC,GACLrB,QAAQiB,IAAI,gCAMpB,SAAUT,KAAV,iEAEQ,OAFR,kBAEcN,YAAKY,GAFnB,OAGQK,aAAaC,WAAW,QAHhC,+CAKQpB,QAAQiB,IAAR,MALR,qDAUO,SAAUR,KAAV,iEACH,OADG,SACGa,YAAWZ,GAAOH,IADrB,OAEH,OAFG,SAEGe,YAAWV,GAAeM,IAF7B,OAGH,OAHG,SAGGI,YA/DI,cA+Ded,IAHtB,wCAMP,IAKejB,gBAAa,iBAAC,EA7EP,sBA+EG,SAAC9E,EAAD,OAAmBL,EAAnB,EAAUqF,QAAV,sBACVhF,EADU,CAEbL,YAJgB,YAAC,EAMpBuG,IAAgB,SAAClG,EAAD,OAAmBL,EAAnB,EAAUqF,QAAV,sBACVhF,EADU,CAEbL,OACAmH,WAAY,UATI,YAAC,EAxEJ,2BAmFK,SAAC9G,EAAD,OAAmB6F,EAAnB,EAAUb,QAAV,sBACfhF,EADe,CAElB8G,WAAYjB,OAbI,YAAC,EAepBM,IAAgB,SAACnG,EAAD,OAAmB6F,EAAnB,EAAUb,QAAV,sBACVhF,EADU,CAEbL,KAAM,KACNmH,WAAYjB,OAlBI,YAAC,EAvEf,eA2FI,SAAA7F,GAAK,sBACRA,EADQ,CAEXL,KAAM,UAtBU,GALP,CACjBA,KAAM,KACNmH,WAAY,OClEDC,GATS,WAAO,IACnBpH,EAASqH,aAAY,kBAAe,CAAErH,KAAjB,EAAGA,KAAyBA,SAAjDA,KACFsH,EAAWC,cAIjB,OAAO,kBAAC,EAAD,CAAQvH,KAAMA,EAAMC,SAHV,WACbqH,EAAS3C,U,y0BCFjB,IAAM6C,GAAYzK,KAAOC,IAAR,MAOXyK,GAAW1K,KAAOC,IAAR,MAOY,SAAAE,GAAK,OAAGA,EAAM8E,OAMpC0F,GAAY3K,KAAOC,IAAR,MASX2B,GAAYC,aAAW,SAACf,GAAD,MAAY,CACrC8J,KAAK,CACDC,SAAU,OACVpI,MAAO,aAKA,SAASqI,KACpB,IAAM3H,EAAUvB,KAChB,OACI,kBAAC6I,GAAD,KACI,kBAAC,KAAD,CACIM,yBAA0B,gBAAGC,EAAH,EAAGA,cAAH,OACtB,kBAACL,GAAD,CAAa3F,QAASgG,GAClB,kBAAC,KAAD,CAAcrG,UAAWxB,EAAQyH,SAGzCK,0BAA2B,gBAAGC,EAAH,EAAGA,UAAH,OACvB,kBAACP,GAAD,CAAa3F,QAASkG,GAClB,kBAAC,KAAD,CAAiBvG,UAAWxB,EAAQyH,UAK5C,kBAACF,GAAD,CAAYzF,IAAKkG,KAAYhG,IAAI,eACjC,kBAACuF,GAAD,CAAYzF,IAAKmG,KAAYjG,IAAI,iB,sYC3DjD,IAAMkG,GAAkBrL,KAAOC,IAAR,MAYjBqL,GAAOtL,KAAOC,IAAR,MAIG,SAASsL,GAAT,GAAkC,IAAX1K,EAAU,EAAVA,SAClC,OACI,oCACI,kBAACwK,GAAD,KACKxK,EACD,kBAACyK,GAAD,Q,0lCCrBhB,IAAME,GAAiBxL,KAAOC,IAAR,MAQhBwL,GAAezL,KAAOC,IAAR,MAUdyL,GAAW1L,KAAOC,IAAR,MAYV+C,GAAOhD,KAAO2L,GAAR,MAMG,SAASC,GAAT,GAA8C,IAAlB/K,EAAiB,EAAjBA,SAAUgL,EAAO,EAAPA,MACjD,OACI,kBAACL,GAAD,KACI,kBAAC,GAAD,KACKK,GAEL,kBAACJ,GAAD,KACI,kBAACC,GAAD,KACK7K,K,2BC7CRiL,GAAY,SAAC,GAA0B,IAAzBC,EAAwB,EAAxBA,KAAMC,EAAkB,EAAlBA,KAAMC,EAAY,EAAZA,QAC7BC,EAAcC,KAAGC,UAAU,CAC7BL,OACAC,OACAC,YAEJ,OAAO1E,EAAOI,IAAP,uBAA2BuE,KCLzBG,GAAY,SAAC,GAAkB,IAAjBC,EAAgB,EAAhBA,WACvBzD,QAAQC,IAAIwD,GAEZ,IAAMC,EAAS,IAAIC,SAGnB,OAFAD,EAASE,OAAO,MAAOH,GAEhB/E,EAAOM,KAAK,8BAA+B0E,IAIzCG,GAAU,SAAC,GAAD,IAAEC,EAAF,EAAEA,WAAYC,EAAd,EAAcA,KAAMC,EAApB,EAAoBA,KAAMC,EAA1B,EAA0BA,UAAWC,EAArC,EAAqCA,SAArC,OACnBxF,EAAOM,KAAK,sBAAuB,CAAC8E,aAAYC,OAAMC,OAAMC,YAAWC,cAE9DC,GAAa,SAAC,GAAD,IAAEC,EAAF,EAAEA,OAAQC,EAAV,EAAUA,QAAV,OACtB3F,EAAOM,KAAP,yBAA8BoF,EAA9B,YAAgD,CAACC,aAGxCC,GAAU,SAAC,GAAoC,IAAnCpB,EAAkC,EAAlCA,KAAMpG,EAA4B,EAA5BA,SAAUyH,EAAkB,EAAlBA,IAAKL,EAAa,EAAbA,SACpCb,EAAcC,KAAGC,UAAU,CAC7BL,OACApG,WACAyH,MACAL,aAGJ,OADAlE,QAAQiB,IAAIoC,GACL3E,EAAOI,IAAP,yBAA6BuE,K,YCIvBmB,I,GArBf9E,GAAyB,qB,qBAHvB+E,G,MACAC,G,MACAC,G,SAOFjF,GAAyB,mB,qBAHvBkF,G,MACAC,G,MACAC,G,MAGS7B,GAAY9D,YACrBsF,IACA,kBAA4B,CAACtB,KAA7B,EAAEA,KAAiCC,QAAnC,EAAQA,QAAoCF,KAA5C,EAAiBA,SAGRoB,GAAUnF,YACnByF,IACA,kBAAgC,CAACL,IAAjC,EAAEA,IAAoCzH,SAAtC,EAAOA,SAAyCoH,SAAhD,EAAiBA,aAGfa,GAAgBpF,GAAkB8E,GAAcO,IAChDC,GAActF,GAAkBiF,GAAYM,IAE3C,SAAUV,KAAV,iEACH,OADG,SACGlD,YAAWmD,GAAcM,IAD5B,OAEH,OAFG,SAEGzD,YAAWsD,GAAYK,IAF1B,wCAKP,IAgCeE,GAtBJ5F,aAAa,kBAAC,GAEhBmF,IAAuB,SAACjK,EAAD,OAAkB2K,EAAlB,EAAS3F,QAAT,sBACjBhF,EADiB,CAEpB2K,eAJY,YAAC,GAMhBT,IAAuB,SAAClK,EAAD,OAAkB6F,EAAlB,EAASb,QAAT,sBACjBhF,EADiB,CAEpB6F,aARY,YAAC,GAUhBuE,IAAqB,SAACpK,EAAD,OAAkB4K,EAAlB,EAAS5F,QAAT,sBACfhF,EADe,CAElB4K,aAZY,YAAC,GAchBP,IAAqB,SAACrK,EAAD,OAAkB6F,EAAlB,EAASb,QAAT,sBACfhF,EADe,CAElB6F,aAhBY,IAVL,CACf6C,KAAM,KACNC,QAAS,KACTgC,QAAS,KACTC,MAAO,KACPC,OAAQ,KACRC,MAAO,KACPC,YAAa,KACbC,WAAY,O,mVC5ChB,IAAM5D,GAAW1K,KAAOC,IAAR,MAGY,SAAAE,GAAK,OAAGA,EAAM8E,OAmE3BsJ,GA3DG,SAAC,GAAkB,IAAhBtJ,EAAe,EAAfA,IAAKE,EAAU,EAAVA,IAAU,EACA/B,mBAHhC,sHAEgC,mBACzBoL,EADyB,KACfC,EADe,OAEArL,qBAFA,mBAEzBsL,EAFyB,KAEfC,EAFe,KAiDhC,OArCAtK,qBAAU,WACN,IAAIuK,EACAC,GAAY,EA2BhB,OAzBIH,GAAYF,IAAavJ,IACrB6J,sBACAF,EAAW,IAAIE,sBACX,SAAAC,GACIA,EAAQC,SAAQ,SAAAC,IAEPJ,IACAI,EAAMC,kBAAoB,GAAKD,EAAME,kBAEtCV,EAAYxJ,GACZ2J,EAASQ,UAAUV,SAI/B,CACIW,UAAW,IACXC,WAAY,SAGXC,QAAQb,GAGjBD,EAAYxJ,IAGb,WACH4J,GAAY,EAERD,GAAYA,EAASQ,WACrBR,EAASQ,UAAUV,MAG5B,CAACzJ,EAAKuJ,EAAUE,IAEf,kBAAC,GAAD,CACI/N,IAAKgO,EACL1J,IAAKuJ,EACLrJ,IAAKA,EACLqK,OAlDO,SAAA3L,GACXA,EAAMG,OAAOyL,UAAUC,IAAI,WAkDvBC,QA/CQ,SAAA9L,GACZA,EAAMG,OAAOyL,UAAUC,IAAI,iBCZ7B9N,GAAYC,aAAW,SAACf,GAAD,MAAY,CACrC8O,KAAM,CACF5N,SAAU,WACVD,WAAY,WACZ8N,YAAa,QAEjBC,IAAK,CACD/N,WAAY,UACZgO,aAAc,OACdC,OAAQ,oBAERrN,OAAQ,MACRsN,SAAU,MACVC,QAAS,OAEbC,YAAa,CACTJ,aAAc,OACdhO,WAAY,UACZiO,OAAQ,qBAEZI,OAAQ,CACJC,UAAW,SACXrO,SAAU,WACVsO,OAAQ,EACRC,KAAM,EACNC,MAAO,GAEX5F,KAAK,CACDC,SAAU,OACVpI,MAAO,SAEXgO,YAAY,CACRzO,SAAU,WACV+N,aAAc,MACdW,gBAAiB,uBACjBrL,OAAQ,OACRD,MAAO,OACP/C,QAAS,OACTsO,eAAgB,SAChBC,WAAY,SACZZ,OAAQ,2BACR3M,IAAK,MACLwN,UAAW,mBACXC,OAAQ,GAEZC,WAAY,CACRP,MAAO,GAEXQ,WAAY,CACRT,KAAM,OAIRU,GAAiB,SAAC,GAAD,IAAE9N,EAAF,EAAEA,QAAF,OACnB,kBAAC,KAAD,CAAYwB,UAAWuM,mBAAK/N,EAAQsN,YAAatN,EAAQ4N,aACrD,kBAAC,KAAD,CAAiBpM,UAAWxB,EAAQyH,SAGtCuG,GAAgB,SAAC,GAAD,IAAEhO,EAAF,EAAEA,QAAF,OAClB,kBAAC,KAAD,CAAYwB,UAAWuM,mBAAK/N,EAAQsN,YAAatN,EAAQ6N,aACrD,kBAAC,KAAD,CAAcrM,UAAWxB,EAAQyH,SAIzC,SAASwG,GAAT,GAAwD,IAAvBzE,EAAsB,EAAtBA,WAAYxJ,EAAU,EAAVA,QACnCkO,EAAkBC,qBAAWC,MADgB,EAEXnO,mBAASiO,EAAgB/N,MAAMkO,cAFpB,mBAE5CA,EAF4C,KAE9BC,EAF8B,KAGnDpN,qBAAU,WACN,SAASqN,IACLD,EAAgBJ,EAAgB/N,MAAMkO,cAG1C,OADAH,EAAgBM,UAAUD,GACnB,kBAAML,EAAgBO,YAAYF,MAC1C,CAACL,IACJ,IAAMQ,EAAclF,EAAWmF,KAAI,SAACC,EAAOC,GAAR,OAC/BA,IAAQR,EACJ,kBAAC,KAAD,CAAKtN,IAAK8N,EAAOrN,UAAWxB,EAAQgN,YAAa8B,MAAOD,IAExD,kBAAC,KAAD,CAAK9N,IAAK8N,EAAOrN,UAAWxB,EAAQ2M,IAAKmC,MAAOD,OAqBxD,OACI,oCACI,yBAAKrN,UAAWxB,EAAQiN,QAASyB,GACjC,mBArBW,WACf,OAAkB,IAAfL,EAEK,kBAAC,GAAD,CAAkBrO,QAASA,IAE1BqO,IAAe7E,EAAWuF,OAAO,EAElC,kBAAC,GAAD,CAAiB/O,QAASA,IAI1B,oCACI,kBAAC,GAAD,CAAiBA,QAASA,IAC1B,kBAAC,GAAD,CAAkBA,QAASA,OAQnC,OAIZ,SAASgP,GAAT,GAAwC,IAAhBtR,EAAe,EAAfA,SAAUT,EAAK,EAALA,GAC9B,OAASA,EACD,kBAAC,IAAD,CAAMA,GAAIA,GACLS,GAGL,oCAAGA,GAGA,SAASuR,GAAT,GAAqC,IAAlBzF,EAAiB,EAAjBA,WAAYvM,EAAK,EAALA,GAEpC+C,EAAUvB,KACVyQ,EAAM1F,EAAWuF,OACvB,OACI,yBAAKvN,UAAWxB,EAAQyM,MACpB,kBAAC,KAAD,CACI0C,kBAAmB,IACnBC,mBAAoB,GACpBC,YAAaH,EACbI,aAAa,EACbC,WAAW,EACXC,SAAU,KAEV,kBAACR,GAAD,CAAe/R,GAAIA,GACf,kBAAC,KAAD,KAEQuM,EAAWmF,KAAI,SAACC,EAAOC,GAAR,OACX,kBAAC,KAAD,CAAOA,MAAOA,EAAO9N,IAAK8N,GACtB,kBAAC,GAAD,CAAW/M,IAAK8M,UAMnCpF,EAAWuF,OAAO,GAAK,kBAACd,GAAD,CAAwBzE,WAAYA,EAAYxJ,QAASA,M,gjCCxIjG,IAAMyP,GAAUC,aAAD,MACT,SAAA1S,GAAK,OACHA,EAAM2S,eACND,aADA,SAeFE,IAPW/S,aAAOgT,KAAPhT,CAAD,KAKV4S,IAEM5S,KAAO2L,GAAR,OAQLsH,GAAQjT,KAAOC,IAAR,MAIPiT,GAAclT,KAAOC,IAAR,MAWb2B,GAAYC,aAAW,SAACf,GAAD,MAAY,CACrC8O,KAAM,CACFuD,KAAK,EACL9Q,QAAS,OACT+Q,cAAe,SACf/N,OAAQ,QAGZgO,YAAY,aACRrD,OAAQ,YACRsD,iBAAkB,EAClBC,YAAa,qDACbC,iBAAkB,OACjB1S,EAAMO,YAAY0B,KAAK,MAAQ,CAC5BiN,OAAQ,YACRsD,iBAAkB,EAClBC,YAAa,qDACbC,iBAAkB,QAG1BC,QAAQ,aACJN,KAAM,EACN9Q,QAAS,OACT+Q,cAAe,SACfM,YAAa,OACbC,QAAS,GAER7S,EAAMO,YAAY0B,KAAK,MAAQ,CAC5B6Q,UAAW,UAGnBlR,KAAM,CACFE,eAAgB,OAChBH,MAAO,QACP0Q,KAAM,EACN9Q,QAAS,OACTwR,SAAU,UAEdC,SAAU,CACNzR,QAAS,OAETL,SAAU,YAEd4I,KAAM,CACF+I,QAAS,GAEbI,MAAO,CACH/R,SAAU,WACVwO,MAAO,IAEXwD,OAAO,eACFlT,EAAMO,YAAY0B,KAAK,MAAQ,QAiDzBkR,gBA1CG,SAAC,GAAsC,IAArCC,EAAoC,EAApCA,OAAiBpB,GAAmB,EAA5BqB,QAA4B,EAAnBrB,eAC3B3P,EAAUvB,KACVwS,EAASF,EAAOG,eAEtB,OACI,oCACI,kBAACrB,GAAA,EAAD,CAAMrO,UAAWmO,EAAe5B,mBAAK/N,EAAQyM,KAAMzM,EAAQkQ,aAAelQ,EAAQyM,MAE5EsE,EAAOvH,WAAWuF,OAAS,GACzB,kBAACE,GAAD,CACIzF,WAAYuH,EAAOvH,WACnBrK,MAAM,cACNlC,GAAE,mBAAc8T,EAAOI,OAI/B,kBAAC,IAAD,CAAMlU,GAAE,mBAAc8T,EAAOI,KAAO3P,UAAWxB,EAAQT,MACnD,kBAAC6R,GAAA,EAAD,CAAa5P,UAAWxB,EAAQsQ,SAC5B,kBAACP,GAAD,KACI,kBAACH,GAAD,KACKmB,EAAO5R,OAEZ,kBAACkS,GAAA,EAAD,CAAQ7P,UAAWxB,EAAQ6Q,OAAQS,KAAK,aAAaC,aAAc,EAAGC,KAAK,WAE/E,kBAAC1B,GAAD,KACKmB,EAASpI,KADd,IACqBoI,EAASnI,QAD9B,IACwCmI,EAASQ,SAIzD,kBAACC,GAAA,EAAD,CAAalQ,UAAWxB,EAAQ2Q,UAC5B,kBAACjP,EAAA,EAAD,CAAYF,UAAWxB,EAAQyH,KAAM7F,aAAW,oBAC5C,kBAAC,KAAD,OAEJ,kBAACF,EAAA,EAAD,CAAYF,UAAWxB,EAAQyH,KAAM7F,aAAW,SAC5C,kBAAC,KAAD,OAEJ,kBAAC+P,GAAA,EAAD,CAAOrS,MAAM,YAAYsS,aAAc,QAAShQ,aAAW,MAAMJ,UAAWxB,EAAQ4Q,c,gSCtIxG,IAAMb,GAAclT,KAAOC,IAAR,MAWb2B,GAAYC,aAAW,SAACf,GAAD,MAAY,CACrC8O,KAAM,CACFuD,KAAK,EACL9Q,QAAS,OACT+Q,cAAe,SACfpD,OAAQ,YACRsD,iBAAkB,EAClBC,YAAa,uDACbC,iBAAkB,MAElBnO,OAAQ,QAEZoO,QAAQ,aACJN,KAAM,EACN9Q,QAAS,OACT+Q,cAAe,SACfM,YAAa,OACbC,QAAS,GACR7S,EAAMO,YAAY0B,KAAK,MAAQ,CAC5B6Q,UAAW,UAGnBE,SAAU,CACNzR,QAAS,OAETL,SAAU,YAEd4I,KAAM,CACF+I,QAAS,GAEbI,MAAO,CACH/R,SAAU,WACVwO,MAAO,IAEXwD,OAAO,eACFlT,EAAMO,YAAY0B,KAAK,MAAQ,QAmCzBiS,GA5BW,WACtB,IAAM7R,EAAUvB,KAChB,OACI,oCACI,kBAACoR,GAAA,EAAD,CAAMrO,UAAWxB,EAAQyM,MACrB,kBAACqF,GAAA,EAAD,CAAUC,UAAU,OAAO5P,QAAQ,OAAOF,MAAM,OAAOC,OAAO,QAC9D,kBAACkP,GAAA,EAAD,CAAa5P,UAAWxB,EAAQsQ,SAC5B,kBAAC,GAAD,KACI,kBAACwB,GAAA,EAAD,MACA,kBAACT,GAAA,EAAD,CAAQ7P,UAAWxB,EAAQ6Q,OAAQS,KAAK,aAAaC,aAAc,EAAGC,KAAK,WAE/E,kBAACM,GAAA,EAAD,CAAU7P,MAAM,QAChB,kBAAC6P,GAAA,EAAD,CAAU7P,MAAM,SAGpB,kBAACyP,GAAA,EAAD,CAAalQ,UAAWxB,EAAQ2Q,UAC5B,kBAACjP,EAAA,EAAD,CAAYF,UAAWxB,EAAQyH,KAAM7F,aAAW,oBAC5C,kBAAC,KAAD,OAEJ,kBAACF,EAAA,EAAD,CAAYF,UAAWxB,EAAQyH,KAAM7F,aAAW,SAC5C,kBAAC,KAAD,OAEJ,kBAAC+P,GAAA,EAAD,CAAOrS,MAAM,YAAYsS,aAAc,QAAShQ,aAAW,MAAMJ,UAAWxB,EAAQ4Q,Y,gJC5ExG,IAAMoB,GAAQnV,KAAOC,IAAR,MAKP2B,GAAYC,aAAW,SAACf,GAAD,MAAY,CACrC8O,KAAM,CACF5N,SAAU,WAEVoD,MAAO,QAGX0K,IAAK,CACD/N,WAAY,UAEZiO,OAAQ,oBAERrN,OAAQ,OAEZwN,YAAa,CACTpO,WAAY,UACZiO,OAAQ,oBACRrN,OAAQ,OAEZyN,OAAQ,CACJC,UAAW,UAGfzF,KAAK,CACDC,SAAU,OACVpI,MAAO,SAGXgO,YAAY,CACRzO,SAAU,WACV+N,aAAc,MACdW,gBAAiB,uBACjBrL,OAAQ,OACRD,MAAO,OACP/C,QAAS,OACTsO,eAAgB,SAChBC,WAAY,SACZZ,OAAQ,2BACR3M,IAAK,MACLwN,UAAW,oBAEfE,WAAW,aACPP,OAAQ,IACP1P,EAAMO,YAAY0B,KAAK,MAAQ,CAC5ByN,OAAQ,KAGhBQ,WAAW,aACPT,MAAO,IACNzP,EAAMO,YAAY0B,KAAK,MAAQ,CAC5BwN,MAAO,SAKbU,GAAiB,SAAC,GAAD,IAAE9N,EAAF,EAAEA,QAAF,OACnB,kBAAC,KAAD,CAAYwB,UAAWuM,mBAAK/N,EAAQsN,YAAatN,EAAQ4N,aACrD,kBAAC,KAAD,CAAiBpM,UAAWxB,EAAQyH,SAGtCuG,GAAgB,SAAC,GAAD,IAAEhO,EAAF,EAAEA,QAAF,OAClB,kBAAC,KAAD,CAAYwB,UAAWuM,mBAAK/N,EAAQsN,YAAatN,EAAQ6N,aACrD,kBAAC,KAAD,CAAcrM,UAAWxB,EAAQyH,SAIzC,SAASwG,GAAT,GAAmF,IAAlDnD,EAAiD,EAAjDA,QAAS9K,EAAwC,EAAxCA,QAASiS,EAA+B,EAA/BA,QAASrJ,EAAsB,EAAtBA,KAAMsJ,EAAgB,EAAhBA,cACxDhE,EAAkBC,qBAAWC,MAD2C,EAEtCnO,mBAASiO,EAAgB/N,MAAMkO,cAFO,mBAEvEA,EAFuE,KAEzDC,EAFyD,KAG9EpN,qBAAU,WACN,SAASqN,IACLD,EAAgBJ,EAAgB/N,MAAMkO,cAG1C,OADAH,EAAgBM,UAAUD,GACnB,kBAAML,EAAgBO,YAAYF,MAC1C,CAACL,IAIJ,IAFA,IAAMiE,EAAW,GAETC,EAAE,EAAGA,EAAExJ,EAAMwJ,IAEbD,EAAWC,GADZA,IAAMxJ,EAAK,EACIsJ,EAAcE,EAEdF,EAAcE,GAAIF,EAActJ,EAAMkC,EAAQiE,QAGpE,IAAML,EAAcyD,EAAWxD,KAAI,SAACG,EAAOD,GAAR,OAC/BC,IAAQT,EACA,kBAAC,KAAD,CAAKtN,IAAK8N,EAAOrN,UAAWxB,EAAQgN,YAAa8B,MAAOA,IAExD,kBAAC,KAAD,CAAK/N,IAAK8N,EAAOrN,UAAWxB,EAAQ2M,IAAKmC,MAAOA,OAuB5D,OACI,oCACI,yBAAKtN,UAAWxB,EAAQiN,QAASyB,IAC/BuD,GAAW,mBArBF,WACf,OAAkB,IAAf5D,EAEK,kBAAC,GAAD,CAAkBrO,QAASA,IAE1BqO,GAAcvD,EAAQiE,OAAOmD,GAAe7D,IAAevD,EAAQiE,OAAO,EAE3E,kBAAC,GAAD,CAAiB/O,QAASA,IAI1B,oCACI,kBAAC,GAAD,CAAiBA,QAASA,IAC1B,kBAAC,GAAD,CAAkBA,QAASA,OAQtB,OAKV,SAASqS,GAAT,GAA6C,IAApBvH,EAAmB,EAAnBA,QAAS9F,EAAU,EAAVA,QACvChF,EAAUvB,KACV6T,EAAUC,aAAc,qBACxBN,EAAUM,aAAc,qBACxBC,EAASD,aAAc,sBAJ0B,EAOZlV,mBAAQ,WAC/C,IAAM6U,EAAeD,EAAU,EAAKK,EAAU,EAAK,EACnD,GAAGxH,EAAQ,CACP,IAAM2H,EAAW3H,EAAQiE,OAGzB,MAAO,CAAC0D,aAAYP,gBAAetJ,KADxB8J,KAAKC,KAAKF,EAAWP,IAGhC,MAAO,CAAC,WAAc,EAAGA,gBAAe,KAAO,KAEpD,CAACpH,EAASwH,EAASL,EAASO,IAVvBC,EAP+C,EAO/CA,WAAYP,EAPmC,EAOnCA,cAAetJ,EAPoB,EAOpBA,KAanC,OACI,yBAAKpH,UAAWxB,EAAQyM,MACpB,kBAAC,KAAD,CACI0C,kBAAmB,IACnBC,mBAAoBoD,EAAS,IAAOP,EAAS,IAAM,IACnD5C,YAAaoD,EACbP,cAAeA,EACfU,KAAMV,EACNW,SAAUX,EACV5C,aAAa,GAEb,kBAAC,KAAD,MACMtK,IAAY8F,IA3BhB,CAAC,EAAG,EAAG,EAAG,GA2B4B6D,KAAI,SAACoC,EAAQlC,GAAT,OACpC,kBAAC,KAAD,CAAO9N,IAAK8N,GACR,kBAACmD,GAAD,KACI,kBAAC,GAAD,CAAoBjB,OAAQA,UAItC/L,GAAW8F,GAAWA,EAAQ6D,KAAI,SAACoC,EAAQlC,GAAT,OAChC,kBAAC,KAAD,CAAOA,MAAOA,EAAO9N,IAAK8N,GACtB,kBAACmD,GAAD,KACI,kBAAC,GAAD,CAAYjB,OAAQA,WAKjC/L,GAAW8F,GAAWA,EAAQiE,OAAO,GACpC,kBAAC,GAAD,CAAwBjE,QAASA,EAAS9K,QAASA,EAASiS,QAASA,EAASrJ,KAAMA,EAAMsJ,cAAeA,MCtL7H,IA8BeY,GA9Bc,WACzB,IAAM1L,EAASC,cADe,EAGwBF,aAClD,gBAAG0D,EAAH,EAAGA,KAAM7F,EAAT,EAASA,QAAT,MAAuB,CACnB8F,QAASD,EAAKC,QACd9E,MAAO6E,EAAKK,YACZrC,KAAMgC,EAAKhC,KACXC,QAAS+B,EAAK/B,QACdiK,eAAgB/N,EAAQ,yBANzB8F,EAHuB,EAGvBA,QAAS9E,EAHc,EAGdA,MAAO+M,EAHO,EAGPA,eAAgBlK,EAHT,EAGSA,KAAMC,EAHf,EAGeA,QAgB7C,OANA5H,qBAAU,WACN,IAAM0H,EAAKoK,SAAU,IAAK,IAC1B5L,EAASuB,GAAY,CAACE,OAAMC,UAASF,YACtC,CAACxB,IAIA,oCACI,kBAACiL,GAAD,CACIrN,QAAS+N,EACT/M,MAAOA,EACP8E,QAASA,M,8UC1BzB,IAAMmI,GAAcpW,KAAOC,IAAR,MAUboW,GAASrW,KAAOsW,EAAR,MAGC,SAASC,GAAT,GAA0B,IAAPtT,EAAM,EAANA,KAC9B,OACI,kBAACmT,GAAD,KACI,kBAACI,GAAA,EAAD,MACA,kBAACH,GAAD,KAAWpT,EAAK0C,W,+yBChB5B,IAAM8Q,GAAkBzW,KAAOC,IAAR,MAsBjByW,IAbU1W,KAAOC,IAAR,MAGa,SAAAE,GAAK,OAAGA,EAAM8E,OAU3BjF,KAAOC,IAAR,OASC,SAAS0W,GAAT,GAA0B,IAAP9O,EAAM,EAANA,KAC9B,OACI,kBAAC4O,GAAD,KACI,kBAAC,GAAD,CAAWxR,IAAK4C,EAAK8E,WAAW,KAChC,kBAAC+J,GAAD,KAAU,kBAACH,GAAD,CAAUtT,KAAM4E,EAAK5E,S,gJCzB3C,IAAMkS,GAAQnV,KAAOC,IAAR,MAKP2B,GAAYC,aAAW,SAACf,GAAD,MAAY,CACrC8O,KAAM,CACF5N,SAAU,WAEVoD,MAAO,QAGX0K,IAAK,CACD/N,WAAY,UAEZiO,OAAQ,oBAERrN,OAAQ,OAEZwN,YAAa,CACTpO,WAAY,UACZiO,OAAQ,oBACRrN,OAAQ,OAEZyN,OAAQ,CACJC,UAAW,UAGfzF,KAAK,CACDC,SAAU,OACVpI,MAAO,SAGXgO,YAAY,CACRzO,SAAU,WACV+N,aAAc,MACdW,gBAAiB,uBACjBrL,OAAQ,OACRD,MAAO,OACP/C,QAAS,OACTsO,eAAgB,SAChBC,WAAY,SACZZ,OAAQ,2BACR3M,IAAK,MACLwN,UAAW,oBAEfE,WAAW,aACPP,OAAQ,IACP1P,EAAMO,YAAY0B,KAAK,MAAQ,CAC5ByN,OAAQ,KAGhBQ,WAAW,aACPT,MAAO,IACNzP,EAAMO,YAAY0B,KAAK,MAAQ,CAC5BwN,MAAO,SAKbU,GAAiB,SAAC,GAAD,IAAE9N,EAAF,EAAEA,QAAF,OACnB,kBAAC,KAAD,CAAYwB,UAAWuM,mBAAK/N,EAAQsN,YAAatN,EAAQ4N,aACrD,kBAAC,KAAD,CAAiBpM,UAAWxB,EAAQyH,SAGtCuG,GAAgB,SAAC,GAAD,IAAEhO,EAAF,EAAEA,QAAF,OAClB,kBAAC,KAAD,CAAYwB,UAAWuM,mBAAK/N,EAAQsN,YAAatN,EAAQ6N,aACrD,kBAAC,KAAD,CAAcrM,UAAWxB,EAAQyH,SAIzC,SAASwG,GAAT,GAAiF,IAAhDlD,EAA+C,EAA/CA,MAAO/K,EAAwC,EAAxCA,QAASiS,EAA+B,EAA/BA,QAASrJ,EAAsB,EAAtBA,KAAMsJ,EAAgB,EAAhBA,cACtDhE,EAAkBC,qBAAWC,MADyC,EAEpCnO,mBAASiO,EAAgB/N,MAAMkO,cAFK,mBAErEA,EAFqE,KAEvDC,EAFuD,KAG5EpN,qBAAU,WACN,SAASqN,IACLD,EAAgBJ,EAAgB/N,MAAMkO,cAG1C,OADAH,EAAgBM,UAAUD,GACnB,kBAAML,EAAgBO,YAAYF,MAC1C,CAACL,IAIJ,IAFA,IAAMiE,EAAW,GAETC,EAAE,EAAGA,EAAExJ,EAAMwJ,IAEbD,EAAWC,GADZA,IAAMxJ,EAAK,EACIsJ,EAAcE,EAEdF,EAAcE,GAAIF,EAActJ,EAAMmC,EAAMgE,QAGlE,IAAML,EAAcyD,EAAWxD,KAAI,SAACG,EAAOD,GAAR,OAC/BC,IAAQT,EACA,kBAAC,KAAD,CAAKtN,IAAK8N,EAAOrN,UAAWxB,EAAQgN,YAAa8B,MAAOA,IAExD,kBAAC,KAAD,CAAK/N,IAAK8N,EAAOrN,UAAWxB,EAAQ2M,IAAKmC,MAAOA,OAuB5D,OACI,oCACI,yBAAKtN,UAAWxB,EAAQiN,QAASyB,IAC/BuD,GAAW,mBArBF,WACf,OAAkB,IAAf5D,EAEK,kBAAC,GAAD,CAAkBrO,QAASA,IAE1BqO,GAActD,EAAMgE,OAAOmD,GAAe7D,IAAetD,EAAMgE,OAAO,EAEvE,kBAAC,GAAD,CAAiB/O,QAASA,IAI1B,oCACI,kBAAC,GAAD,CAAiBA,QAASA,IAC1B,kBAAC,GAAD,CAAkBA,QAASA,OAQtB,OAKV,SAASyT,GAAT,GAAyC,IAAlB1I,EAAiB,EAAjBA,MAAO/F,EAAU,EAAVA,QACnChF,EAAUvB,KACV6T,EAAUC,aAAc,qBACxBN,EAAUM,aAAc,qBACxBC,EAASD,aAAc,sBAJsB,EAORlV,mBAAQ,WAC/C,IAAM6U,EAAeD,EAAU,EAAKK,EAAU,EAAK,EACnD,GAAGvH,EAAM,CACL,IAAM0H,EAAW1H,EAAMgE,OAGvB,MAAO,CAAC0D,aAAYP,gBAAetJ,KADxB8J,KAAKC,KAAKF,EAAWP,IAGhC,MAAO,CAAC,WAAc,EAAGA,gBAAe,KAAO,KAEpD,CAACnH,EAAOuH,EAASL,EAASO,IAVrBC,EAP2C,EAO3CA,WAAYP,EAP+B,EAO/BA,cAAetJ,EAPgB,EAOhBA,KAanC,OACI,yBAAKpH,UAAWxB,EAAQyM,MACpB,kBAAC,KAAD,CACI0C,kBAAmB,IACnBC,mBAAoBoD,EAAS,IAAOP,EAAS,IAAM,IACnD5C,YAAaoD,EACbP,cAAeA,EACfU,KAAMV,EACNW,SAAUX,EACV5C,aAAa,GAEb,kBAAC,KAAD,MACMtK,IAAY+F,IA3BhB,CAAC,EAAG,EAAG,EAAG,GA2B0B4D,KAAI,SAACoC,EAAQlC,GAAT,OAClC,kBAAC,KAAD,CAAO9N,IAAK8N,GACR,kBAAC,GAAD,KACI,kBAAC,GAAD,CAAoBkC,OAAQA,UAItC/L,GAAW+F,GAASA,EAAM4D,KAAI,SAACjK,EAAMmK,GAAP,OAC5B,kBAAC,KAAD,CAAOA,MAAOA,EAAO9N,IAAK8N,GACtB,kBAAC,GAAD,KACI,kBAAC2E,GAAD,CAAU9O,KAAMA,WAK7BM,GAAW+F,GAASA,EAAMgE,OAAO,GAChC,kBAAC,GAAD,CAAwBhE,MAAOA,EAAO/K,QAASA,EAASiS,QAASA,EAASrJ,KAAMA,EAAMsJ,cAAeA,MCrLzH,IA4BewB,GA5BY,WACvB,IAAMtM,EAASC,cADa,EAGOF,aAC/B,gBAAG0D,EAAH,EAAGA,KAAM7F,EAAT,EAASA,QAAT,MAAuB,CACnB+F,MAAOF,EAAKE,MACZ/E,MAAO6E,EAAKM,WACZwI,aAAc3O,EAAQ,uBAJvB+F,EAHqB,EAGrBA,MAAO/E,EAHc,EAGdA,MAAO2N,EAHO,EAGPA,aAcrB,OANAzS,qBAAU,WAENkG,EAAS4C,GAAU,CAACC,IADY,GAAzBA,IACkBzH,SADO,GAApBA,SACuBoH,SADH,GAAVA,cAEvB,CAACxC,IAIA,oCACI,kBAACqM,GAAD,CACIzO,QAAS2O,EACT3N,MAAOA,EACP+E,MAAOA,MCJR6I,GAlBA,WACX,OACI,oCACI,kBAAC,GAAD,MACA,kBAACxL,GAAD,KACI,kBAACT,GAAD,MACA,kBAACc,GAAD,CAAmBC,MAAM,sDACrB,kBAAC,GAAD,OAEJ,kBAACD,GAAD,CAAmBC,MAAM,6BACrB,kBAAC,GAAD,U,k3BCRpB,I,GAAMmL,GAAkBhX,KAAOC,IAAR,MAqBjBgX,GAASjX,aAAOkX,KAAPlX,CAAD,MAsBCmX,GAXI,SAAC,GAAgB,IAAdtW,EAAa,EAAbA,SAClB,OACI,kBAACmW,GAAD,KACI,kBAAC,IAAD,CAAM5W,GAAG,KAAI,yBAAK6E,IAAKmS,IAAMzS,UAAU,YAAYQ,IAAI,UACvD,kBAAC8R,GAAD,CAAUhH,SAAS,MACdpP,K,qBCyBAwW,I,GA5DwD9O,GACrE,uB,qBADG+O,G,MAAgBC,G,MAAwBC,G,SAIWjP,GACtD,kB,qBADGkP,G,sBAMsDlP,GACzD,oB,qBADGmP,G,MAAYC,G,gBAIoCpP,GACnD,kB,qBADGqP,G,MAAUC,G,MAAkBC,G,SAIWvP,GAC1C,c,qBADGwP,G,MAAOC,G,MAAeC,G,MAKhBC,GAAclQ,YA1BR,qBA4Bf,kBAAyB,CACrBmQ,KADJ,EAAGA,KAECjU,IAFJ,EAASA,IAGLkU,MAHJ,EAAcA,UAOLC,GAAiBrQ,YAlCR,wBAkCsC,SAAAmQ,GAAI,OAAIA,KAEvDG,GAActQ,YAAasP,IAAgB,SAAA3R,GAAQ,OAAIA,KAEvD4S,GAAavQ,YAAayP,IAE1Be,GAAaxQ,YA9BR,kBAgCLyQ,GAAmBzQ,YAAa0P,IAAY,SAAAgB,GAAK,OAAIA,KAErDC,GAAW3Q,YAAa4P,IAAU,kBAA0D,CACrGc,MAD2C,EAAGA,MAE9C/S,SAF2C,EAAUA,SAGrD8O,KAH2C,EAAoBA,KAI/DmE,SAJ2C,EAA0BA,SAKrEC,eAL2C,EAAoCA,mBAQtEC,GAAQ9Q,YAAa+P,IAAO,kBAA2B,CAChEpS,SADqC,EAAEA,SAEvCiT,SAFqC,EAAYA,aAK/CG,GAAoBvQ,GAAkB8O,IvBvDb,SAAC,GAAD,IAAE3R,EAAF,EAAEA,SAAF,OAC3B4B,EAAOM,KAAK,8BAA+B,CAAClC,gBuBuD1CqT,GAAsBxQ,GAAkBkP,IvBpDhB,SAAC,GAAD,IAAEgB,EAAF,EAAEA,MAAF,OAC1BnR,EAAOM,KAAK,6BAA8B,CAAC6Q,auBoDzCO,GAAezQ,GAAkBoP,IvB7DjB,SAAC,GAAD,IAAEc,EAAF,EAAEA,MAAO/S,EAAT,EAASA,SAAU8O,EAAnB,EAAmBA,KAAMmE,EAAzB,EAAyBA,SAAUC,EAAnC,EAAmCA,eAAnC,OAClBtR,EAAOM,KAAK,qBAAsB,CAAC6Q,QAAO/S,WAAU8O,OAAMmE,WAAUC,sBuB6DlEK,GAAY1Q,GAAkBuP,IvBlEjB,SAAC,GAAD,IAAEpS,EAAF,EAAEA,SAAUiT,EAAZ,EAAYA,SAAZ,OACfrR,EAAOM,KAAK,kBAAmB,CAAClC,WAAUiT,gBuBmEvC,SAAUvB,KAAV,iEACH,OADG,SACGlN,YAAWmN,GAAgByB,IAD9B,OAGH,OAHG,SAGG5O,YAAWuN,GAAYsB,IAH1B,OAIH,OAJG,SAIG7O,YAAWyN,GAAUqB,IAJxB,OAKH,OALG,SAKG9O,YAAW4N,GAAOmB,IALrB,wCAQP,IAAMC,GAAe,CACjBR,SAAU,CACND,MAAO,GACP/S,SAAU,GACV8O,KAAM,GACNmE,SAAU,GACVQ,gBAAiB,GACjBP,eAAgB,GAChBQ,oBAAqB,IAEzBP,MAAO,CACHnT,SAAU,GACViT,SAAU,IAEd7C,KAAM,EACNuD,oBAAoB,EACpBC,wBAAyB,KACzBC,mBAAoB,KACpBC,KAAM,KACNC,UAAW,MAuEAD,GApEJrR,aAAa,kBAAC,GA7FN,qBA+FK,SAAC9E,EAAD,WAAUgF,QAAU6P,EAApB,EAAoBA,KAAMjU,EAA1B,EAA0BA,IAAKkU,EAA/B,EAA+BA,MAA/B,OACZuB,aAAQrW,GAAO,SAAAsW,GACXA,EAAMzB,GAAMjU,GAAKkU,QAJT,YAAC,GA5FH,wBAkGK,SAAC9U,EAAD,SAAmB6U,EAAnB,EAAU7P,QAAV,sBACZhF,GADY,mBAEd6U,EAAOgB,GAAahB,IAFN,qBAGT,GAHS,0BAIJ,MAJI,OANH,YAAC,GAahBZ,IAAyB,SAACjU,GAAD,OACtBqW,aAAQrW,GAAO,SAAAsW,GACXA,EAAML,wBAAwB,KAC9BK,EAAMN,oBAAmB,QAhBjB,YAAC,GAmBhB9B,IAAyB,SAAClU,EAAD,OAAmB6F,EAAnB,EAAUb,QAAV,OACtBqR,aAAQrW,GAAO,SAAAsW,GACXA,EAAMN,oBAAmB,EACzBM,EAAML,wBAAwBpQ,QAtBtB,YAAC,GAwBhBsO,IAAY,SAACnU,GAAD,OACTqW,aAAQrW,GAAO,SAAAsW,GACXA,EAAM7D,KAAK,EACX6D,EAAMF,UAAU,WA3BR,YAAC,GAlFP,kBA+GG,SAACpW,GAAD,OACTqW,aAAQrW,GAAO,SAAAsW,GACXA,EAAM7D,KAAK,QA/BH,YAAC,GAiChB2B,IAAY,SAACpU,GAAD,OACTqW,aAAQrW,GAAO,SAAAsW,GACXA,EAAMjB,SAASU,qBAAoB,IAAIQ,MAAOC,gBAnCtC,YAAC,GAqChBnC,IAAqB,SAACrU,EAAD,KAAUgF,QAAV,OAClBqR,aAAQrW,GAAO,SAAAsW,GACXA,EAAML,wBAAwB,KAC9BK,EAAMN,oBAAmB,QAxCjB,YAAC,GA2ChBzB,IAAmB,SAACvU,EAAD,OAAmBmW,EAAnB,EAAUnR,QAAV,sBACbhF,EADa,CAEhBoW,UAAW,KACXD,YA9CY,YAAC,GAiDhB3B,IAAmB,SAACxU,EAAD,OAAmB6F,EAAnB,EAAUb,QAAV,sBACbhF,EADa,CAEhBoW,UAAWvQ,OAnDC,YAAC,GAsDhB6O,IAAgB,SAAC1U,EAAD,OAAmBmW,EAAnB,EAAUnR,QAAV,sBACVhF,EADU,CAEboW,UAAW,KACXD,YAzDY,YAAC,GA4DhBxB,IAAgB,SAAC3U,EAAD,OAAmB6F,EAAnB,EAAUb,QAAV,sBACVhF,EADU,CAEboW,UAAWvQ,OA9DC,IAiEpBgQ,IC3IWnY,GA3BC,CACZ+Y,KAAM,CACF,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAEJC,KAAM,CACF,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,Y,iwBCRR,IAAMC,GAAQ,CACVnB,MAAO,QACPH,SAAU,WAGRrN,GAAOtL,aAAOka,KAAPla,CAAD,KAIKgB,GAAQ+Y,KAAK,GAGT/Y,GAAQ+Y,KAAK,IAM5Bha,GAAaC,KAAOC,IAAR,MAoBZ2B,IAdkB5B,KAAOC,IAAR,MAcL4B,aAAW,SAAAf,GAAK,MAAK,CACnCqZ,MAAO,CACH9X,QAAS,OACT+Q,cAAe,SACfxC,WAAY,UAGhBwJ,OAAQ,CACJzX,OAAQ7B,EAAMqB,QAAQ,GACtBuO,gBAAiB5P,EAAME,QAAQG,UAAUD,MAE7CiX,KAAM,CACF/S,MAAO,OACPiV,UAAWvZ,EAAMqB,QAAQ,IAE7BmY,OAAQ,CACJ3X,OAAQ7B,EAAMqB,QAAQ,EAAG,EAAG,SAiKrBoY,GA9JC,SAAC,GAAoD,IAAlD9V,EAAiD,EAAjDA,KAAM0T,EAA2C,EAA3CA,KAAMzG,EAAqC,EAArCA,SAAU8I,EAA2B,EAA3BA,SAAUrR,EAAiB,EAAjBA,MAAO4M,EAAU,EAAVA,KAChD5S,EAAUvB,KACV6Y,EAAKR,GAAQxV,GAF6C,EAGtClE,IAAM6C,WAHgC,mBAGzDgV,EAHyD,UAQhE,OAJA7X,IAAM8D,WAAU,WACZwE,QAAQiB,IAAIsO,KACb,CAACA,IAGA,yBAAKzT,UAAWxB,EAAQgX,OACpB,kBAAC3D,GAAA,EAAD,CAAQ7R,UAAWxB,EAAQiX,QACvB,kBAAC,KAAD,OAEJ,kBAACM,GAAA,EAAD,CAAY9Z,UAAU,KAAK0E,QAAQ,MAC9BmV,GAEL,0BAAM9V,UAAWxB,EAAQgV,KAAMwC,YAAU,EAACH,SAAUA,IACpC,UAAT/V,GAAyB,IAAPsR,IACjB,oCACc,aAATtR,GACG,kBAACmW,GAAA,EAAD,CACItV,QAAQ,WACR3C,OAAO,SACPkY,UAAQ,EACRC,WAAS,EACTrG,KAAK,QACL5I,MAAM,QACNpH,KAAK,MACLsW,aAAa,QACbpU,GAAG,QACH+K,SAAUA,EACV0G,MAAOD,EAAKO,QAGV,aAATjU,GACG,kBAACmW,GAAA,EAAD,CACItV,QAAQ,WACR3C,OAAO,SACPkY,UAAQ,EACRC,WAAS,EACTrG,KAAK,QACL5I,MAAM,QACNpH,KAAK,MACLsW,aAAa,QACbpU,GAAG,QACH+K,SAAUA,EACV0G,MAAOD,EAAKO,QAGpB,kBAACkC,GAAA,EAAD,CACItV,QAAQ,WACR3C,OAAO,SACPkY,UAAQ,EACRC,WAAS,EACTnU,GAAG,QACHkF,MAAM,WACN4I,KAAK,WACLsG,aAAa,WACbC,WAAS,EACTtJ,SAAUA,EACV0G,MAAOD,EAAKxS,WAEhB,kBAACiV,GAAA,EAAD,CACItV,QAAQ,WACR3C,OAAO,SACPkY,UAAQ,EACRC,WAAS,EACTrG,KAAK,WACL5I,MAAM,WACNpH,KAAK,WACLkC,GAAG,WACHoU,aAAa,eACbrJ,SAAUA,EACV0G,MAAOD,EAAKS,WAEN,aAATnU,GACG,kBAACmW,GAAA,EAAD,CACItV,QAAQ,WACR3C,OAAO,SACPkY,UAAQ,EACRC,WAAS,EACTrG,KAAK,kBACL5I,MAAM,mBACNpH,KAAK,WACLkC,GAAG,kBACHoU,aAAa,eACbrJ,SAAUA,EACV0G,MAAOD,EAAKiB,mBAK3BrD,EAAK,GACF,oCACI,kBAAC6E,GAAA,EAAD,CACItV,QAAQ,WACR3C,OAAO,SACPkY,UAAQ,EACRC,WAAS,EACTnU,GAAG,QACHkF,MAAM,WACN4I,KAAK,WACLsG,aAAa,WACbC,WAAS,EACTtJ,SAAUA,EACV0G,MAAOD,EAAKxS,WAEhB,kBAACiV,GAAA,EAAD,CACItV,QAAQ,WACR3C,OAAO,SACPkY,UAAQ,EACRC,WAAS,EACTrG,KAAK,WACL5I,MAAM,WACNpH,KAAK,WACLkC,GAAG,WACHoU,aAAa,eACbrJ,SAAUA,EACV0G,MAAOD,EAAKS,YAMvBzP,GAAS,kBAACpJ,GAAD,KAAeoJ,GACzB,kBAAC5D,EAAA,EAAD,CACId,KAAK,SACLqW,WAAS,EACTxV,QAAQ,YACR7C,MAAM,UACNkC,UAAWxB,EAAQmX,QAElBG,GAEL,kBAAC,GAAD,CAAQQ,WAAS,GACb,kBAACf,GAAA,EAAD,CAAMgB,MAAI,EAAC3Z,IAAE,GACC,UAATkD,EACG,kBAAC,IAAD,CAAM0W,KAAK,IAAI7V,QAAQ,SAAvB,yBAIAG,GAIR,kBAACyU,GAAA,EAAD,CAAMgB,MAAI,GACI,UAATzW,EACG,kBAAC,IAAD,CAAMrE,GAAG,aAAT,WAEA,kBAAC,IAAD,CAAMA,GAAG,UAAT,cC5Ib6T,gBAzEY,SAAC,GAAiB,IAAfE,EAAc,EAAdA,QAAc,EACd/Q,mBAAS,MADK,mBACjC+F,EADiC,KAC1BiS,EAD0B,KAGlC7Q,EAAWC,cAHuB,EAIAF,aAAY,gBAAGmP,EAAH,EAAGA,KAAMxW,EAAT,EAASA,KAAT,MAAqB,CACrEkV,KAAMsB,EAAKX,MACXW,KAAMA,EAAKA,KACXC,UAAWD,EAAKC,UAChBzW,KAAMA,EAAKA,SAJPkV,EAJgC,EAIhCA,KAAMsB,EAJ0B,EAI1BA,KAAMC,EAJoB,EAIpBA,UAAWzW,EAJS,EAITA,KA0D/B,OAhCAoB,qBAAU,WACNkG,EAAS8N,GAAe,YACzB,CAAC9N,IAEJlG,qBAAU,WACN,GAAGqV,EAIC,OAHA7Q,QAAQiB,IAAI,6BACZjB,QAAQiB,IAAI4P,QACZ0B,EAAS,mCAITA,EAAS,IAEV3B,IACC5Q,QAAQiB,IAAI,mCACZS,EAAS7C,SAEd,CAAC+R,EAAMC,EAAWnP,IAErBlG,qBAAU,WACN,GAAGpB,EAAM,CAELkR,EAAQkH,SACR,IACIrR,aAAasR,QAAQ,OAAQC,KAAKnP,UAAUnJ,IAC/C,MAAOiH,GACJrB,QAAQiB,IAAI,mCAGrB,CAACqK,EAASlR,IAGT,kBAAC,GAAD,CACIwB,KAAK,QACL0T,KAAMA,EACNzG,SAvDS,SAAAxH,GAAM,IAAD,EACMA,EAAElG,OAAlBoU,EADU,EACVA,MAAO3D,EADG,EACHA,KACflK,EACI2N,GAAY,CACRC,KAAM,QACNjU,IAAKuQ,EACL2D,YAkDJoC,SA5CS,SAAAtQ,GACbA,EAAE/F,iBADgB,IAEVwB,EAAuBwS,EAAvBxS,SAAUiT,EAAaT,EAAbS,SAClBrO,EAASuO,GAAM,CAAEnT,WAAUiT,eA0CvBzP,MAAOA,OC/DJqS,GARC,WACZ,OACI,kBAAC,GAAD,KACI,kBAAC,GAAD,Q,wCCFN5Z,GAAYC,aAAW,SAACf,GAAD,MAAY,CACrC8O,KAAM,CACFxK,MAAO,OAEPuO,QAAS,EACThR,OAAQ,GAEZqO,WAAY,CACR9O,YAAapB,EAAMqB,QAAQ,IAE/BsZ,aAAc,CACVpB,UAAWvZ,EAAMqB,QAAQ,GACzBuZ,aAAc5a,EAAMqB,QAAQ,IAEhCwZ,QAAQ,CAEJhZ,OAAQ,EACRgR,QAAS,0BAOF,SAASiI,GAAT,GAAyC,IAAR7F,EAAO,EAAPA,KACtC5S,EAAUvB,KACVia,EAJC,CAAC,4BAAS,wCAAW,8BAM5B,OACI,yBAAKlX,UAAWxB,EAAQyM,MACpB,kBAACkM,GAAA,EAAD,CAASnX,UAAWxB,EAAQwY,QAASI,WAAYhG,EAAK,EAAGiG,kBAAgB,GACpEH,EAAM/J,KAAI,SAACjG,GAAD,OACP,kBAACoQ,GAAA,EAAD,CAAM/X,IAAK2H,GACP,kBAACqQ,GAAA,EAAD,KAAYrQ,S,2RC/BpC,IAAMP,GAAOtL,KAAOC,IAAR,KAIKe,GAAQ+Y,KAAK,GAGT/Y,GAAQ+Y,KAAK,IAKnB,SAASoC,GAAT,GAAkF,IAA1DzK,EAAyD,EAAzDA,SAAUyG,EAA+C,EAA/CA,KAAMiE,EAAyC,EAAzCA,cAAe5B,EAA0B,EAA1BA,SAAUrX,EAAgB,EAAhBA,QAASgG,EAAO,EAAPA,MAErF,OACI,0BAAMqR,SAAUA,EAAU7V,UAAWxB,EAAQgV,MACzC,kBAAC,KAAD,CACI7S,QAAQ,WACR3C,OAAO,SACPkY,UAAQ,EACRC,WAAS,EACTrG,KAAK,QACL5I,MAAM,2BACNpH,KAAK,MACLsW,aAAa,QACbpU,GAAG,QACHqU,WAAS,EACTtJ,SAAUA,EACV0G,MAAOD,EAAKO,QAEhB,kBAAC,KAAD,CACIpT,QAAQ,WACR3C,OAAO,SACPkY,UAAQ,EACRC,WAAS,EACTnU,GAAG,QACHkF,MAAM,kCACN4I,KAAK,WACLsG,aAAa,WACbrJ,SAAUA,EACV0G,MAAOD,EAAKxS,WAEfyW,GAAiB,kBAAC,KAAD,KAAeA,GACjC,kBAAC,KAAD,CACI9W,QAAQ,WACR3C,OAAO,SACPmY,WAAS,EACTnU,GAAG,QACHkF,MAAM,eACN4I,KAAK,OACLsG,aAAa,OACbrJ,SAAUA,EACV0G,MAAOD,EAAK1D,OAEhB,kBAAC,KAAD,CACInP,QAAQ,WACR3C,OAAO,SACPkY,UAAQ,EACRC,WAAS,EACTrG,KAAK,WACL5I,MAAM,2BACNpH,KAAK,WACLkC,GAAG,WACHoU,aAAa,eACbrJ,SAAUA,EACV0G,MAAOD,EAAKS,WAEhB,kBAAC,KAAD,CACItT,QAAQ,WACR3C,OAAO,SACPkY,UAAQ,EACRC,WAAS,EACTrG,KAAK,kBACL5I,MAAM,wCACNpH,KAAK,WACLkC,GAAG,kBACHoU,aAAa,eACbrJ,SAAUA,EACV0G,MAAOD,EAAKiB,kBAEfjQ,GAAS,kBAAC,KAAD,KAAeA,GACzB,kBAAC5D,EAAA,EAAD,CACId,KAAK,SACLqW,WAAS,EACTxV,QAAQ,YACR7C,MAAM,UACNkC,UAAWxB,EAAQmX,QALvB,4BASA,kBAAC,GAAD,CAAQW,WAAS,GACb,kBAAC,IAAD,CAAM7a,GAAG,UAAT,W,yBCxFVic,GAAiBC,KAAS,CAC5BC,OAAQ,kBAAM,+BACdpU,QAF4B,WAGxB,OAAO,kBAACqU,GAAA,EAAD,CAAkB/Z,MAAM,iBAGjCb,GAAYC,aAAW,SAAAf,GAAK,MAAK,CACnCqZ,MAAO,CACH9X,QAAS,OACT+Q,cAAe,SACfxC,WAAY,SACZ+C,QAAS,GAEbyG,OAAQ,CACJzX,OAAQ7B,EAAMqB,QAAQ,GACtBuO,gBAAiB5P,EAAME,QAAQG,UAAUD,MAE7CiX,KAAM,CACF/S,MAAO,OACPuO,QAAS7S,EAAMqB,QAAQ,GACvBE,QAAS,OACT+Q,cAAe,UAEnBkH,OAAQ,CACJ3X,OAAQ7B,EAAMqB,QAAQ,EAAG,EAAG,IAEhCsa,SAAU,CACN9Z,OAAQ7B,EAAMqB,QAAQ,IAE1Bua,MAAO,CACHja,MAAO,OAEXka,cAAe,CACXtC,UAAWvZ,EAAMqB,QAAQ,GACzB,QAAS,CACLwR,QAAS7S,EAAMqB,QAAQ,KAG/Bya,aAAc,CACVC,UAAW,kBA+DJC,GA3DI,SAAC,GAYV,IAVF3E,EAUC,EAVDA,KACAzG,EASC,EATDA,SACA8I,EAQC,EARDA,SACArR,EAOC,EAPDA,MACA4M,EAMC,EANDA,KACAqG,EAKC,EALDA,cACAW,EAIC,EAJDA,yBACAC,EAGC,EAHDA,0BACAC,EAEC,EAFDA,uBACAC,EACC,EADDA,aAGE/Z,EAAUvB,KAEhB,OACI,yBAAK+C,UAAWxB,EAAQgX,OACpB,kBAAC3D,GAAA,EAAD,CAAQ7R,UAAWxB,EAAQiX,QACvB,kBAAC,KAAD,OAEJ,kBAACM,GAAA,EAAD,CAAY9Z,UAAU,KAAK0E,QAAQ,MAAnC,WAGA,kBAACsW,GAAD,CACI7F,KAAMA,EACNgF,aAAa,QACbpU,GAAG,QACH+K,SAAUA,EACV0G,MAAOD,EAAKO,QAEhB,oCACc,IAAP3C,GACC,kBAACoG,GAAD,CACIzK,SAAUA,EACV8I,SAAUA,EACVrC,KAAMA,EACNiE,cAAeA,EACfjZ,QAASA,EACTgG,MAAOA,IAGL,IAAP4M,GACC,kBAACsG,GAAD,CACI3K,SAAUA,EACVyG,KAAMA,EACN4E,yBAA0BA,EAC1BC,0BAA2BA,EAC3BC,uBAAwBA,EACxBC,aAAcA,EACd/Z,QAASA,EACTgG,MAAOA,O,+BCiGhB8K,gBAzLe,SAAC,GAAiB,IAAfE,EAAc,EAAdA,QAAc,EACjB/Q,mBAAS,MADQ,mBACpC+F,EADoC,KAC7BiS,EAD6B,OAEDhY,mBAAS,MAFR,mBAEpCgZ,EAFoC,KAErBe,EAFqB,OAGL5c,IAAM6C,UAAS,GAHV,mBAGpC8Z,EAHoC,KAGtBE,EAHsB,KAIrC7S,EAAWC,cAJ0B,EAavCF,aAAY,gBAAGmP,EAAH,EAAGA,KAAMxW,EAAT,EAASA,KAAT,MAAqB,CACjCkV,KAAMsB,EAAKd,SACX5C,KAAM0D,EAAK1D,KACX0D,KAAMA,EAAKA,KACXC,UAAWD,EAAKC,UAChBJ,mBAAoBG,EAAKH,mBACzBC,wBAAyBE,EAAKF,wBAC9BtW,KAAMA,EAAKA,SAdXkV,EANuC,EAMvCA,KACApC,EAPuC,EAOvCA,KACA0D,EARuC,EAQvCA,KACAC,EATuC,EASvCA,UACAzW,EAVuC,EAUvCA,KACAqW,EAXuC,EAWvCA,mBACAC,EAZuC,EAYvCA,wBAWJlV,qBAAU,WACNwE,QAAQiB,IAAI,cACZS,EAAS8N,GAAe,eACzB,CAAC9N,IAEJ,IAAM8S,EAAwB1Z,iBAAO2Z,qBAAS,SAAClF,EAAO3D,GAEtC,aAATA,GAAiC,KAAV2D,GAEtB7N,EAAS+N,GAAc,CAAC3S,SAAUyS,OAEvC,MAAMtU,QAqIT,OAnDAO,qBAAU,WACHkV,EACgD,MAA5CA,EAAwBvQ,SAASa,OAEhCsT,EAAiB,+EAEjBA,EAAiB,2KAIrBA,EAAiB,IACjB/B,EAAS,OAEd,CAAC9B,EAAoBC,EAAyBhP,IAEjDlG,qBAAU,WACN,GAAGqV,EAGC,OAFA7Q,QAAQiB,IAAI,mEAEqB,MAA9B4P,EAAU1Q,SAASa,YAClBuR,EAAS,+EAE0B,MAA9B1B,EAAU1Q,SAASa,YACxBuR,EAAS,wEAIbA,EAAS,yCAITA,EAAS,IAEV3B,IACC5Q,QAAQiB,IAAI,yCACZS,EAAS7C,SAEd,CAAC+R,EAAMC,EAAWnP,IAGrBlG,qBAAU,WACN,GAAGpB,EAAM,CACLkR,EAAQoJ,KAAK,KACb,IACIvT,aAAasR,QAAQ,OAAQC,KAAKnP,UAAUnJ,IAC/C,MAAOiH,GACJrB,QAAQiB,IAAI,mCAGrB,CAACqK,EAASlR,IAGT,kBAAC,GAAD,CACIwB,KAAK,WACL0T,KAAMA,EACNzG,SAtIS,SAAAxH,GAAM,IAAD,EACMA,EAAElG,OAAlBoU,EADU,EACVA,MAAO3D,EADG,EACHA,KACflK,EACI2N,GAAY,CACRC,KAAM,WACNjU,IAAKuQ,EACL2D,WAGRiF,EAAsBjF,EAAO3D,IA8HzB+F,SA5HS,SAAAtQ,GACbA,EAAE/F,iBADgB,IAEVuU,EAA+CP,EAA/CO,MAAO/S,EAAwCwS,EAAxCxS,SAAUiT,EAA8BT,EAA9BS,SAAUQ,EAAoBjB,EAApBiB,gBAEhC,CAACV,EAAO/S,EAAUiT,EAAUQ,GAAiBoE,SAAS,IACrDpC,EAAS,oEAGTqC,KAAc/E,EAAM,SAIrB0D,EACChB,EAAS,kGAGVxC,IAAaQ,EAIC,IAAIsE,OAAQ,4CAEhBC,KAAK/E,IAIlBwC,EAAS,MACT7Q,EAASgO,MACThO,EAASkO,GAAiB,CAAEC,MAAOA,MAL/B0C,EAAS,qKANTA,EAAS,qFARTA,EAAS,sFAoHT9B,mBAAoBA,EACpBnQ,MAAOA,EACPiT,cAAeA,EACfrG,KAAMA,EACNgH,yBApFuB,WAAK,IACxBrE,EAAUP,EAAVO,MACRnO,EAASkO,GAAiB,CAAEC,MAAOA,MAmF/BsE,0BApGwB,WAE5B,GADA5B,EAAS,MACN8B,EAAa,CAAC,IACLxE,EAAUP,EAAVO,MACR,IAAI+E,KAAc/E,EAAM,SAEpB,YADA0C,EAAS,qFAIb7Q,EAASkO,GAAiB,CAAEC,MAAOA,KACnC0E,GAAgB,QAEhBA,GAAgB,IAyFhBH,uBAlFsB,SAAA/S,GAE1BA,EAAE/F,iBAF4B,IAItBuU,EAAqEP,EAArEO,MAAO/S,EAA8DwS,EAA9DxS,SAAU8O,EAAoD0D,EAApD1D,KAAMmE,EAA8CT,EAA9CS,SAAUQ,EAAoCjB,EAApCiB,gBAAiBP,EAAmBV,EAAnBU,eAE1D,GAAG,CAACH,EAAO/S,EAAUiT,EAAUQ,GAAiBoE,SAAS,IAGrD,OAFApC,EAAS,yEACT7Q,EAASiO,MAGTK,GAIJuC,EAAS,MACT7Q,EAASoO,GAAS,CAAED,QAAO/S,WAAU8O,OAAMmE,WAAUC,qBAJjDuC,EAAS,yEAuET8B,aAAcA,OCxLXU,GARI,WACf,OACI,kBAAC,GAAD,KACI,kBAAC,GAAD,Q,oBCENhc,GAAYC,aAAW,SAACf,GAAD,MAAY,CACrC8O,KAAM,CACFxK,MAAO,OACP6K,SAAU,OACVS,gBAAiB5P,EAAME,QAAQe,WAAWoY,MAC1CnY,SAAU,QACVgO,OAAQ,sBAEZ6N,OAAQ,CACJxb,QAAS,cAIF,SAASyb,KACpB,IAAM3a,EAAUvB,KAEhB,OACI,kBAACuF,EAAA,EAAD,CAAMxC,UAAWxB,EAAQyM,MACrB,kBAACvI,EAAA,EAAD,CAAUuJ,WAAW,cACjB,kBAACmN,GAAA,EAAD,KACI,kBAACvH,GAAA,EAAD,CAAQrR,IAAI,aAAaF,IAAI,MAEjC,kBAAC+Y,GAAA,EAAD,CACI/c,QAAQ,uBACRE,UACI,kBAAC,IAAM8c,SAAP,KACI,kBAACvD,GAAA,EAAD,CACI9Z,UAAU,OACV0E,QAAQ,QACRX,UAAWxB,EAAQ0a,OACnBpb,MAAM,eAJV,eAQC,oEAKjB,kBAACqE,EAAA,EAAD,CAASxB,QAAQ,QAAQ1E,UAAU,OACnC,kBAACyG,EAAA,EAAD,CAAUuJ,WAAW,cACjB,kBAACmN,GAAA,EAAD,KACI,kBAACvH,GAAA,EAAD,CAAQrR,IAAI,gBAAgBF,IAAI,oFAEpC,kBAAC+Y,GAAA,EAAD,CACI/c,QAAQ,aACRE,UACI,kBAAC,IAAM8c,SAAP,KACI,kBAACvD,GAAA,EAAD,CACI9Z,UAAU,OACV0E,QAAQ,QACRX,UAAWxB,EAAQ0a,OACnBpb,MAAM,eAJV,4BAQC,gEAKjB,kBAACqE,EAAA,EAAD,CAASxB,QAAQ,QAAQ1E,UAAU,OACnC,kBAACyG,EAAA,EAAD,CAAUuJ,WAAW,cACjB,kBAACmN,GAAA,EAAD,KACI,kBAACvH,GAAA,EAAD,CAAQrR,IAAI,cAAcF,IAAI,oFAElC,kBAAC+Y,GAAA,EAAD,CACI/c,QAAQ,UACRE,UACI,kBAAC,IAAM8c,SAAP,KACI,kBAACvD,GAAA,EAAD,CACI9Z,UAAU,OACV0E,QAAQ,QACRX,UAAWxB,EAAQ0a,OACnBpb,MAAM,eAJV,gBAQC,sE,sJClF7B,IAAMyb,GAAcC,aAAH,KAIKnd,GAAQ+Y,KAAK,IAU7BjZ,GAAQC,YAAe,CAAEM,YAAa,CAAEC,OAPrB,CACrBC,GAAI,EACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,SAKFC,GAAYC,aAAW,SAAAf,GAAK,YAAK,CACnC8O,MAAI,GACAyK,UAAW,OACXhY,QAAS,OACT+Q,cAAe,OAHf,cAKCtS,EAAMO,YAAY0B,KAAK,MAAQ,CAC5BqQ,cAAe,SACfhO,MAAO,MACP6K,SAAU,QACVtN,OAAQ,OACR0X,UAAW,SAVf,cAYCvZ,EAAMO,YAAY0B,KAAK,MAAQ,CAC5BsX,UAAW,OACXjH,cAAe,SACfhO,MAAO,SAfX,GAkBJgZ,QAAQ,aACJ/b,QAAS,OACT8Q,KAAM,EACNxC,eAAgB,YACf7P,EAAMO,YAAY0B,KAAK,MAAQ,CAC5BV,QAAS,SAGjBgc,SAAS,aAELlL,KAAM,GACLrS,EAAMO,YAAY0B,KAAK,MAAQ,CAC5BV,QAAS,aAMN,SAASic,GAAT,GAAwC,IAAZzd,EAAW,EAAXA,SACjCsC,EAAUvB,GAAUd,IAE1B,OACI,oCACI,kBAACod,GAAD,MACA,yBAAKvZ,UAAWxB,EAAQyM,MACnB/O,EACD,yBAAK8D,UAAWxB,EAAQkb,UACpB,kBAAC,GAAD,S,4BCTVE,I,YAwBAC,I,YA0BOC,I,GAlGflW,GAAyB,oB,qBAHvBkF,G,MACAC,G,MACAC,G,SAMFpF,GAAyB,uB,qBAHvBmW,G,MACAC,G,MACAC,G,SAMFrW,GAAyB,mB,qBAHvBsW,G,MACAC,G,MACAC,G,MAQS5R,GAAUnF,YACnByF,IACA,kBAAgC,CAACL,IAAjC,EAAEA,IAAoCzH,SAAtC,EAAOA,SAAyCoH,SAAhD,EAAiBA,aAGRiS,GAAahX,YATN,uBAUhB,kBAAgC,CAACoF,IAAjC,EAAEA,IAAoCzH,SAAtC,EAAOA,SAAyCoH,SAAhD,EAAiBA,aAGfe,GAActF,GAAkBiF,GAAYM,IAE5CkR,GAAkBzW,GAAkBqW,GAAW9Q,IAExCmR,GAAelX,YAlBN,yBAmBlB,SAAC+E,GAAD,OAAeA,KACNmL,GAAclQ,YAjBR,sBAmBf,kBAA0B,CACtBgK,MADJ,EAAGA,MAEC9N,IAFJ,EAAUA,IAGNkU,MAHJ,EAAeA,UAMNpL,GAAahF,YAAa0W,IAAe,kBAA8B,CAChF1M,MADkD,EAAEA,MAEpD/E,OAFkD,EAASA,OAG3DC,QAHkD,EAAiBA,YAM1DiS,GAAYnX,YAhCN,sBAkCnB,SAAUuW,GAAiBlW,GAA3B,2EAEgB,OADZQ,QAAQC,IAAIT,GADhB,SAEsB+W,cAFtB,UAEU9b,EAFV,OAIIuF,QAAQC,IAAIxF,GACN+b,EAAU/b,EAAM6E,QAAQ,oBACxBmX,EAAWhc,EAAM4K,MACnBmR,IAAaC,EAAWpR,OAASoR,EAAWC,WAAWD,EAAWvT,KAP1E,iBAaQ,OAJAlD,QAAQC,IAAIwW,EAAWC,UACvB1W,QAAQC,IAAIwW,EAAWvT,MACvBlD,QAAQC,IAAIT,EAAOC,SAX3B,UAacS,YAAKkW,GAAmB,CAC1B3W,QAAQ,eACDD,EAAOC,QADP,CAEHyD,KAAMuT,EAAWvT,KAAK,MAhBtC,gCAoBQlD,QAAQiB,IAAI,uBApBpB,yCAwBA,SAAU0U,GAAiBnW,GAA3B,uEAGyB,OAHzB,kBAG+BU,YAAKgF,GAAuB1F,EAAOC,SAHlE,OAKQ,OAFMU,EAHd,OAIQH,QAAQC,IAAIE,GAJpB,SAKcJ,YAAI,CACNnE,KAAMka,GACNrW,QAAS,CACL0J,MAAO3J,EAAOC,QAAQ0J,MACtBwN,SAAUxW,EAASC,MAEvBC,KAAMF,IAXlB,8BAgBQ,OAhBR,yBAcQH,QAAQC,IAAR,MAdR,UAgBcF,YAAI,CACNnE,KAAMma,GACNtW,QAAS,CACL0J,MAAO3J,EAAOC,QAAQ0J,MACtByN,UAAU,EAAD,IAEbtW,OAAO,IAtBnB,sDA0BO,SAAUsV,KAAV,iEACH,OADG,SACGtU,YAAWsD,GAAYK,IAD1B,OAEH,OAFG,SAEG3D,YAvFU,sBAuFgBoU,IAF7B,OAGH,OAHG,SAGGpU,YAAWuU,GAAeF,IAH7B,wCAMP,IA4FetQ,GAnFH9F,aAAa,kBAAC,GArGJ,yBAuGK,SAAC9E,EAAD,GAAiC,IAAfyJ,EAAc,EAAvBzE,QAExB,OADAO,QAAQiB,IAAIiD,GACL,eACAzJ,EADP,CAEIyJ,SAAUA,OAND,YAAC,GASjBW,IAAqB,SAACpK,EAAD,GAA8C,IAA5B4K,EAA2B,EAApC5F,QAAsBU,EAAc,EAApBE,KACrCwW,EAAYxR,EAAM4D,KAAI,gBAAE0N,EAAF,EAAEA,SAAa3X,EAAf,mCACxB,CACI8X,YAAY,eAAK9X,GACjB2X,SAAUA,MAGlB,OAAO,eACAlc,EADP,CAEI4K,MAAOwR,EACP3T,KAAM,EACNwT,SAAUpJ,SAASnN,EAAS4W,QAAQ,aAAc,SApBzC,YAAC,GAuBjBjS,IAAqB,SAACrK,EAAD,OAAkB6F,EAAlB,EAASb,QAAT,sBACfhF,EADe,CAElB6F,aAzBa,YAAC,GA2BjB2V,IAAoB,SAACxb,EAAD,GAA8C,IAA5B4K,EAA2B,EAApC5F,QAAsBU,EAAc,EAApBE,KACpCwW,EAAYxR,EAAM4D,KAAI,gBAAE0N,EAAF,EAAEA,SAAa3X,EAAf,mCACxB,CACI8X,YAAY,eAAK9X,GACjB2X,SAAUA,MAGlB,OAAO,eACAlc,EADP,CAEI4K,MAAO5K,EAAM4K,MAAM2R,OAAOH,GAC1B3T,KAAMzI,EAAMyI,KAAK,EACjBwT,SAAUpJ,SAASnN,EAAS4W,QAAQ,aAAc,SAtCzC,YAAC,GAyCjBb,IAAoB,SAACzb,EAAD,OAAkB6F,EAAlB,EAASb,QAAT,sBACdhF,EADc,CAEjB6F,aA3Ca,YAAC,GAlGP,sBA+IK,SAAC7F,EAAD,WAAUgF,QAAW0J,EAArB,EAAqBA,MAAO9N,EAA5B,EAA4BA,IAAKkU,EAAjC,EAAiCA,MAAjC,OACZuB,aAAQrW,GAAO,SAAAsW,GACXA,EAAM1L,MAAM8D,GAAO8N,SAAnB,eACK5b,EAAMkU,SAhDF,YAAC,GAoDjBsG,IAAgB,SAACpb,EAAD,OAAmB0O,EAAnB,EAAS1J,QAAU0J,MAAnB,OACb2H,aAAQrW,GAAO,SAAAsW,GACXA,EAAM1L,MAAM8D,GAAO+N,iBAAgB,QAtD1B,YAAC,GAwDjBpB,IAAwB,SAACrb,EAAD,WAASgF,QAAU0J,EAAnB,EAAmBA,MAAOwN,EAA1B,EAA0BA,SAA1B,OACrB7F,aAAQrW,GAAO,SAAAsW,GACX/Q,QAAQC,IAAIkJ,GACZnJ,QAAQC,IAAI0W,GACZ5F,EAAM1L,MAAM8D,GAAOwN,SAASA,EAC5B5F,EAAM1L,MAAM8D,GAAO8N,SAAS,CACxBN,SAAU,IAEd5F,EAAM1L,MAAM8D,GAAO+N,iBAAgB,QAhE1B,YAAC,GAkEjBnB,IAAwB,SAACtb,EAAD,WAASgF,QAAU0J,EAAnB,EAAmBA,MAAOyN,EAA1B,EAA0BA,UAA1B,OACrB9F,aAAQrW,GAAO,SAAAsW,GACX/Q,QAAQiB,IAAIkI,GACZnJ,QAAQiB,IAAI2V,GACZ7F,EAAM1L,MAAM8D,GAAO+N,iBAAgB,EACnCnG,EAAMzQ,MAAMsW,QAvEH,YAAC,GAnGP,sBA4KK,SAACnc,GAAD,sBAELA,MA3EM,IATN,CAEf4K,MAAO,KACPnB,SAAU,GACV5D,MAAO,KACPoW,SAAU,EACVxT,KAAM,I,mFClHJnK,GAAYC,aAAW,SAACf,GAAD,MAAY,CACrC8O,KAAM,CACF5N,SAAU,WACV6N,YAAa,OACbsD,KAAM,GAEV6M,WAAY,CACRhe,SAAU,WACVqB,IAAK,MACLkN,KAAM,EACNM,UAAW,oBAEfoP,WAAY,CACRje,SAAU,WACVqB,IAAK,MACLmN,MAAO,EACPK,UAAW,oBAEff,IAAK,CACD/N,WAAY,UAEZiO,OAAQ,oBAERrN,OAAQ,OAEZwN,YAAa,CACTpO,WAAY,UACZiO,OAAQ,oBACRrN,OAAQ,OAEZyN,OAAQ,CACJC,UAAW,UAGfzF,KAAK,CACDC,SAAU,OACVpI,MAAO,SAGXgO,YAAY,CACRzO,SAAU,WACV+N,aAAc,MACdW,gBAAiB,uBACjBrL,OAAQ,OACRD,MAAO,OACP/C,QAAS,OACTsO,eAAgB,SAChBC,WAAY,SACZZ,OAAQ,2BACR3M,IAAK,MACLwN,UAAW,oBAEfE,WAAY,CACRP,MAAO,GAEXQ,WAAY,CACRT,KAAM,OAIRU,GAAiB,SAAC,GAAD,IAAE9N,EAAF,EAAEA,QAAF,OACnB,kBAAC,KAAD,CAAYwB,UAAWuM,mBAAK/N,EAAQsN,YAAatN,EAAQ4N,aACrD,kBAAC,KAAD,CAAiBpM,UAAWxB,EAAQyH,SAGtCuG,GAAgB,SAAC,GAAD,IAAEhO,EAAF,EAAEA,QAAF,OAClB,kBAAC,KAAD,CAAYwB,UAAWuM,mBAAK/N,EAAQsN,YAAatN,EAAQ6N,aACrD,kBAAC,KAAD,CAAcrM,UAAWxB,EAAQyH,SAIzC,SAASwG,GAAT,GAAwD,IAAvBzE,EAAsB,EAAtBA,WAAYxJ,EAAU,EAAVA,QACnCkO,EAAkBC,qBAAWC,MADgB,EAEXnO,mBAASiO,EAAgB/N,MAAMkO,cAFpB,mBAE5CA,EAF4C,KAE9BC,EAF8B,KAGnDpN,qBAAU,WACN,SAASqN,IACLD,EAAgBJ,EAAgB/N,MAAMkO,cAG1C,OADAH,EAAgBM,UAAUD,GACnB,kBAAML,EAAgBO,YAAYF,MAC1C,CAACL,IACJ,IAAMQ,EAAclF,EAAWmF,KAAI,SAACC,EAAOC,GAAR,OAC/BA,IAAQR,EACJ,kBAAC,KAAD,CAAKtN,IAAK8N,EAAOrN,UAAWxB,EAAQgN,YAAa8B,MAAOD,IAExD,kBAAC,KAAD,CAAK9N,IAAK8N,EAAOrN,UAAWxB,EAAQ2M,IAAKmC,MAAOD,OAqBxD,OACI,oCACI,yBAAKrN,UAAWxB,EAAQiN,QAASyB,GACjC,mBArBW,WACf,OAAkB,IAAfL,EAEK,kBAAC,GAAD,CAAkBrO,QAASA,IAE1BqO,IAAe7E,EAAWuF,OAAO,EAElC,kBAAC,GAAD,CAAiB/O,QAASA,IAI1B,oCACI,kBAAC,GAAD,CAAiBA,QAASA,IAC1B,kBAAC,GAAD,CAAkBA,QAASA,OAQnC,OAKG,SAASiP,GAAT,GAAiC,IAAdzF,EAAa,EAAbA,WAExBxJ,EAAUvB,KACVyQ,EAAM1F,EAAWuF,OAIjBgO,EAAYvc,iBAAO,MAOzB,OACI,yBAAKgB,UAAWxB,EAAQyM,KAAMjP,IAAKuf,GAC/B,kBAAC,KAAD,CACI5N,kBAAmB,IACnBC,mBAAoB,GACpBC,YAAaH,EACbI,aAAa,GAEb,kBAAC,KAAD,KAEQ9F,EAAWmF,KAAI,SAACC,EAAOC,GAAR,OACX,kBAAC,KAAD,CAAOA,MAAOA,EAAO9N,IAAK8N,GAAO,kBAAC,GAAD,CAAW/M,IAAK8M,SAI5DpF,EAAWuF,OAAO,GAAK,kBAAC,GAAD,CAAwBvF,WAAYA,EAAYxJ,QAASA,MCvIjG,IAAMvB,GAAYC,aAAW,SAACf,GAAD,MAAY,CACrC8O,KAAM,CACF8L,aAAc5a,EAAMqB,QAAQ,GAC5B6N,OAAQ,cACRsD,iBAAkB,EAClBC,YAAa,uDACbC,iBAAkB,SAEtB2M,MAAO,CACHC,WAAY,UAEhBhG,OAAQ,CACJ1J,gBAAiB2P,KAAM,UA+DhBpM,oBAtDf,YAA+C,IAAxB0L,EAAuB,EAAvBA,YAAaxL,EAAU,EAAVA,QAC1BhR,EAAUvB,KAER0e,EAAkDX,EAAlDW,cAAerd,EAAmC0c,EAAnC1c,KAAY0J,GAAuBgT,EAA7B9S,KAA6B8S,EAAvBhT,YAAYC,EAAW+S,EAAX/S,KAAM0H,EAAKqL,EAALrL,IAQrD,OANAjQ,qBAAU,cAEP,CAACsI,IAKA,oCACI,kBAAC4T,GAAA,EAAD,CACInG,OACI,kBAAC5D,GAAA,EAAD,CAAQzR,aAAW,SAASJ,UAAWxB,EAAQiX,QAA/C,KAIJ/R,OACI,kBAACxD,EAAA,EAAD,CAAYE,aAAW,YACnB,kBAAC,KAAD,OAGRzC,MAAOW,EAAK0C,SACZ6a,UAAW,IAAI3G,KAAKyG,GAAeG,uBAErC9T,EAAWuF,OAAS,GAClB,kBAAC,GAAD,CACIvN,UAAWxB,EAAQgd,MACnBxT,WAAYA,EACZrK,MAAM,gBAGd,kBAACuS,GAAA,EAAD,CAAa6L,gBAAc,GACvB,kBAAC7b,EAAA,EAAD,CAAYE,aAAW,oBACnB,kBAAC,KAAD,OAEJ,kBAACF,EAAA,EAAD,CAAYE,aAAW,QAAQC,QA7BlB,kBAAImP,EAAQoJ,KAAR,sBAA4Bta,EAAK0C,SAAjC,YAA6C2O,MA8B1D,kBAAC,KAAD,OAEJ,kBAACzP,EAAA,EAAD,CAAYE,aAAW,SACnB,kBAAC,KAAD,QAGR,kBAACwP,GAAA,EAAD,KACI,kBAACmG,GAAA,EAAD,CAAYpV,QAAQ,QAAQ7C,MAAM,gBAAgB7B,UAAU,KACvDgM,Q,qYCjFrB,IAAM+T,GAAiB3gB,KAAOC,IAAR,MAMhB2gB,GAAU5gB,KAAOsW,EAAR,MAKTuK,GAAY7gB,KAAOsW,EAAR,MAKXwK,GAAa,SAAC,GAAD,IAAE5T,EAAF,EAAEA,QAAF,OACf,kBAACyT,GAAD,KACI,kBAACC,GAAD,KAAY1T,EAAQ6T,UAAUpb,UAC9B,kBAACkb,GAAD,KAAc3T,EAAQA,WAef8T,OAXf,YAAoC,IAAbxB,EAAY,EAAZA,SAEnB,OACI,oCACMA,EAAS1N,KAAI,SAAC5E,GAAD,OACV,kBAAC,GAAD,CAAaA,QAASA,EAAShJ,IAAKgJ,EAAQoH,W,8tBCxB7D,IAAM2M,GAAgB3E,KAAS,CAC3BC,OAAQ,kBAAM,+BACdpU,QAF2B,WAGvB,OAAO,8CAGT+Y,GAAkBlhB,KAAOC,IAAR,MAKjBkhB,GAAYnhB,KAAOmY,KAAR,MAIXiJ,GAAYphB,aAAOqhB,KAAPrhB,CAAD,MAIXshB,GAActhB,KAAOC,IAAR,MAGbshB,GAAgBvhB,KAAOC,IAAR,MA6ENuhB,OAjEf,YAAwE,IAAhDC,EAA+C,EAA/CA,cAAeC,EAAgC,EAAhCA,cAAevZ,EAAiB,EAAjBA,QAASlF,EAAQ,EAARA,KAAQ,EAE3C1C,IAAM6C,SAAS,IAF4B,mBAE5Due,EAF4D,KAErDC,EAFqD,OAG3CrhB,IAAM6C,UAAS,GAH4B,mBAG5Dye,EAH4D,KAGrDC,EAHqD,KAQ7DC,EAAS,WACXD,GAAS,IAEPpQ,EAASsQ,uBAAY,SAAC9X,GACxB0X,EAAS1X,EAAElG,OAAOoU,OAClBsJ,EAAcxX,KACf,IAEGsQ,EAASwH,uBAAY,SAAC9X,GACxBA,EAAE/F,iBACFsd,EAAcE,GACdC,EAAS,MACV,CAACD,IAEJ,OACI,kBAACT,GAAD,KACI,kBAACC,GAAD,CAAaxG,YAAU,EAACI,aAAa,MAAMP,SAAUA,GACjD,kBAAC4G,GAAD,CACIa,YAAY,+BAEZvQ,SAAUA,EACV+C,KAAK,UACL2D,MAAOuJ,EAEPO,SAAU/Z,EACV1F,MAAM,YACNuC,SAAU/B,GA9BA,SAACiH,GACvBrB,QAAQiB,IAAI,gBACZgY,GAAS,MA+BD,kBAACR,GAAD,KACI,kBAAC/b,EAAA,EAAD,CACID,QAAQ,WACR7C,MAAM,YACNyf,SAAkB,KAARP,GAAcxZ,EACxBnD,QAASwV,GAJb,gBAQCrS,GACG,kBAACoZ,GAAD,KACI,kBAAC/E,GAAA,EAAD,CAAkB7H,KAAM,OAIpC,kBAACsM,GAAD,CACIkB,QAASN,EACT5a,QAAS8a,EACTA,SAAUA,EACVzf,MAAM,qBACN8f,YAAY,gCC7CjB7hB,OAAM8hB,MA/CO,SAAC,GAAmB,IAAjBrQ,EAAgB,EAAhBA,MAAOnK,EAAS,EAATA,KAC5B0C,EAASC,cAD4B,GAE9B7G,mBACMA,mBAGyB2G,aACxC,cAAGnC,QAAH,MAAsB,CAGlBlF,KAHJ,EAAYA,KAGGA,UAJVkG,EANkC,EAMlCA,MAA6BlG,GANK,EAM3Bqf,qBAN2B,EAMLrf,MAWhCye,EAAcM,uBAAY,SAAA9X,GAE5B,OAAOK,EAAS2N,GAAY,CAAElG,MAAOA,EAAO9N,IAAKgG,EAAElG,OAAOyQ,KAAM2D,MAAOlO,EAAElG,OAAOoU,WACjF,CAAC7N,IAaJ,OACI,oCACI,kBAAC,GAAD,CACIpB,MAAOA,EACPuY,cAAeA,EACfze,KAAMA,EACNwe,cAhBQ,SAACE,GACjBpX,EACIyC,GAAa,CACTgF,MAAOA,EACP/E,OAAQpF,EAAK8X,YAAYrL,IACzBpH,QAASyU,MAYTxZ,QAASN,EAAKkY,kBAAmB,Q,geCvCjD,IAAMwC,GAAWviB,aAAOgT,KAAPhT,CAAD,MAOVwiB,GAAiBxiB,KAAOC,IAAR,MAqBPM,WAAM8hB,MAZrB,YAAwC,IAAhBxa,EAAe,EAAfA,KAAMmK,EAAS,EAATA,MAE1B,OACI,kBAAC,GAAD,KACI,kBAAC,GAAD,CAAc2N,YAAa9X,EAAK8X,cAChC,kBAAC6C,GAAD,KACK3a,EAAK2X,UAAY,kBAAC,GAAD,CAAaA,SAAU3X,EAAK2X,YAElD,kBAAC,GAAD,CAAuBxN,MAAOA,EAAOnK,KAAMA,Q,iOC5BvD,IAAM4a,GAAkBziB,KAAOC,IAAR,MAQR,SAASF,GAAT,GAAmC,IAAZc,EAAW,EAAXA,SAClC,OACI,kBAAC4hB,GAAD,KACI,qCACC5hB,EACD,0KACA,8GACA,wD,0KCXZ,IAAM6hB,GAAc1iB,KAAOC,IAAR,MAOb2B,GAAYC,aAAW,SAAAf,GAAK,MAAK,CACnC8O,KAAM,CAEFuD,KAAM,EACN9Q,QAAS,OACT+Q,cAAe,SACfzC,eAAgB,UAEpBgS,UAAW,CAEPtgB,QAAS,OACTsO,eAAgB,SAChBC,WAAY,SACZgS,UAAW,YA0CJC,GArCA,SAAC,GAAgE,IAA/D1a,EAA8D,EAA9DA,QAAS2a,EAAqD,EAArDA,SAAU3Z,EAA2C,EAA3CA,MAAO+E,EAAoC,EAApCA,MAAaqO,GAAuB,EAA7BtZ,KAA6B,EAAvBsZ,QAAOwG,EAAgB,EAAhBA,aACrD5f,EAAUvB,KAEhB,OACI,kBAAC8gB,GAAD,KACI,yBAAK/d,UAAWxB,EAAQyM,KAAMjP,IAAKoiB,IAC7B5a,GAAW+F,GACTA,EAAM4D,KAAI,SAACjK,EAAMmK,GAAP,OACN,kBAAC,GAAD,CACI9N,IAAK2D,EAAK8X,YAAYrL,IACtBzM,KAAMA,EACNmK,MAAOA,OAKnB,yBAAKrN,UAAWxB,EAAQwf,UACpBhiB,IAAK4b,GAEJpU,GACG,kBAACqU,GAAA,EAAD,MAEHsG,GACG,kBAACtG,GAAA,EAAD,QAKVrT,GACE,kBAAC,GAAD,KACKA,EAAM6Z,WCSZ/O,gBAhES,SAAC,GAAe,IAAdG,EAAa,EAAbA,SAChB7J,EAASC,cACT+R,EAAO5Y,mBACPof,EAAapf,mBAHgB,EAIkC2G,aACjE,gBAAG4D,EAAH,EAAGA,MAAO/F,EAAV,EAAUA,QAASlF,EAAnB,EAAmBA,KAAnB,MAA8B,CAC1BiL,MAAOA,EAAMA,MACb/E,MAAO+E,EAAM/E,MACb2N,aAAc3O,EAAQ,oBACtBlF,KAAMA,EAAKA,KACXggB,iBAAkB9a,EAAQ,uBAN3B+F,EAJ4B,EAI5BA,MAAO/E,EAJqB,EAIrBA,MAAO2N,EAJc,EAIdA,aAAc7T,EAJA,EAIAA,KAAMggB,EAJN,EAIMA,iBAJN,EAIwBlW,SAS3D1I,qBAAU,WAAM,IAAD,EACqB8H,KAAG+W,MAAM9O,EAAS+O,OAAQ,CACtDC,mBAAmB,IADhBhW,EADI,EACJA,IAAKzH,EADD,EACCA,SAAUoH,EADX,EACWA,SAItB,OADAxC,EAAS4C,GAAU,CAACC,MAAKzH,WAAUoH,cAC5B,WACHxC,EAAS4U,SAEd,CAAC5U,EAAU6J,EAAS+O,SAEvB,IAAME,EAAU,CACZzT,KAAMmT,EAAajf,QAEnBwL,WAAY,OACZD,UAAW,GAsBf,OAnBAhL,qBAAU,WACK,IAAIyK,sBAAqB,SAACC,EAASH,GAC1CG,EAAQC,SAAQ,SAAAC,GAEZ,GAAIA,EAAME,eAAgB,CACtBtG,QAAQiB,IAAImF,GADU,MAEU9C,KAAG+W,MAAM9O,EAAS+O,OAAQ,CACtDC,mBAAmB,IADhBhW,EAFe,EAEfA,IAAKzH,EAFU,EAEVA,SAAUoH,EAFA,EAEAA,SAGtBxC,EAASyU,GAAa,CAAC5R,MAAKzH,WAAUoH,oBAG/CsW,GAEA9T,QAAQgN,EAAOzY,WAGnB,CAACyG,IAGA,oCACI,kBAAC,GAAD,CACIpC,QAAS2O,EACTgM,SAAUG,EACV9Z,MAAOA,EACP+E,MAAOA,EACPoV,gBAAiBrgB,EACjBsZ,OAAQA,EACRwG,aAAcA,Q,kDC5DxBnhB,GAAYC,aAAW,SAAAf,GAAK,MAAK,CACnCyiB,aAAc,CACVrhB,YAAapB,EAAMqB,QAAQ,IAE/BqhB,IAAI,CAEApe,MAAO,MACPrD,WAAY,wDA0BL0hB,OAvBf,SAAwBtjB,GAAQ,IACpBC,EAAuBD,EAAvBC,GAAOC,EADY,aACIF,EADJ,QAGrBG,EAAaC,IAAMC,SACrB,kBACID,IAAME,YAAW,SAACC,EAAWC,GAAZ,OACb,kBAAC,IAAD,eAAMA,IAAKA,EAAKP,GAAIA,GAAQM,SAEpC,CAACN,IAGC+C,EAAUvB,KAChB,OAEI,kBAAC8hB,GAAA,EAAD,eAAK9iB,UAAWN,GAAgBD,EAAhC,CAA6CsE,UAAWxB,EAAQqgB,MAC5D,kBAAC,KAAD,CAAS7e,UAAWxB,EAAQogB,eAC1BpjB,EAAMU,WC5BL,SAAS8iB,KACpB,OACI,oCACI,kBAAC,GAAD,CACIlhB,MAAM,UACNsC,aAAW,MACXO,QAAQ,WACRlF,GAAG,oBAJP,8B,8nBCMZ,IAOMU,GAAQC,YAAe,CAAEM,YAAa,CAAEC,OAPrB,CACrBC,GAAI,EACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,SAIFiiB,GAAO5jB,KAAOC,IAAR,KAGgBe,GAAQ+Y,KAAK,IAkBnCnY,GAAYC,aAAW,SAAAf,GAAK,MAAK,CACnCsd,QAAQ,aACJ/b,QAAS,OACT8Q,KAAM,EACNxC,eAAgB,YACf7P,EAAMO,YAAY0B,KAAK,MAAQ,CAC5BV,QAAS,SAGjBwhB,OAAQ,CAEJ7hB,SAAU,QACVoD,MAAO,MACP/C,QAAS,OACT+Q,cAAe,SACfxC,WAAY,UAEhBkT,KAAM,CACFC,YAAY,aAAD,OAAejjB,EAAME,QAAQgjB,SACxC5e,MAAO,QAGXiZ,SAAS,aAELlL,KAAM,GACLrS,EAAMO,YAAY0B,KAAK,MAAQ,CAC5BV,QAAS,aAMN,SAAS4hB,GAAT,GAAqD,IAA9BC,EAA6B,EAA7BA,iBAAkBnX,EAAW,EAAXA,SAC9C5J,EAAUvB,GAAUd,IAS1B,OACI,oCACI,kBAAC8iB,GAAD,KACI,kBAACD,GAAD,MACA,kBAACQ,GAAA,EAAD,CAAa7e,QAAQ,YACjB,kBAAC8e,GAAA,EAAD,CAAYzd,GAAG,qCAAf,YACA,kBAAC0d,GAAA,EAAD,CACIC,QAAQ,oCACR3d,GAAG,8BACHyR,MAAOrL,EACP2E,SAbO,SAAC7N,GACxBqgB,EAAiBrgB,EAAMG,OAAOoU,QAadvM,MAAM,YAEN,kBAAChF,EAAA,EAAD,CAAUuR,MAAM,IACZ,oCAEJ,kBAACvR,EAAA,EAAD,CAAUuR,MAAM,gBAAhB,gBACA,kBAACvR,EAAA,EAAD,CAAUuR,MAAM,gBAAhB,gBACA,kBAACvR,EAAA,EAAD,CAAUuR,MAAM,gBAAhB,gBACA,kBAACvR,EAAA,EAAD,CAAUuR,MAAM,gBAAhB,mBAIZ,yBAAKzT,UAAWxB,EAAQib,SACpB,yBAAKzZ,UAAWxB,EAAQ0gB,QACpB,kBAACF,GAAD,MACA,kBAACY,GAAA,EAAD,CACIC,YAAY,WACZlf,QAAQ,aACR8S,MAAOrL,EACP2E,SArCI,SAAC7N,EAAO4gB,GAC5BP,EAAiBO,IAqCD1f,aAAW,wBACXJ,UAAWxB,EAAQ2gB,MAEnB,kBAACY,GAAA,EAAD,CAAK7Y,MAAM,MAAMuM,MAAO,KACxB,kBAACsM,GAAA,EAAD,CAAK7Y,MAAM,eAAKuM,MAAO,iBACvB,kBAACsM,GAAA,EAAD,CAAK7Y,MAAM,eAAKuM,MAAO,iBACvB,kBAACsM,GAAA,EAAD,CAAK7Y,MAAM,eAAKuM,MAAO,iBACvB,kBAACsM,GAAA,EAAD,CAAK7Y,MAAM,eAAKuM,MAAO,qBC5FhCnE,I,GAAAA,gBAxBf,YAAyC,IAAVE,EAAS,EAATA,QACrB5J,EAASC,cACPuC,EAAWzC,aAAY,kBAAY,CACvCyC,SAD2B,EAAEmB,MACbnB,aADZA,SAIFmX,EAAiBlC,uBAAY,SAACjV,GAC5BlE,QAAQiB,IAAIiD,GACZxC,EAAS2U,GAAenS,MAC1B,CAACxC,IASP,OAPAlG,qBAAU,WACH0I,EACCoH,EAAQoJ,KAAR,8BAAoCxQ,IAEpCoH,EAAQoJ,KAAR,gBAEL,CAACpJ,EAASpH,IAET,kBAACkX,GAAD,CACIC,iBAAkBA,EAClBnX,SAAUA,O,YCgBL4X,I,GA/Bfpc,GAAyB,kB,qBAHvBqc,G,MACAC,G,MACAC,G,SAMFvc,GAAyB,sB,qBAHvBmW,G,MASSqG,I,YAAS/c,YAAa4c,IAAW,SAAAje,GAAE,OAAEA,MACrCqe,GAAWhd,YAHN,oBAKLkQ,GAAclQ,YAPR,qBASf,kBAAmB,CACf9D,IADJ,EAAGA,IAECkU,MAFJ,EAAQA,UAMCpL,GAAahF,YAAa0W,IAAe,kBAAuB,CACzEzR,OADkD,EAAEA,OAEpDC,QAFkD,EAAUA,YAK1D+X,GAAazc,GAAkBoc,IxCNf,SAAAje,GAAE,OAAEY,EAAOI,IAAP,qBAAyBhB,OwCO7C6X,GAAiBhW,GAAkBkW,GAAe3Q,IAGjD,SAAU4W,KAAV,iEACH,OADG,SACGxa,YAAWya,GAAWK,IADzB,OAEH,OAFG,SAEG9a,YAAWuU,GAAeF,IAF7B,wCAKP,IAAMrF,GAAa,CACftR,KAAM,KACNiY,SAAU,CACNoF,aAAc,GACdC,MAAM,GAEVhc,MAAO,MAsBItB,GAnBJO,aAAa,kBAAC,GAtCN,qBAwCK,SAAC9E,EAAD,WAAUgF,QAAWpE,EAArB,EAAqBA,IAAKkU,EAA1B,EAA0BA,MAA1B,OACZuB,aAAQrW,GAAO,SAAAsW,GACXA,EAAMkG,SAAS5b,GAAKkU,QAJZ,YAAC,GAMhByM,IAAoB,SAACvhB,EAAD,OAAkBuE,EAAlB,EAASS,QAAT,sBACdhF,EADc,CAEjBuE,YARY,YAAC,GAUhBid,IAAoB,SAACxhB,EAAD,OAAkB6F,EAAlB,EAASb,QAAT,sBACdhF,EADc,CAEjB6F,aAZY,YAAC,GApCP,oBAkDK,kBAAIgQ,MAdH,IAgBpBA,I,qtDC/DJ,IAAMiM,GAAgBplB,KAAOC,IAAR,MAGfolB,GAAiBrlB,KAAOC,IAAR,MAUhBqlB,GAAgBtlB,KAAOC,IAAR,MAUfslB,GAAgBvlB,KAAOC,IAAR,MAMfulB,GAAkBxlB,KAAOC,IAAR,MAOjBuiB,GAAiBxiB,KAAOC,IAAR,MAQhBwlB,GAAczlB,KAAOC,IAAR,MAMbylB,GAAW1lB,KAAOsW,EAAR,MAKVqP,GAAY3lB,KAAOC,IAAR,MAMX2lB,GAAa5lB,aAAOwW,KAAPxW,CAAD,MAIZ6lB,GAAQ7lB,KAAOC,IAAR,MAIP6gB,GAAYvgB,IAAM8hB,MAAK,gBAAEnV,EAAF,EAAEA,QAAS4Y,EAAX,EAAWA,SAAX,OACzB,kBAACD,GAAD,CAAS7gB,QAAS,kBAAK8gB,EAAS5Y,KAC5B,kBAAC0Y,GAAD,MADJ,IAEM1Y,MAIJ8T,GAAYzgB,IAAM8hB,MAAK,gBAAE7C,EAAF,EAAEA,SAAUsG,EAAZ,EAAYA,SAAZ,OACzB,oCACKtG,EAAS1N,KAAI,SAAA5E,GAAO,OACjB,kBAAC,GAAD,CAAahJ,IAAKgJ,EAASE,IAAKF,EAAS4Y,SAAUA,WAIhD,SAASC,GAAT,GAAiE,IAA5Cle,EAA2C,EAA3CA,KAAgBM,GAA2B,EAArCtH,SAAqC,EAA3BsH,SAASgB,EAAkB,EAAlBA,MAAOqW,EAAW,EAAXA,SAGhE,GAAGrW,EACC,OAAGA,EAAMH,UAAsC,MAA1BG,EAAMH,SAASa,OACzB,kBAACub,GAAD,qFAEJ,kBAACA,GAAD,mCAIX,GAAGjd,IAAYN,EACX,OAAO,KAZgE,IAcnEyY,EAAkDzY,EAAlDyY,cAAerd,EAAmC4E,EAAnC5E,KAAY0J,GAAuB9E,EAA7BgF,KAA6BhF,EAAvB8E,YAAYC,EAAW/E,EAAX+E,KAAW/E,EAALyM,IACrD,OACI,oCACI,kBAAC+Q,GAAD,KACI,kBAACO,GAAD,CAAc7gB,aAAW,UAAzB,KAGA,kBAAC0gB,GAAD,KACI,kBAACC,GAAD,KAAaziB,EAAK0C,UAClB,kBAAC+f,GAAD,KAAa,IAAI7L,KAAKyG,GAAeG,uBAEzC,kBAACkF,GAAD,KACI,kBAAC,KAAD,QAIR,kBAACH,GAAD,KACI,kBAAC9K,GAAA,EAAD,CAAYpV,QAAQ,QAAQ7C,MAAM,gBAAgB7B,UAAU,KACvDgM,IAGT,kBAAC,GAAD,KACK4S,GAAY,kBAAC,GAAD,CAAala,QAAQ,QAAQ7C,MAAM,gBAAgB7B,UAAU,OAE9E,kBAAC2kB,GAAD,KACI,kBAAC1gB,EAAA,EAAD,CAAYE,aAAW,oBACnB,kBAAC,KAAD,OAEJ,kBAACF,EAAA,EAAD,CAAYE,aAAW,SACnB,kBAAC,KAAD,QAGN4H,EAAWuF,OAAS,GAClB,kBAACoT,GAAD,KACI,kBAAC,GAAD,CACI3Y,WAAYA,EACZrK,MAAM,kBCxI9B,IAiCe2R,gBAjCW,SAAC,GAAoB,IAAnB+R,EAAkB,EAAlBA,MAAkB,EAAX7R,QAE/BtL,QAAQiB,IAAIkc,EAAMC,QAFwB,IAGnChZ,EAAU+Y,EAAMC,OAAhBhZ,OACD1C,EAASC,cAJ2B,EAKPF,aAAY,gBAAEzC,EAAF,EAAEA,KAAMM,EAAR,EAAQA,QAASlF,EAAjB,EAAiBA,KAAjB,MAA0B,CACrE4E,KAAMA,EAAKA,KACXsB,MAAOtB,EAAKsB,MACZhB,QAASA,EAAQ,kBACjBlF,KAAMA,EAAKA,SAJR4E,EALmC,EAKnCA,KAAMsB,EAL6B,EAK7BA,MAAOhB,EALsB,EAKtBA,QAASlF,EALa,EAKbA,KAO7BoB,qBAAU,WAGN,OAFAkG,EAASwa,GAAS9X,IAEX,WACH1C,EAASya,SAEd,CAACza,EAAU0C,IAGd,IAAMiZ,GAAWjjB,GAAQA,EAAKqR,QAAUzM,GAAQA,EAAK5E,KAAKqR,KAE1D,OACI,kBAACyR,GAAD,CACIle,KAAMA,EACNM,QAASA,EACTgB,MAAOA,EACP+c,QAASA,O,o3BC/BrB,IAAMC,GAAwBnmB,KAAOC,IAAR,MAUvBsiB,GAAWviB,aAAOgT,KAAPhT,CAAD,MAoBD,SAASomB,GAAT,GAA8C,EAAjBve,KAAkB,IAAZhH,EAAW,EAAXA,SAE9C,OACI,kBAACslB,GAAD,KACI,kBAAC,GAAD,KACKtlB,I,8fClCjB,IAAMqgB,GAAkBlhB,KAAOC,IAAR,MAQjBkhB,GAAYnhB,KAAOmY,KAAR,MAIXiJ,GAAYphB,aAAOqhB,KAAPrhB,CAAD,MAIXqmB,GAAarmB,aAAOuF,IAAPvF,CAAD,MAGH,SAASwhB,GAAT,GAA0E,EAAnDtU,QAAoD,IAA3C4S,EAA0C,EAA1CA,SAAU4B,EAAgC,EAAhCA,cAAe7Z,EAAiB,EAAjBA,KAAM2S,EAAW,EAAXA,SAC1E,OACI,kBAAC,GAAD,KACI,kBAAC,GAAD,CAAaG,YAAU,EAACI,aAAa,OACjC,kBAAC,GAAD,CACIkH,YAAY,+BACZnC,SAAUA,EACVpO,SAAUgQ,EACVjN,KAAK,UACL2D,MAAO0H,GAAWA,EAAS5S,SAAW4S,EAAS5S,QAAQrF,EAAKyM,OAEhE,kBAAC+R,GAAD,CAAc/gB,QAAQ,WAAW7C,MAAM,YAAYyf,UAAU,EAAOld,QAASwV,GAA7E,kBC7BhB,IA0De8L,GA1Da,WACxB,IAAM/b,EAASC,cADc,GAEhB7G,mBACMA,mBAE+B2G,aAC9C,gBAAGzC,EAAH,EAAGA,KAAMM,EAAT,EAASA,QAASlF,EAAlB,EAAkBA,KAAlB,MAA4B,CACxB4E,KAAMA,EAAKA,KACXiY,SAAUjY,EAAKiY,SACf3W,MAAOtB,EAAKsB,MACZod,YAAape,EAAQ,kBACrBlF,KAAMA,EAAKA,UANX4E,EALqB,EAKrBA,KAAMsB,EALe,EAKfA,MAAoBlG,GALL,EAKRsjB,YALQ,EAKKtjB,MAAM6c,EALX,EAKWA,SASxCzb,qBAAU,WACNwE,QAAQiB,IAAI,qBAAsBgW,KACnC,CAACA,IACJ,IAAM4B,EAAcM,uBAAY,SAAA9X,GAE5B,OADArB,QAAQiB,IAAI,0BAA2BI,EAAElG,QAClCuG,EAAS2N,GAAY,CAAEhU,IAAKgG,EAAElG,OAAOyQ,KAAM2D,MAAOlO,EAAElG,OAAOoU,WACnE,CAAC7N,EAAU1C,IAEdxD,qBAAU,WACNwE,QAAQiB,IAAI,2BAA4BgW,GACxCjX,QAAQiB,IAAI,4BAA6BgW,EAAS5S,WACnD,CAAC4S,IAkBJ,OACI,oCACI,kBAAC,GAAD,CACI3W,MAAOA,EACPtB,KAAMA,EACN5E,KAAMA,EACNye,cAAeA,EACf5B,SAAUA,EACVtF,SAvBK,SAACtQ,GACdA,EAAE/F,iBACF0E,QAAQiB,IAAI,mBACRgW,EAAS5S,QAIb3C,EACIyC,GAAa,CACTC,OAAQpF,EAAKyM,IACbpH,QAAS4S,EAAS5S,WANtBrE,QAAQiB,IAAI,qBCpBT0c,GAbA,SAAC,GAAW,IAAVR,EAAS,EAATA,MAEb,OADAnd,QAAQiB,IAAIkc,EAAMC,QAEd,oCACI,kBAAC,GAAD,MACA,kBAACG,GAAD,KACI,kBAAC,GAAD,MACA,kBAAC,GAAD,SCWDnS,gBAfK,SAAC,GAAW,IAAV+R,EAAS,EAATA,MAElB,OADAnd,QAAQiB,IAAIkc,EAAMS,MAEd,oCACI,kBAAC,GAAD,MACA,kBAACnI,GAAD,CAAmBoI,qBAAsBA,IACrC,kBAAC,GAAD,MACA,kBAAC,GAAD,MAEA,kBAAC,IAAD,CAAOD,KAAI,UAAKT,EAAMS,KAAX,uBAAsC7lB,UAAW4lB,U,qmCCX5E,IAAMG,GAAmB3mB,KAAOC,IAAR,MAwBlBgX,GAASjX,aAAOkX,KAAPlX,CAAD,MA8BC4mB,GAVK,SAAC,GAAgB,IAAd/lB,EAAa,EAAbA,SACnB,OACI,kBAAC8lB,GAAD,KACI,kBAAC,GAAD,KACK9lB,K,quCC9CjB,I,GAAMgmB,GAAW7mB,KAAOC,IAAR,MAWV6mB,GAAY9mB,KAAOC,IAAR,MAMX8mB,GAAU/mB,KAAOC,IAAR,MAWT+mB,GAAWhnB,KAAOinB,IAAR,MAOVC,GAAYlnB,KAAOC,IAAR,MAQXohB,GAAMrhB,KAAO2hB,MAAR,MAOL/f,GAAYC,aAAW,SAAAf,GAAK,MAAK,CACnCyiB,aAAc,CACVrhB,YAAapB,EAAMqB,QAAQ,IAE/BglB,SAAU,CACN1kB,MAAO,QACPqO,OAAQ,EACRjG,SAAU,QAGd2Y,IAAI,CACA7gB,OAAQ,UAEZykB,QAAS,CACLvc,SAAU,YAuEHwc,GApEC,SAAC,GAAoC,IAAlCC,EAAiC,EAAjCA,UAAWC,EAAsB,EAAtBA,QAAS7V,EAAa,EAAbA,SAC7BvO,EAAUvB,KACV4lB,EAAc7jB,mBAWpB,OATAU,qBAAU,WAEN,GAAGmjB,EAAc1jB,SAAWwjB,EAAU,CAClC,IAAMliB,EAAMoiB,EAAc1jB,QAAQ2jB,YAClC5e,QAAQC,IAAI1D,GACZoiB,EAAc1jB,QAAQ4jB,WAAWtiB,KAEtC,CAACmiB,IAGA,oCACOD,EAmBC,kBAACT,GAAD,CAAYlmB,IAAK6mB,GACZD,EAAQzV,KAAI,SAAA6V,GACT,IAAMziB,EAAI0iB,IAAIC,gBAAgBF,EAAOG,MACrC,OACI,kBAAChB,GAAD,CAAa5iB,IAAKyjB,EAAOhhB,IACpBghB,EAAOI,KACJ,kBAAChB,GAAD,KACI,kBAAC,KAAD,CAAMpiB,UAAWxB,EAAQgkB,iBAE7B1hB,EAEJ,kBAACuhB,GAAD,CAAY/hB,IAAKC,EAAKC,IAAI,gBAItC,kBAAC2hB,GAAD,KACI,+BACI,kBAACI,GAAD,KACI,kBAAC,KAAD,CAASviB,UAAWxB,EAAQikB,WAEhC,kBAAC,GAAD,CACIY,OAAO,UACPvjB,KAAK,OACLgQ,KAAK,gBACLwT,UAAQ,EAACvW,SAAUA,OA1CnC,yBAAK/M,UAAU,cACX,2BACIqjB,OAAO,UACPrjB,UAAWxB,EAAQwe,MACnBvb,MAAO,CAAE/D,QAAS,QAClBsE,GAAG,qBACHshB,UAAQ,EACRxjB,KAAK,OACLiN,SAAUA,IAEd,2BAAOwW,QAAQ,sBACX,kBAACxE,GAAA,EAAD,CAAKjhB,MAAM,UAAUsC,aAAW,MAAMnE,UAAU,OAAO0E,QAAQ,WAAWX,UAAWxB,EAAQqgB,KACzF,kBAAC,KAAD,CAAiB7e,UAAWxB,EAAQogB,eADxC,uC,YCpDd4E,I,YAyBAC,I,YAyBAC,I,YAyCOC,I,GA5Hb/f,GAAyB,sB,qBAHzBggB,G,MACAC,G,MACAC,G,SAOAlgB,GAAyB,oB,qBAHzBmgB,G,MACAC,G,MACAC,G,SASDrgB,GAAyB,mB,qBAHxBsgB,G,MACAC,G,MACAC,G,MAGSC,GAAWhhB,YAxBP,oBA0BJihB,GAAcjhB,YAzBR,sBAyBmC,SAAAkhB,GAAW,OAAIA,KAExDhR,GAAYlQ,YA1BN,sBA0BiC,kBAAmB,CACnE9D,IADgD,EAAEA,IAElDkU,MAFgD,EAAOA,UAK9C1L,GAAU1E,YAAa0gB,IAAY,kBAAiD,CAC7FnB,QAD4C,EAAEA,QAE9C3a,KAF4C,EAAWA,KAGvDC,KAH4C,EAAiBA,KAI7DC,UAJ4C,EAAwBA,UAKpEC,SAL4C,EAAmCA,aAQnF,SAAUob,GAAgBZ,GAA1B,uEACI1e,QAAQiB,IAAI,uBAEJyL,EAAE,EAHd,YAGiBA,EAAGgS,EAAQrV,QAH5B,iBAKuB,OADfrJ,QAAQC,IAAIye,EAAQhS,IAJ5B,SAK6BxM,YAAMqf,GAAc,CACrC3jB,KAAMokB,GACNvgB,QAAS,CACLgE,WAAYib,EAAQhS,GAAGuS,KACvBqB,SAAU5T,KAT1B,kCAaY,OAbZ,UAakB3M,YAAI,CACNnE,KAAMgkB,KAdtB,kCAgBmB,GAhBnB,QAGoClT,IAHpC,uBAmBI,OAnBJ,UAmBU3M,YAAI,CACNnE,KAAM+jB,KApBd,kCAsBW,GAtBX,yCAyBA,SAAUJ,GAAa/f,GAAvB,uEAGyB,OAHzB,kBAG+BU,YAAKgF,GAAsB1F,EAAOC,SAHjE,OAKQ,OAFMU,EAHd,OAIQH,QAAQC,IAAIE,GAAUH,QAAQC,IAAIE,EAASC,KAAK/D,KAJxD,SAKc0D,YAAI,CACNnE,KAAMqkB,GACNxgB,QAAS,CACLpD,IAAK8D,EAASC,KAAK/D,IACnBikB,SAAU9gB,EAAOC,QAAQ6gB,YATzC,iCAYe,GAZf,QAgBQ,OAhBR,0BAeQtgB,QAAQM,MAAR,MAfR,UAgBcP,YAAI,CACNnE,KAAMskB,GACNzgB,QAAQ,EAAD,GACPa,OAAO,IAnBnB,kCAqBe,GArBf,uDAyBA,SAAUkf,GAAchgB,GAAxB,qFAEI,OADAQ,QAAQC,IAAIT,GADhB,SAEUO,YAAIb,EAAa2gB,KAF3B,YAGyDrgB,EAAOC,QAApDif,EAHZ,EAGYA,QAAS3a,EAHrB,EAGqBA,KAAMC,EAH3B,EAG2BA,KAAMC,EAHjC,EAGiCA,UAAWC,EAH5C,EAG4CA,SAElB,IAAnBwa,EAAQrV,OALf,iBAMyB,OANzB,SAM+BnJ,YAAMof,GAAiBZ,GANtD,kCAQY,OARZ,UAQkB3e,YAAI,CACNnE,KAAMmkB,GACNtgB,QAAS,6BAVzB,kCAYoB,GAZpB,QAeqB,OAfrB,UAe2B8W,aAAO,SAAA9b,GAAK,OAAGA,EAAM8lB,MAAMzc,cAftD,QAkBuB,OAHbA,EAfV,2BAkB6B5D,YAAMgF,GAAoB,CAC3CpB,aACAC,OACAC,OACAC,YACAC,aAvBZ,QA0BQ,OARM/D,EAlBd,OAyBQH,QAAQC,IAAIE,GAzBpB,UA0BcJ,YAAI,CACNnE,KAAMkkB,GACNrgB,QAASU,EAASC,OA5B9B,gCA+BQ,OA/BR,qCA+BcL,YAAI,CACNnE,KAAMmkB,GACNtgB,QAAQ,EAAD,GACPa,OAAO,IAlCnB,QAqCI,OArCJ,UAqCUP,YAAIV,EAAcwgB,KArC5B,wDAyCO,SAAUJ,KAAV,iEACH,OADG,SACGne,YAAWue,GAAYL,IAD1B,OAEH,OAFG,SAEGle,YAAWoe,GAAcJ,IAF5B,wCAMP,IAAMhP,GAAa,CACfkQ,SAAU,CACN9B,QAAS,GACT+B,aAAc,GACdC,SAAU,EACVC,cAAe,EACfN,YAAa,KACbrf,OAAQ,UACR4f,WAAY,MAEhB7c,KAAM,GACNG,SAAU,eACVF,KAAM,GACNF,WAAY,GACZ2a,WAAW,EACXzf,KAAM,KACN4X,UAAW,MA8DA2J,GA3DHhhB,aAAa,kBAAC,GA7JT,oBA+JK,SAAA9E,GAAK,OAAG6V,MAFL,YAAC,GA3JP,sBA8JK,SAAC7V,EAAD,WAASgF,QAAUpE,EAAnB,EAAmBA,IAAKkU,EAAxB,EAAwBA,MAAxB,sBACT9U,EADS,eAEXY,EAAMkU,OALM,YAAC,GA5JP,sBAmKK,SAAC9U,EAAD,OAAmB4lB,EAAnB,EAAU5gB,QAAV,OACZqR,aAAQrW,GAAO,SAAAsW,GACX/Q,QAAQC,IAAIogB,GACRA,EAAYpB,KAAKrT,MAAQyU,EAAYpB,KAAKrT,KAAKuR,MAAM,0BAErDpM,EAAMyP,SAAS9B,QAAQhK,KAAK2L,GAC5BtP,EAAMyP,SAASE,WACf3P,EAAM0N,WAAU,GAGhBze,QAAQiB,IAAI,mCAjBP,YAAC,GAoBjBgf,IAAoB,SAACxlB,EAAD,WAASgF,QAAUpD,EAAnB,EAAmBA,IAAKikB,EAAxB,EAAwBA,SAAxB,OACjBxP,aAAQrW,GAAO,SAAAsW,GACX,IAAM8P,EAAM9P,EAAMyP,SAClBK,EAAMF,gBACNE,EAAMnC,QAAQ4B,GAAUpB,MAAK,EAC7B2B,EAAMJ,aAAaK,OACfD,EAAMJ,aAAaM,WAAU,SAAA1O,GAAI,OAAIA,EAAKvU,KAAOwiB,KACjD,GAEJvP,EAAMjN,WAAWwc,GAAUjkB,QA7BlB,YAAC,GA+BjBwjB,IAAa,SAACplB,EAAD,OAAmBikB,EAAnB,EAASjf,QAAUif,QAAnB,OACV5N,aAAQrW,GAAO,SAAAsW,GACX,IAAM8P,EAAM9P,EAAMyP,SAClBK,EAAM7f,OAAO,QACb6f,EAAMJ,aAAa/B,EAEnB3N,EAAM/R,KAAK,KACX+R,EAAM6F,UAAU,WAtCP,YAAC,GAwCjBkJ,IAAqB,SAACrlB,EAAD,OAAkBuE,EAAlB,EAASS,QAAT,OAClBqR,aAAQrW,GAAO,SAAAsW,GACXA,EAAM/R,KAAKA,QA1CF,YAAC,GA4CjB+gB,IAAqB,SAACtlB,EAAD,OAAkBmc,EAAlB,EAASnX,QAAT,OAAiCqR,aAAQrW,GAAO,SAAAsW,GAClEA,EAAM6F,UAAUA,QA7CH,YAAC,GA+CjB+I,IAAuB,SAACllB,GAAD,OACpBqW,aAAQrW,GAAO,SAAAsW,GACXA,EAAMyP,SAASxf,OAAO,iBAjDb,YAAC,GAmDjB4e,IAAuB,SAACnlB,GAAD,OACpBqW,aAAQrW,GAAO,SAAAsW,GACXA,EAAMyP,SAASxf,OAAO,gBArDb,IAwDrBsP,ICpLW0Q,GArCM,WAAK,IAAD,EAGoBvf,aAAY,gBAAG8e,EAAH,EAAGA,MAAH,MAAgB,CACjE9B,UAAW8B,EAAM9B,UACjBC,QAAS6B,EAAMC,SAAS9B,QACxBgC,SAAUH,EAAMC,SAASE,aAHrBjC,EAHa,EAGbA,UAAWC,EAHE,EAGFA,QAASgC,EAHP,EAGOA,SAMtBhf,EAAWC,cAEjBnG,qBAAU,WACNwE,QAAQC,IAAIye,KACb,CAACA,IAaJ,OACI,oCACI,kBAAC,GAAD,CACID,UAAWA,EACX5V,SAfS,SAAAxH,GACjBrB,QAAQC,IAAIoB,EAAElG,OAAO8lB,OACrBvf,EACI0e,GAAY,CACRnB,KAAM5d,EAAElG,OAAO8lB,MAAM,GACrBnjB,GAAI4iB,EACJxB,MAAM,MAUNR,QAASA,MCjCnB3lB,GAAYC,aAAW,SAAAf,GAAK,MAAK,CACnCqZ,MAAO,CACH9X,QAAS,OACT+Q,cAAe,SACfxC,WAAY,UAGhBwJ,OAAQ,CACJzX,OAAQ7B,EAAMqB,QAAQ,GACtBuO,gBAAiB5P,EAAME,QAAQG,UAAUD,MAE7CiX,KAAM,CACF/S,MAAO,OACPiV,UAAWvZ,EAAMqB,QAAQ,IAE7BmY,OAAQ,CACJ3X,OAAQ7B,EAAMqB,QAAQ,EAAG,EAAG,IAEhCQ,OAAQ,OAuBGonB,GAnBA,SAAC,GAAyB,IAAxBrI,EAAuB,EAAvBA,cAAe9U,EAAQ,EAARA,KACZhL,KAChB,OACI,oCACQ,kBAACgZ,GAAA,EAAD,CACIjY,OAAO,SACPmY,WAAS,EACTnU,GAAG,WACHkF,MAAM,wCACN4I,KAAK,WACLuG,WAAS,EACTtJ,SAAUgQ,EACVtJ,MAAOxL,EACPod,WAAS,MCNdC,GA3BK,WAChB,IAAM1f,EAAWC,cACToC,EAAStC,aAAY,kBAAgB,CACzCsC,KADyB,EAAGwc,MAChBxc,SADRA,KAIF8U,EAAcM,uBAAY,SAAA9X,GAG5B,OAFArB,QAAQC,IAAIoB,GACZrB,QAAQC,IAAIoB,EAAElG,OAAOoU,OACd7N,EAAS2N,GAAY,CAAChU,IAAK,OAAQkU,MAAOlO,EAAElG,OAAOoU,WAC3D,CACC7N,IAUJ,OALAlG,qBAAU,WACN,OAAM,WACFkG,EAASye,SAEd,CAACze,IAEA,oCACI,kBAAC,GAAD,CAAUmX,cAAeA,EAAe9U,KAAMA,MCV3Csd,GAfS,SAAC,GAAe,IAAdC,EAAa,EAAbA,UAEtB,OACI,oCACI,kBAAC5kB,EAAA,EAAD,CACId,KAAK,SACLqW,WAAS,EACTrY,MAAM,UACN6C,QAAQ,YACRN,QAASmlB,GALb,kBCyCGlW,gBA1CmB,SAAC,GAAe,IAAdE,EAAa,EAAbA,QAC1B5J,EAASC,cAD8B,EAEsBF,aAAY,gBAAE8e,EAAF,EAAEA,MAAF,MAAa,CACxF7B,QAAS6B,EAAMC,SAAS9B,QACxB3a,KAAMwc,EAAMxc,KACZC,KAAMuc,EAAMvc,KACZC,UAAWsc,EAAMtc,UACjBC,SAAUqc,EAAMrc,SAChBlF,KAAMuhB,EAAMvhB,KACZ4X,UAAW2J,EAAM3J,cAPb8H,EAFqC,EAErCA,QAAS3a,EAF4B,EAE5BA,KAAMC,EAFsB,EAEtBA,KAAMC,EAFgB,EAEhBA,UAAWC,EAFK,EAELA,SAAUlF,EAFL,EAEKA,KAAM4X,EAFX,EAEWA,UAqCxD,OAVApb,qBAAU,WACHwD,EACCsM,EAAQoJ,KAAK,cAEb1U,QAAQiB,IAAI,WAEb2V,GACC5W,QAAQiB,IAAI2V,KAEjB,CAACtL,EAAStM,EAAM4X,IACZ,kBAAC,GAAD,CAAmB0K,UA3BR,SAACjgB,GACfA,EAAE/F,iBACFoG,EACImC,GAAU,CACN6a,UACA3a,OACAC,OACAC,YACAC,oB,ulBCpBhB,IAAMqd,GAAcpqB,KAAOC,IAAV,KAKSe,GAAQ+Y,KAAK,GAG1B/Y,GAAQ+Y,KAAK,IAOpBsQ,GAAUrqB,aAAO0jB,KAAP1jB,CAAD,MAyBAsqB,GAbF,WAET,OACI,oCACI,kBAACF,GAAD,KACI,kBAACC,GAAD,CAAW1V,KAAK,SAAS5P,aAAW,OAAOO,QAAQ,YAC/C,kBAAC,KAAD,CAASX,UAAU,SADvB,4CCjBD4lB,GAhBS,WACpB,IAAMhgB,EAASC,cACTqC,EAAKvC,aAAY,SAAAhH,GAAK,OAAGA,EAAM8lB,MAAMvc,QAW3C,OAAO,kBAAC,GAAD,CAAQ2d,aATK,SAAAC,GAChBlgB,EACI2N,GAAY,CACRhU,IAAK,OACLkU,MAAOqS,MAKwB5d,KAAMA,K,0RCVrD,IAAMjL,GAAYC,aAAW,SAACf,GAAD,MAAY,CACrC4pB,YAAa,CACT/nB,OAAQ7B,EAAMqB,QAAQ,GACtBwoB,SAAU,SAGZC,GAAsB5qB,KAAOC,IAAR,MAIrB4qB,GAAkB7qB,aAAOmkB,KAAPnkB,CAAD,MAoCR8qB,GA3BQ,SAAC,GAAqC,EAAnCrW,KAAmC,EAA7B2D,MAA8B,IAAvBrL,EAAsB,EAAtBA,SAAU2E,EAAY,EAAZA,SAC7B9P,KAMhB,OACI,kBAACgpB,GAAD,KACI,kBAACC,GAAD,CAAmBvlB,QAAQ,WAAWqP,KAAK,SACvC,kBAACyP,GAAA,EAAD,CAAYzd,GAAG,gCAAf,YACA,kBAAC0d,GAAA,EAAD,CACIjM,MAAOrL,EACP2E,SAVK,SAACxH,GAElBwH,EAASxH,IASG2B,MAAM,YAEN,kBAAChF,EAAA,EAAD,CAAUuR,MAAM,gBAAhB,gBACA,kBAACvR,EAAA,EAAD,CAAUuR,MAAM,gBAAhB,gBACA,kBAACvR,EAAA,EAAD,CAAUuR,MAAM,gBAAhB,gBACA,kBAACvR,EAAA,EAAD,CAAUuR,MAAM,gBAAhB,oBCdL2S,GA1BgB,WAAK,IAAD,EAGSzgB,aAAY,gBAAG8e,EAAH,EAAGA,MAAH,MAAgB,CAChErc,SAAUqc,EAAMrc,SAChBwa,QAAS6B,EAAMC,SAAS9B,QACxBgC,SAAUH,EAAMC,SAASE,aAHrBxc,EAHuB,EAGvBA,SAMFxC,GATyB,EAGbgd,QAHa,EAGJgC,SAMV/e,eAEXkX,EAAcM,uBAAY,SAAA9X,GAC5B,OAAOK,EAAS2N,GAAY,CAAChU,IAAK,WAAYkU,MAAOlO,EAAElG,OAAOoU,WAC/D,CAAC7N,IAGJ,OACI,oCACI,kBAAC,GAAD,CACImH,SAAUgQ,EACV3U,SAAUA,MCMXkH,gBAtBC,SAAC,GAAa,IAAZE,EAAW,EAAXA,QAENlR,EAASqH,aAAY,kBAAe,CAAErH,KAAjB,EAAGA,KAAyBA,SAAjDA,KASR,OAPAoB,qBAAU,WACFpB,GAEAkR,EAAQoJ,KAAK,YAElB,CAACta,IAGA,kBAAC,GAAD,KACI,kBAAC,GAAD,MACA,kBAAC,GAAD,MACA,kBAAC+nB,GAAD,MACA,kBAAC,GAAD,MACA,kBAAC,GAAD,UCJGC,GAjBC,SAAC,GAAW,IAAVjF,EAAS,EAATA,MACd,OACI,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOplB,UAAWsqB,GAAezE,KAAI,UAAKT,EAAMS,MAAQ0E,OAAK,IAC7D,kBAAC,IAAD,CAAOvqB,UAAW4lB,GAAUC,KAAI,UAAKT,EAAMS,KAAX,yBAChC,kBAAC,IAAD,CAAO7lB,UAAWwqB,GAAW3E,KAAI,UAAKT,EAAMS,KAAX,YACjC,kBAAC,IAAD,CACI4E,OAAQ,gBAAEjX,EAAF,EAAEA,SAAF,OACJ,6BACI,kHACA,2BAAIA,EAASkX,gB,qyBCdrC,IAAMC,GAAWvrB,KAAOC,IAAR,MAYVurB,GAAaxrB,KAAOC,IAAR,MAaZwrB,GAAWzrB,KAAOC,IAAR,MAmBDyrB,GAZI,SAAC,GAAc,IAAb7qB,EAAY,EAAZA,SACjB,OACI,kBAAC0qB,GAAD,KACI,kBAAC,GAAD,KACI,kBAACE,GAAD,KACI,+DAEH5qB,K,kaCjCjB,IAAMe,GAAYC,aAAW,SAAAf,GAAK,MAAK,CACnC8O,KAAM,CACFrN,SAAU,EACVmO,gBAAiB5P,EAAME,QAAQe,WAAWoY,OAE9CA,MAAO,CACH9X,QAAS,OACT+Q,cAAe,SACfxC,WAAY,SACZ7O,WAAY,UACZqD,MAAO,QAEX+S,KAAM,CACF/S,MAAO,OAEXyG,MAAM,CACFxJ,QAAS,OACT+Q,cAAe,SACfzC,eAAe,SACfC,WAAY,cAIdyV,GAAarmB,aAAOuF,IAAPvF,CAAD,MAGZ2rB,GAAc3rB,KAAO6L,MAAR,MAcb+f,GAAU,SAAC,GAAyC,IAAvCnX,EAAsC,EAAtCA,KAAM2D,EAAgC,EAAhCA,MAAOvM,EAAyB,EAAzBA,MAAO6F,EAAkB,EAAlBA,SAAUtK,EAAQ,EAARA,KAAQ,EACX7G,IAAM6C,SAASgV,GADJ,mBAC9CyT,EAD8C,KAC/BC,EAD+B,KAOrD,OACI,oCACI,kBAACH,GAAD,KACI,4BAAK9f,GACD,kBAAC,KAAD,CACIuM,MAAOyT,EACPna,SAVC,SAAC7N,GAClBioB,EAAiBjoB,EAAMG,OAAOoU,OAC9B1G,EAAS7N,IASO4Q,KAAMA,GAELrN,EAAK0K,KAAI,SAAAoJ,GAAI,OACV,kBAACrU,EAAA,EAAD,CAAUuR,MAAO8C,EAAMhX,IAAKgX,GAAOA,UAOzD6Q,GAAe,SAAC,GAA6C,IAA3CtX,EAA0C,EAA1CA,KAAM2D,EAAoC,EAApCA,MAAOvM,EAA6B,EAA7BA,MAAO6F,EAAsB,EAAtBA,SAAUwQ,EAAY,EAAZA,SAClD,OACI,oCACI,kBAACyJ,GAAD,KACI,4BAAK9f,GACL,kBAAC+O,GAAA,EAAD,CACItV,QAAQ,WACR3C,OAAO,SACPkY,UAAQ,EACRC,WAAS,EACTrG,KAAMA,EACN/C,SAAUA,EACVwQ,SAAUA,EACV9J,MAAOA,OAgEZ4T,GAzDA,SAAC,GAAyD,IAAxDta,EAAuD,EAAvDA,SAAgB8I,GAAuC,EAA7CrC,KAA6C,EAAvCqC,UAAuB7U,GAAgB,EAA7BsmB,YAA6B,EAAhBtmB,UAAUumB,EAAM,EAANA,GACxD/oB,EAAUvB,KAIhB,OACI,oCACI,yBAAK+C,UAAWxB,EAAQgX,OAEpB,0BAAMxV,UAAWxB,EAAQgV,KAAMwC,YAAU,EAACH,SAAUA,GAChD,kBAAC,GAAD,CACI3O,MAAM,eACN4I,KAAK,OACL/C,SAAUA,IAEd,kBAAC,GAAD,CACI7F,MAAM,kCACN4I,KAAK,WACL/C,SAAUA,EACVwQ,UAAU,EACV9J,MAAOzS,IAEX,kBAAC,GAAD,CACIkG,MAAM,2BACN4I,KAAK,QACL/C,SAAUA,IAGd,kBAAC,GAAD,CACI7F,MAAM,eACN4I,KAAK,MACL/C,SAAUA,EACVtK,KA7BA,CAAC,eAAM,eAAM,eAAM,sBA8BnBgR,MAAO8T,IAEX,kBAAC,GAAD,CACIrgB,MAAM,eACN4I,KAAK,KACL/C,SAAUA,EACVtK,KAnCD,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,OAoChDgR,MAAO8T,IAEX,kBAAC,GAAD,CACIznB,KAAK,SACLqW,WAAS,EACTxV,QAAQ,YACR7C,MAAM,UACNkC,UAAWxB,EAAQmX,OACnBtV,QAASwV,GANb,oB,sqBChIpB,I,GAAM6G,GAAMrhB,KAAO2hB,MAAR,MASLwK,GAAUnsB,aAAOwW,KAAPxW,CAAD,MAqBT4B,IAba5B,KAAOC,IAAR,MAaA4B,aAAW,SAAAf,GAAK,MAAK,CACnCsZ,OAAQ,CACJhV,MAAO,QACPC,OAAQ,SAEZuK,KAAM,CACFrN,SAAU,EACVmO,gBAAiB5P,EAAME,QAAQe,WAAWoY,OAE9CA,MAAO,CACH9X,QAAS,OACT+Q,cAAe,SACfxC,WAAY,UAEhB/E,MAAM,CACFxJ,QAAS,OACT+Q,cAAe,SACfzC,eAAe,SACfC,WAAY,eA+BLwb,GAxBK,SAAC,GAA8B,IAA7B1a,EAA4B,EAA5BA,SACZvO,GADwC,EAAlBgV,KAAkB,EAAZqC,SAClB5Y,MAD8B,EAEpBrB,IAAM6C,SAAS,GAFK,6BAM9C,OACI,oCACI,oCACI,2BAAOuB,UAAWxB,EAAQ0I,OACtB,kBAACsgB,GAAD,CAAYhnB,IAAI,kBAChB,iFACA,kBAAC,GAAD,CACI6iB,OAAO,UACPvjB,KAAK,OACLgQ,KAAK,gBACL/C,SAAUA,Q,YCpBxByW,I,YAsBAC,I,YAkEOiE,I,GAhIb9jB,GAAyB,gC,qBAHzB+jB,G,MACAC,G,gBAOAhkB,GAAyB,iC,qBAHzBggB,G,MACAC,G,MACAC,G,SAOAlgB,GAAyB,kC,qBAHzBikB,G,MACAC,G,MACAC,G,SASDnkB,GAAyB,6B,qBAHxBsgB,G,MACAC,G,MACAC,G,MAKSE,IAFWjhB,YA7BP,8BA+BUA,YA9BR,gCA8BmC,SAAAkhB,GAAW,OAAIA,MAExDyD,GAAY3kB,YAAaskB,IAEzBpU,GAAYlQ,YAjCN,gCAiCiC,kBAAmB,CACnE9D,IADgD,EAAEA,IAElDkU,MAFgD,EAAOA,UAKpCpQ,YAAawkB,IAAgB,kBAAiD,CACjGjF,QADgD,EAAEA,QAElD3a,KAFgD,EAAWA,KAG3DC,KAHgD,EAAiBA,KAIjEC,UAJgD,EAAwBA,UAKxEC,SALgD,EAAmCA,aAQvF,SAAUob,GAAgBe,GAA1B,iEAIuB,OAHnBrgB,QAAQiB,IAAI,uBAERjB,QAAQC,IAAIogB,GAHpB,SAI6BngB,YAAMqf,GAAc,CACrC3jB,KAAMokB,GACNvgB,QAAS,CACLgE,WAAY4c,EAAYpB,QAPxC,iCAWY,OAXZ,SAWkBlf,YAAI,CACNnE,KAAMgkB,KAZtB,iCAcmB,GAdnB,OAgBI,OAhBJ,UAgBU7f,YAAI,CACNnE,KAAM+jB,KAjBd,kCAmBW,GAnBX,yCAsBA,SAAUJ,GAAa/f,GAAvB,uEAEyB,OAFzB,kBAE+BU,YAAKY,EAA0BtB,EAAOC,SAFrE,OAIQ,OAFMU,EAFd,OAGQH,QAAQC,IAAIE,GAAUH,QAAQC,IAAIE,EAASC,KAAK/D,KAHxD,SAIc0D,YAAI,CACNnE,KAAMqkB,GACNxgB,QAAS,CACLpD,IAAK8D,EAASC,KAAK/D,OAPnC,iCAWe,GAXf,QAeQ,OAfR,0BAcQ2D,QAAQM,MAAR,MAdR,UAecP,YAAI,CACNnE,KAAMskB,GACNzgB,QAAQ,EAAD,GACPa,OAAO,IAlBnB,kCAoBe,GApBf,uDAgEA,IAAMyjB,GAAgBpkB,GAAkB8jB,I1EtHf,kBAAI/kB,EAAOI,IAAI,6B0EwHjC,SAAU0kB,KAAV,iEACH,OADG,SACGliB,YAAWmiB,GAAcM,IAD5B,OAEH,OAFG,SAEGziB,YAAWoe,GAAcJ,IAF5B,wCAMP,IAAMhP,GAAa,CACfkQ,SAAU,CACNH,YAAa,KACb2D,cAAe,KACfC,YAAa,KACbjjB,OAAQ,UACR4f,WAAY,MAEhB9jB,SAAU,GACV+S,MAAO,GACPjE,KAAM,GACNsY,IAAK,GACLb,GAAI,GACJc,aAAc,GACd5Y,SAAU,GACV6Y,cAAe,KACfC,QAAS,KACTC,aAAc,MA4EHC,GAzEOhlB,aAAa,kBAAC,GAlKnB,8BAoKK,SAAA9E,GAAK,OAAG6V,MAFK,YAAC,GAG3BoT,IAAuB,SAACjpB,EAAD,OAAkB4pB,EAAlB,EAAS5kB,QAAT,sBACjBhF,EADiB,CAEpBoV,MAAOwU,EAAQxU,MACfjE,KAAMyY,EAAQzY,KACdsY,IAAKG,EAAQH,IACbb,GAAIgB,EAAQhB,GACZc,aAAcE,EAAQF,aACtB5Y,SAAU8Y,EAAQ9Y,SAClB6Y,cAAeC,EAAQD,mBAXA,YAAC,GAhKjB,gCA6KK,SAAC3pB,EAAD,WAASgF,QAAUpE,EAAnB,EAAmBA,IAAKkU,EAAxB,EAAwBA,MAAxB,sBACT9U,EADS,eAEXY,EAAMkU,OAfgB,YAAC,GAjKjB,gCAkLK,SAAC9U,EAAD,OAAmB4lB,EAAnB,EAAU5gB,QAAV,OACZqR,aAAQrW,GAAO,SAAAsW,GACX/Q,QAAQC,IAAIogB,GACRA,EAAYpB,KAAKrT,MAAQyU,EAAYpB,KAAKrT,KAAKuR,MAAM,yBAKrDpM,EAAMyP,SAASwD,cAAc3D,GAG7BrgB,QAAQiB,IAAI,6BACZ8P,EAAMyP,SAASyD,aAAY,SA7BZ,YAAC,GAgC3BhE,IAAoB,SAACxlB,EAAD,WAASgF,QAAT,EAAmBpD,IAAnB,EAAwBikB,SAAxB,OACjBxP,aAAQrW,GAAO,SAAAsW,GACX,IAAM8P,EAAM9P,EAAMyP,SAClBK,EAAM7f,OAAO,WACb6f,EAAMF,sBApCa,YAAC,GA6C3BgD,IAAiB,SAAClpB,EAAD,OAAmBikB,EAAnB,EAASjf,QAAUif,QAAnB,OACd5N,aAAQrW,GAAO,SAAAsW,GACX,IAAM8P,EAAM9P,EAAMyP,SAClBK,EAAM7f,OAAO,QACb6f,EAAMJ,aAAa/B,EAEnB3N,EAAM/R,KAAK,KACX+R,EAAM6F,UAAU,WApDG,YAAC,GAsD3BgN,IAAyB,SAACnpB,EAAD,OAAkBuE,EAAlB,EAASS,QAAT,OACtBqR,aAAQrW,GAAO,SAAAsW,GACXA,EAAM/R,KAAKA,QAxDQ,YAAC,GA0D3B6kB,IAAyB,SAACppB,EAAD,OAAkBmc,EAAlB,EAASnX,QAAT,OAAiCqR,aAAQrW,GAAO,SAAAsW,GACtEA,EAAM6F,UAAUA,QA3DO,YAAC,GA6D3B+I,IAAuB,SAACllB,GAAD,OACpBqW,aAAQrW,GAAO,SAAAsW,GACXA,EAAMyP,SAASxf,OAAO,iBA/DH,YAAC,GAiE3B4e,IAAuB,SAACnlB,GAAD,OACpBqW,aAAQrW,GAAO,SAAAsW,GACXA,EAAMyP,SAASxf,OAAO,gBAnEH,IAsE/BsP,IC7LWkU,GA/Cc,WAAK,IAAD,EAOzB/iB,aAAY,gBAAGrH,EAAH,EAAGA,KAAMmqB,EAAT,EAASA,gBAAT,MAAgC,CAC5CnqB,KAAMA,EAAKA,KACXomB,SAAU+D,EAAgB/D,SAC1BH,YAAakE,EAAgB/D,SAASH,YACtC2D,cAAeO,EAAgB/D,SAASwD,kBARxC5pB,EAHyB,EAGzBA,KACAomB,EAJyB,EAIzBA,SAUE9e,GAduB,EAKzB2e,YALyB,EAMzB2D,cAQariB,eACjBnG,qBAAU,WACN,GAAGpB,EAAK,CAAC,IACEqR,EAAOrR,EAAPqR,IACP/J,EAASoiB,GAAYrY,IAIzB,OAAO,eAGR,CAAC/J,EAAUtH,IAYd,OACI,oCACI,kBAAC,GAAD,CACIomB,SAAUA,EACV3X,SAbS,SAAAxH,GACjBrB,QAAQC,IAAIoB,EAAElG,OAAO8lB,OACrBvf,EACI0e,GAAY,CACRnB,KAAM5d,EAAElG,OAAO8lB,MAAM,WC+BtB7V,gBA9DY,SAAC,GAAa,IAAZE,EAAW,EAAXA,QACnB5J,EAAWC,cADmB,EAShCF,aAAY,gBAAGrH,EAAH,EAAGA,KAAMqqB,EAAT,EAASA,YAAT,MAA4B,CACxCrqB,KAAMA,EAAKA,KACXwR,KAAM6Y,EAAY7Y,KAClB9O,SAAU2nB,EAAY3nB,SACtBumB,GAAIoB,EAAYpB,GAChBc,aAAcM,EAAYN,aAC1B5Y,SAAUkZ,EAAYlZ,aAZtBnR,EAHgC,EAGhCA,KACAwR,EAJgC,EAIhCA,KAEAyX,GANgC,EAKhCvmB,SALgC,EAMhCumB,IANgC,EAOhCc,aAPgC,EAQhC5Y,SAWJ/P,qBAAU,WACHpB,GACC4F,QAAQC,IAAI7F,GACZsH,EAASoiB,OAETxY,EAAQoJ,KAAK,OAElB,CAAChT,IAGJ,IAUMmH,EAAWsQ,uBAAY,SAAA9X,GAAM,IAAD,EACNA,EAAElG,OAAlBoU,EADsB,EACtBA,MAAO3D,EADe,EACfA,KACflK,EACI2N,GAAY,CACRhU,IAAKuQ,EACL2D,aAGT,CAAC7N,IAEJ,OACI,oCACI,kBAAC,GAAD,CACItH,KAAMA,EACNyO,SAAUA,EACV+C,KAAMA,EACN9O,SAAU1C,GAAQA,EAAK0C,SACvBumB,GAAIA,QC5CLhC,GAfS,SAAC,GAAoB,IAAnBllB,EAAkB,EAAlBA,QAAS6G,EAAS,EAATA,MAE/B,OACI,oCACI,kBAACtG,EAAA,EAAD,CACId,KAAK,SACLqW,WAAS,EACTrY,MAAM,UACN6C,QAAQ,YACRN,QAASA,GACX6G,KCMC0hB,IC6BAtZ,aA1CmB,SAAC,GAAe,IAAdE,EAAa,EAAbA,QAC1B5J,EAASC,cAD8B,EAEsBF,aAAY,gBAAE8e,EAAF,EAAEA,MAAF,MAAa,CACxF7B,QAAS6B,EAAMC,SAAS9B,QACxB3a,KAAMwc,EAAMxc,KACZC,KAAMuc,EAAMvc,KACZC,UAAWsc,EAAMtc,UACjBC,SAAUqc,EAAMrc,SAChBlF,KAAMuhB,EAAMvhB,KACZ4X,UAAW2J,EAAM3J,cAPb8H,EAFqC,EAErCA,QAAS3a,EAF4B,EAE5BA,KAAMC,EAFsB,EAEtBA,KAAMC,EAFgB,EAEhBA,UAAWC,EAFK,EAELA,SAAUlF,EAFL,EAEKA,KAAM4X,EAFX,EAEWA,UAqCxD,OAVApb,qBAAU,WACHwD,EACCsM,EAAQoJ,KAAK,cAEb1U,QAAQiB,IAAI,WAEb2V,GACC5W,QAAQiB,IAAI2V,KAEjB,CAACtL,EAAStM,EAAM4X,IACZ,kBAAC,GAAD,CAAmBza,QA3BR,SAACkF,GACfA,EAAE/F,iBACFoG,EACImC,GAAU,CACN6a,UACA3a,OACAC,OACAC,YACAC,eAmBkClB,MAAM,oBDtClC,WAClB,OACI,oCACI,kBAAC,GAAD,MACA,kBAAC,GAAD,KACI,kBAAC,GAAD,MACA,kBAAC,GAAD,UEID2hB,GAXQ,WACnB,OACI,oCACI,kBAAC,GAAD,MACA,kBAAC,GAAD,KACI,kBAAC,GAAD,SCGDC,GATD,SAAC,GAAW,IAAVzH,EAAS,EAATA,MACZ,OACI,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOplB,UAAW4sB,GAAkB/G,KAAI,UAAKT,EAAMS,KAAX,eACxC,kBAAC,IAAD,CAAO7lB,UAAW2sB,GAAiB9G,KAAI,UAAKT,EAAMS,KAAX,a,yqBCLnD,IAAMvI,GAAcC,aAAH,MAQXuP,GAAyB1tB,KAAOC,IAAR,MAqBf,SAAS0tB,GAAT,GAAsE,EAAxCzZ,OAAwC,EAAhC/L,QAAgC,EAAvBgB,MAAwB,IAAjBtI,EAAgB,EAAhBA,SAAgB,EAANgH,KAE3E,OACI,oCACI,kBAAC,GAAD,MACA,kBAAC6lB,GAAD,KACK7sB,I,4OClCjB,IAAM+sB,GAAqB5tB,KAAOC,IAAR,MASpB2B,GAAYC,aAAW,SAACf,GAAD,MAAY,CACrC8O,KAAM,CACFvN,QAAS,OACTH,YAAa,OACb0O,WAAY,UAEhBid,UAAW,CACP3rB,YAAa,MACb2I,SAAU,WAEdijB,UAAW,OAIA,SAASC,GAAT,GAAyC,IAAfliB,EAAc,EAAdA,MAAOuM,EAAO,EAAPA,MACtCjV,EAAUvB,KAChB,OACI,kBAACgsB,GAAD,KACI,kBAAClT,GAAA,EAAD,CAAY/V,UAAWxB,EAAQ0qB,WAC1BhiB,GAEL,kBAAC6O,GAAA,EAAD,CAAY/V,UAAWxB,EAAQ2qB,WAC1B1V,I,64CC3BjB,IAAM4V,GAAiBhuB,KAAOC,IAAR,MAahBguB,GAAYjuB,KAAOC,IAAR,MASXiuB,GAAgBluB,KAAOC,IAAR,MAmBfkuB,GAAiBnuB,KAAOC,IAAR,MAuDtB,SAASmuB,KACL,OACI,oCACI,kBAACD,GAAD,KACI,kBAAClZ,GAAA,EAAD,CAAUtQ,UAAU,YAAYW,QAAQ,YAE5C,kBAAC2oB,GAAD,KACI,kBAACC,GAAD,KACI,kBAACjZ,GAAA,EAAD,CAAUtQ,UAAU,eAAeW,QAAQ,UAE/C,kBAAC4oB,GAAD,KACI,kBAACjZ,GAAA,EAAD,CAAUtQ,UAAU,eAAeW,QAAQ,SAC3C,kBAAC2P,GAAA,EAAD,CAAUtQ,UAAU,eAAeW,QAAQ,SAC3C,kBAAC2P,GAAA,EAAD,CAAUtQ,UAAU,eAAeW,QAAQ,UAE/C,kBAAC4oB,GAAD,KACI,kBAACjZ,GAAA,EAAD,CAAUtQ,UAAU,eAAeW,QAAQ,YAOhD+oB,OAhEf,YAA6C,IAAvBf,EAAsB,EAAtBA,YAAanlB,EAAS,EAATA,QAC/B,OACI,kBAAC6lB,GAAD,MACQV,GAAenlB,EAAW,kBAACimB,GAAD,MAC1B,oCACI,kBAACD,GAAD,KACI,kBAAC3X,GAAA,EAAD,CAAQ7R,UAAU,eAEtB,kBAACspB,GAAD,KACI,kBAACC,GAAD,KACI,kBAACxT,GAAA,EAAD,CAAYpV,QAAQ,KAAK1E,UAAU,MAC9B0sB,EAAY3nB,UAEjB,kBAAC2oB,GAAA,EAAD,CAAM3pB,UAAU,OAAOgQ,KAAK,QAAQ9I,MAAM,SAC1C,kBAACtG,EAAA,EAAD,CAAQD,QAAQ,YAAYqP,KAAK,QAAQlS,MAAM,WAA/C,WAEJ,kBAACyrB,GAAD,KACI,kBAACH,GAAD,CACIliB,MAAM,qBACNuM,MAAOkV,EAAYiB,YAEvB,kBAACR,GAAD,CACIliB,MAAM,qBACNuM,MAAOkV,EAAYkB,SAAStc,SAEhC,kBAAC6b,GAAD,CACIliB,MAAM,qBACNuM,MAAOkV,EAAYmB,UAAUvc,UAGrC,kBAACwI,GAAA,EAAD,CAAYpV,QAAQ,aACfgoB,EAAY7Y,U,gTC1FzC,IAAMia,GAAU1uB,aAAO0kB,KAAP1kB,CAAD,MAGT2uB,GAAW3uB,aAAOukB,KAAPvkB,CAAD,MAQD,SAAS4uB,GAAT,GAAgE,EAAxC1a,OAAwC,EAAhC/L,QAAgC,EAAvBgB,MAAuB,EAAhBtI,SAAgB,EAANgH,KAAO,IAAD,EACjDtH,IAAM6C,SAAS,GADkC,mBACpEgV,EADoE,KAC7DyW,EAD6D,KAO3E,OACI,oCACI,kBAACF,GAAD,CACIvW,MAAOA,EACP1G,SATS,SAAC7N,EAAO4gB,GACzB5b,QAAQiB,IAAI2a,GACZoK,EAASpK,IAQDqK,eAAe,YACfC,UAAU,YACVC,UAAQ,GAER,kBAACN,GAAD,CAAW7iB,MAAM,uBACjB,kBAAC6iB,GAAD,CAAW7iB,MAAM,wBACjB,kBAAC6iB,GAAD,CAAW7iB,MAAM,sCC7B1B,I,eCkCUojB,I,GAtBb1mB,GAAyB,4B,qBAHzB2mB,G,MACAC,G,gBAOA5mB,GAAyB,6B,qBAMhB6mB,I,kBAFWpnB,YAjBP,0BAmBQA,YAAaknB,IAAc,SAAAvpB,GAAQ,OAAIA,MAEnD0pB,GAAcrnB,YANN,8BAafsnB,IALmBtnB,YArBN,4BAqBiC,kBAAmB,CACnE9D,IADgD,EAAEA,IAElDkU,MAFgD,EAAOA,UAKrC5P,GAAkB0mB,IDAJ,SAAAvpB,GAAQ,OAAI4B,EAAOI,IAAP,qBAAyBhC,QCElE,SAAUspB,KAAV,iEACH,OADG,SACG9kB,YAAW+kB,GAAcI,IAD5B,wCAIP,IAAMnW,GAAa,CACfmU,YAAa,KACbH,aAAc,MAeHG,GAZGllB,aAAa,kBAAC,GAvCf,0BAyCK,SAAA9E,GAAK,OAAG6V,MAFC,YAAC,GAGvBgW,IAAuB,SAAC7rB,EAAD,OAAkBgqB,EAAlB,EAAShlB,QAAT,sBACjBhF,EADiB,CAEpBgqB,YAAaA,OALM,YAAC,GAxBX,8BA+BK,kBAAInU,MAPC,IAS3BA,ICvBWlF,gBA5BY,SAAC,GAAW,IAE3BtO,EAF0B,EAATqgB,MAEEC,OAAnBtgB,SACF4E,EAASC,cAHmB,EAIIF,aAAY,gBAAEgjB,EAAF,EAAEA,YAAanlB,EAAf,EAAeA,QAAf,MAA2B,CACzEmlB,YAAaA,EAAYA,YACzBnkB,MAAOmkB,EAAYH,aACnBhlB,QAASA,EAAQ,gCAHdmlB,EAJ2B,EAI3BA,YAAankB,EAJc,EAIdA,MAAOhB,EAJO,EAIPA,QAe3B,OATA9D,qBAAU,WAGN,OAFAkG,EAAS6kB,GAAYzpB,IAEd,WACH4E,EAAS8kB,SAEd,CAAC9kB,EAAU5E,IAIV,kBAAC,GAAD,CACI2nB,YAAaA,EACbnlB,QAASA,EACTgB,MAAOA,OCXJomB,OAXf,WACI,OACI,oCACI,kBAAC,GAAD,MACA,kBAAC5B,GAAD,KACI,kBAAC,GAAD,MACA,kBAACiB,GAAD,SCDDY,GARJ,SAAC,GAAW,IAAVxJ,EAAS,EAATA,MACT,OACI,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOplB,UAAW2uB,GAAiB9I,KAAI,UAAKT,EAAMS,KAAX,cAA6B0E,OAAK,M,ypCCFrF,I,GAAMsE,GAAwBzvB,KAAOC,IAAR,MAgBvByL,GAAW1L,KAAOC,IAAR,MAaVyvB,GAAmB1vB,KAAOC,IAAR,MAMlB0vB,GAAgB3vB,aAAO4a,KAAP5a,CAAD,MAGN,SAAS4vB,GAAT,GAAyC,IAAZ/uB,EAAW,EAAXA,SACxC,OACI,kBAAC4uB,GAAD,KACI,kBAAC,GAAD,KACI,kBAACC,GAAD,KACI,kBAACnqB,EAAA,EAAD,CAAQoP,KAAK,QAAQrP,QAAQ,WAAW7C,MAAM,WAA9C,6BAGA,0BAAMkY,YAAU,EAACI,aAAa,OAC1B,kBAAC4U,GAAD,CAAiBhpB,GAAG,iBAAiBgO,KAAK,QAAQ9I,MAAM,qDAAavG,QAAQ,eAGpFzE,I,gBCtBP0d,I,YAuBOsR,I,GA7CftnB,GAAyB,2B,qBAHvB+E,G,MACAC,G,MACAC,G,SAOFjF,GAAyB,wB,qBAHvBsW,G,MACAC,G,MAMShT,I,MAAY9D,YACrBsF,IACA,kBAA4B,CAACtB,KAA7B,EAAEA,KAAiCC,QAAnC,EAAQA,QAAoCF,KAA5C,EAAiBA,UAGRiT,GAAahX,YAPN,4BAQhB,kBAAsB,CAACgE,KAAvB,EAAEA,KAA2BC,QAA7B,EAAQA,YAGN2B,GAAgBpF,GAAkB8E,GAAcO,IAChDiiB,GAAoBtnB,GAAkBqW,GAAWhR,IAEvD,SAAU0Q,GAAiBlW,GAA3B,2EAEgB,OADZQ,QAAQC,IAAIT,GADhB,SAEsB+W,cAFtB,UAEU9b,EAFV,OAIIuF,QAAQC,IAAIxF,GACN+b,EAAU/b,EAAM6E,QAAQ,2BACxB4nB,EAAazsB,EAAM0sB,WACrB3Q,IAAa0Q,EAAa9hB,SAAW8hB,EAAaxQ,WAAWwQ,EAAahkB,KAPlF,iBAaQ,OAJAlD,QAAQC,IAAIinB,EAAaxQ,UACzB1W,QAAQC,IAAIinB,EAAahkB,MACzBlD,QAAQC,IAAIT,EAAOC,SAX3B,UAacS,YAAK+mB,GAAqB,CAC5BxnB,QAAQ,eACDD,EAAOC,QADP,CAEHyD,KAAMgkB,EAAahkB,KAAK,MAhBxC,gCAoBQlD,QAAQiB,IAAI,uBApBpB,yCAuBO,SAAU+lB,KAAV,iEACH,OADG,SACG1lB,YAAWmD,GAAcM,IAD5B,OAEH,OAFG,SAEGzD,YAvCU,2BAuCgBoU,IAF7B,wCAKP,IA+BeyR,GArBE5nB,aAAa,kBAAC,GAEtBmF,IAAuB,SAACjK,EAAD,OAAkB2K,EAAlB,EAAS3F,QAAwBU,EAAjC,EAA2BE,KAA3B,sBACjB5F,EADiB,CAEpB2K,UACAsR,SAAUpJ,SAASnN,EAAS4W,QAAQ,aAAc,SALhC,YAAC,GAOtBpS,IAAuB,SAAClK,EAAD,OAAkB6F,EAAlB,EAASb,QAAT,sBACjBhF,EADiB,CAEpB6F,aATkB,YAAC,GAWtB2V,IAAoB,SAACxb,EAAD,OAAkB2K,EAAlB,EAAS3F,QAAwBU,EAAjC,EAA2BE,KAA3B,sBACd5F,EADc,CAEjB2K,QAAS3K,EAAM2K,QAAQ4R,OAAO5R,GAC9BlC,KAAMzI,EAAMyI,KAAK,EACjBwT,SAAUpJ,SAASnN,EAAS4W,QAAQ,aAAc,SAfhC,IAVX,CACf5T,KAAM,KACNC,QAAS,KACTgC,QAAS,KACTkV,OAAQ,GACRha,MAAO,KACPoW,SAAU,EACVxT,KAAM,I,y0BC/DV,I,GAAMkkB,GAAYjwB,KAAOC,IAAR,MAQXiwB,GAAgBlwB,KAAOC,IAAR,MA0Bf2B,GAAYC,aAAW,SAAAf,GAAK,MAAK,CACnC6hB,UAAW,CAEPtgB,QAAS,OACTsO,eAAgB,SAChBC,WAAY,SACZgS,UAAW,YAsCJuN,GAlCE,SAAC,GAA0E,IAAzEC,EAAwE,EAAxEA,eAAgBC,EAAwD,EAAxDA,gBAAwBpiB,GAAgC,EAAvC9E,MAAuC,EAAhC8E,SAASsO,EAAuB,EAAvBA,OAAOwG,EAAgB,EAAhBA,aACjE5f,EAAUvB,KAEhB,OACI,kBAACquB,GAAD,KACI,kBAACC,GAAD,CAAiBvvB,IAAKoiB,IAChBqN,GAAkBniB,GAChBA,EAAQ6D,KAAI,SAAAoC,GAAM,OACd,kBAAC,GAAD,CACIA,OAAQA,EACRhQ,IAAKgQ,EAAOI,IACZxB,eAAa,QAK7B,yBAAKnO,UAAWxB,EAAQwf,UACnBhiB,IAAK4b,GAEL6T,GACG,oCACI,kBAAC5T,GAAA,EAAD,OAIP6T,GACG,kBAAC7T,GAAA,EAAD,SCKLvI,gBAzEW,SAAC,GAAe,IAAdG,EAAa,EAAbA,SAClB7J,EAASC,cACT+R,EAAO5Y,mBACPof,EAAapf,mBACb2sB,EAAY3sB,iBAAO,GAJY,EAKkC2G,aACnE,gBAAG0lB,EAAH,EAAGA,WAAY7nB,EAAf,EAAeA,QAASlF,EAAxB,EAAwBA,KAAxB,MAAmC,CAC/BgL,QAAS+hB,EAAW/hB,QACpB9E,MAAO6mB,EAAW7mB,MAClB+M,eAAgB/N,EAAQ,2BACxBlF,KAAMA,EAAKA,KACXstB,mBAAoBpoB,EAAQ,wBAC5B4D,KAAMikB,EAAWjkB,SAPlBkC,EAL8B,EAK9BA,QAAS9E,EALqB,EAKrBA,MAAO+M,EALc,EAKdA,eAAgBjT,EALF,EAKEA,KAAMstB,EALR,EAKQA,mBAAoBxkB,EAL5B,EAK4BA,KAWjE1H,qBAAU,WAAM,IAAD,EACiB8H,KAAG+W,MAAM9O,EAAS+O,OAAQ,CAClDC,mBAAmB,IADhBpX,EADI,EACJA,KAAMC,EADF,EACEA,QAASF,EADX,EACWA,KAGtBukB,EAAYxsB,QAAQqS,SAASpK,GAAQ,IAAK,IAC1CxB,EAASuB,GAAY,CAACE,OAAMC,UAASF,YACtC,CAACxB,EAAU6J,EAAS+O,SAEvB9e,qBAAU,WACNwE,QAAQiB,IAAI,uBAAwBiC,KACrC,CAACA,IAEJ,IAAMsX,EAAU,CACZzT,KAAMmT,EAAajf,QAEnBwL,WAAY,OACZD,UAAW,GAuBf,OAnBAhL,qBAAU,WACK,IAAIyK,sBAAqB,SAACC,EAASH,GAC1CG,EAAQC,SAAQ,SAAAC,GAEZ,GAAIA,EAAME,eAAgB,CACtBtG,QAAQiB,IAAImF,GADU,MAGA9C,KAAG+W,MAAM9O,EAAS+O,OAAQ,CAC5CC,mBAAmB,IADhBhW,EAHe,EAGfA,IAAKzH,EAHU,EAGVA,SAGZ4E,EAASyU,GAAa,CAAC5R,MAAKzH,oBAGrC0d,GAEA9T,QAAQgN,EAAOzY,WAEnB,CAACyG,IAGA,oCACI,kBAAC,GAAD,CACI6lB,eAAgBla,EAChBma,gBAAiBE,EACjBpnB,MAAOA,EACP8E,QAASA,EACTqV,gBAAiBrgB,EACjBsZ,OAAQA,EACRwG,aAAcA,QCxDfyN,GAXM,WACjB,OACI,oCACI,kBAAC,GAAD,MACA,kBAACZ,GAAD,KACI,kBAAC,GAAD,S,YCUCa,I,GARfloB,GAAyB,sB,qBAHvBmoB,G,MACAC,G,MACAC,G,MAKSC,GAAW7oB,YAAa0oB,IAAa,SAAA/pB,GAAE,OAAEA,KACzCmqB,GAAa9oB,YAJN,wBAMd+oB,GAAevoB,GAAkBkoB,IxFNf,SAAA/pB,GAAE,OAAEY,EAAOI,IAAP,uBAA2BhB,OwFOhD,SAAU8pB,KAAV,iEACH,OADG,SACGtmB,YAAWumB,GAAaK,IAD3B,wCAIP,IAAM5X,GAAa,CACfjF,OAAQ,KACR/K,MAAO,MAkBI+K,GAfF9L,aAAa,kBAAC,GAElBuoB,IAAsB,SAACrtB,EAAD,OAAkB4Q,EAAlB,EAAS5L,QAAT,sBAChBhF,EADgB,CAEnB4Q,cAJc,YAAC,GAMlB0c,IAAsB,SAACttB,EAAD,OAAkB6F,EAAlB,EAASb,QAAT,sBAChBhF,EADgB,CAEnB6F,aARc,YAAC,GAhBP,wBA0BK,kBAAIgQ,MAVH,IAYtBA,I,qtBCzBJ,IAAM6X,GAAgBhxB,KAAOC,IAAR,MAqBf2B,GAAYC,aAAW,SAACf,GAAD,MAAY,CACrCmwB,OAAQ,CAEJpgB,UAAW,eACXqgB,WAAY,OACZnrB,WAAYjF,EAAMqwB,YAAY1pB,OAAO,YAAa,CAC9C2pB,SAAUtwB,EAAMqwB,YAAYC,SAASC,YAG7CC,WAAY,CACRzgB,UAAW,kBAEfvO,MAAO,CACHuI,SAAU,QACV0mB,WAAY,QAEhBC,YAAY,CACRnvB,QAAS,OACT+Q,cAAe,MACfxC,WAAY,UAGhB6gB,UAAU,CACN5U,UAAW,OAEf6U,SAAU,CACNrvB,QAAS,OACT+Q,cAAe,UAEnBue,aAAc,CACVjW,aAAc,OACdwV,WAAY,YAKL,SAASU,GAAT,GAAwD,IAAnC1d,EAAkC,EAAlCA,OAC1B/Q,GAD4D,EAA1BgF,QAA0B,EAAjBgB,MAAiB,EAAVtI,SACxCe,MADkD,EAElCrB,IAAM6C,UAAS,GAFmB,mBAE3DyuB,EAF2D,KAEjDC,EAFiD,KAOlE,OACI,oCACI,kBAACd,GAAD,KACI,uBAAGrsB,UAAWxB,EAAQb,OAAQ4R,EAAO5R,OAErC,yBAAKqC,UAAWxB,EAAQquB,aACpB,kBAAC,KAAD,CAAgB7sB,UAAWxB,EAAQyH,OACnC,2BAAKsJ,EAAOE,WAEhB,yBAAKzP,UAAWxB,EAAQquB,aACpB,kBAAC,KAAD,CAAU7sB,UAAWxB,EAAQyH,OAC7B,2BAAKsJ,EAAO6d,UAEhB,yBAAKptB,UAAWxB,EAAQquB,aACpB,kBAAC,KAAD,CAAkB7sB,UAAWxB,EAAQyH,OACrC,yBAAKjG,UAAWxB,EAAQuuB,UAClBxd,EAAO8d,MAAMlgB,KAAI,SAACmgB,EAAMjgB,GAAP,OACf,uBAAG9N,IAAK8N,EAAOmJ,KAAM8W,GAChBA,QAKjB,yBAAKttB,UAAWxB,EAAQquB,aACpB,kBAAC,KAAD,CAAuB7sB,UAAWxB,EAAQyH,OAE1C,2CACA,kBAAC/F,EAAA,EAAD,CACIF,UAAWuM,mBAAK/N,EAAQ8tB,OAAT,eACV9tB,EAAQmuB,WAAaO,IAE1B7sB,QAlCM,WACtB8sB,GAAaD,IAkCGK,gBAAeL,EACf9sB,aAAW,aAEX,kBAAC,KAAD,QAIR,kBAACotB,GAAA,EAAD,CAAUxtB,UAAWxB,EAAQsuB,UAAWW,GAAIP,EAAUQ,QAAQ,OAAOC,eAAa,GAC9E,4BACMpe,EAAOqe,OAAOzgB,KAAI,SAAC0gB,EAAOxgB,GAAR,OAChB,wBAAI9N,IAAKsuB,EAAMle,KAAf,UACQke,EAAMC,OADd,aACyBD,EAAMA,aAK3C,yBAAK7tB,UAAWxB,EAAQquB,aACpB,kBAAC,KAAD,CAA8B7sB,UAAWxB,EAAQyH,OACjD,4CAGJ,kBAAC8nB,GAAA,EAAD,CAAa/tB,UAAWxB,EAAQwuB,aAAcgB,IAAK,GAC/C,kBAACnc,GAAA,EAAD,CAAQrR,IAAI,aAAaF,IAAI,gCAC7B,kBAACuR,GAAA,EAAD,CAAQrR,IAAI,gBAAgBF,IAAI,gCAChC,kBAACuR,GAAA,EAAD,CAAQrR,IAAI,cAAcF,IAAI,gCAC9B,kBAACuR,GAAA,EAAD,CAAQrR,IAAI,cAAcF,IAAI,gCAC9B,kBAACuR,GAAA,EAAD,CAAQrR,IAAI,cAAcF,IAAI,mC,oyBChIlD,IAAMqgB,GAAgBtlB,KAAOC,IAAR,MASfyiB,GAAc1iB,KAAOC,IAAR,MAcb0uB,GAAW3uB,aAAOukB,KAAPvkB,CAAD,MAMV0uB,GAAU1uB,aAAO0kB,KAAP1kB,CAAD,MAGG6B,aAAW,SAACf,GAAD,MAAY,CACrC8O,KAAM,CACFK,SAAU,KAEdkQ,MAAO,CACH9a,OAAQ,EACR+a,WAAY,cAKL,SAASwS,GAAT,GAAgE,IAAzC1e,EAAwC,EAAxCA,OAAwC,KAAhC/L,QAAgC,EAAvBgB,MAAuB,EAAhBtI,SAAgB,EAANgH,KAC1CtH,IAAM6C,SAAS,IADiC,mBACnEgV,EADmE,KAC5DyW,EAD4D,KAM1E,OACI,oCACI,kBAAC,GAAD,KACK3a,GAAU,kBAAC9B,GAAD,CAAUzF,WAAYuH,EAAOvH,cAG3CuH,GACG,kBAAC0d,GAAD,CAAY1d,OAAQA,IAExB,kBAAC,GAAD,KACI,kBAAC,GAAD,CACIkE,MAAOA,EACP1G,SAhBK,SAAC7N,EAAO4gB,GACzBoK,EAASpK,IAgBGqK,eAAe,YACfC,UAAU,YACVC,UAAQ,GAER,kBAAC,GAAD,CAAWnjB,MAAM,iBACjB,kBAAC,GAAD,CAAWA,MAAM,iBACjB,kBAAC,GAAD,CAAWA,MAAM,kBAErB,kBAAC,GAAD,QCzEhB,IA6BeoI,gBA7Ba,SAAC,GAAoB,IAAnB+R,EAAkB,EAAlBA,MAElB6M,GAFoC,EAAX1e,QAEZ6R,EAAMC,OAAnB4M,UACFtoB,EAASC,cAH6B,EAIXF,aAAY,gBAAE4J,EAAF,EAAEA,OAAQ/L,EAAV,EAAUA,QAAV,MAAsB,CAC/D+L,OAAQA,EAAOA,OACf/K,MAAO+K,EAAO/K,MACdhB,QAASA,EAAQ,0BAHd+L,EAJqC,EAIrCA,OAAQ/K,EAJ6B,EAI7BA,MAAOhB,EAJsB,EAItBA,QAetB,OATA9D,qBAAU,WAGN,OAFAkG,EAASsmB,GAAWgC,IAEb,WACHtoB,EAASumB,SAEd,CAACvmB,EAAUsoB,IAIV,kBAACD,GAAD,CACI1e,OAAQA,EACR/L,QAASA,EACTgB,MAAOA,O,s1BCzBnB,IAAM+U,GAAcC,aAAH,MAOXzS,GAAW1L,KAAOC,IAAR,MAYV6yB,GAA0B9yB,aAAO0L,GAAP1L,CAAD,MAgBhB,SAAS+yB,GAAT,GAAuE,EAAxC7e,OAAwC,EAAhC/L,QAAgC,EAAvBgB,MAAwB,IAAjBtI,EAAgB,EAAhBA,SAAgB,EAANgH,KAE5E,OACI,oCACI,kBAAC,GAAD,MACA,kBAACirB,GAAD,KACKjyB,ICxCjB,IAcemyB,GAdE,WACb,OACI,oCACI,kBAAC,GAAD,MACA,kBAACD,GAAD,KACI,kBAAC,GAAD,SCYDE,GAhBD,SAAC,GAAW,IAAVjN,EAAS,EAATA,MACZ,OACI,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOplB,UAAW4vB,GAAgB/J,KAAI,UAAKT,EAAMS,MAAQ0E,OAAK,IAC9D,kBAAC,IAAD,CAAOvqB,UAAWoyB,GAAYvM,KAAI,UAAKT,EAAMS,KAAX,cAA6B0E,OAAK,IACpE,kBAAC,IAAD,CACIE,OAAQ,gBAAEjX,EAAF,EAAEA,SAAF,OACJ,6BACI,kHACA,2BAAIA,EAASkX,gB,8gBCVrC,IAAM4H,GAAUlzB,KAAOC,IAAR,MAUTkzB,GAAInzB,KAAOC,IAAR,MAeHmH,GAAO,CACT,eAAe,eAAe,eAAe,eAAe,eAAe,eAC3E,eAAe,eAAe,eAAe,eAAe,eAAe,eAC3E,eAAe,eAAe,eAAe,eAAe,eAAe,gBAI/E,SAASgsB,GAAT,GAA2C,IAArBlvB,EAAoB,EAApBA,IAAK8N,EAAe,EAAfA,MAAO5L,EAAQ,EAARA,MAC9B,OACI,kBAAC+sB,GAAD,CAAKjvB,IAAKA,EAAKkC,MAAOA,GACjBgB,GAAK4K,IAMH,SAASqhB,KACpB,OACI,kBAACH,GAAD,KACI,kBAAC,KAAD,MACK,gBAAE7tB,EAAF,EAAEA,OAAQD,EAAV,EAAUA,MAAV,OACG,kBAAC,KAAD,CACIC,OAAQA,EACRiuB,SAAUlsB,GAAK8K,OACfqhB,UAAWluB,EAAO,EAClB+tB,YAAaA,GACbhuB,MAAOA,Q,qHClCzBxD,GAAYC,aAAW,SAACf,GAAD,MAAY,CACrC8O,KAAM,CACFvN,QAAS,OACTL,SAAU,WACVuO,KAAM,EACNlN,IAAK,EACLiN,OAAQ,EACRE,MAAO,GAEX1O,OAAQ,CACJgP,OAAQhQ,EAAMgQ,OAAO0iB,OAAS,EAC9BztB,WAAYjF,EAAMqwB,YAAY1pB,OAAO,CAAC,QAAS,UAAW,CACtDgsB,OAAQ3yB,EAAMqwB,YAAYsC,OAAOC,MACjCtC,SAAUtwB,EAAMqwB,YAAYC,SAASuC,iBAG7CC,YAAa,CACT1C,WAnBY,IAoBZ9rB,MAAM,eAAD,OApBO,IAoBP,OACLW,WAAYjF,EAAMqwB,YAAY1pB,OAAO,CAAC,QAAS,UAAW,CACtDgsB,OAAQ3yB,EAAMqwB,YAAYsC,OAAOC,MACjCtC,SAAUtwB,EAAMqwB,YAAYC,SAASyC,kBAG7C5xB,WAAY,CACRC,YAAa,IAEjB4xB,KAAM,CACFzxB,QAAS,QAEbmxB,OAAQ,CACJpuB,MAjCY,IAkCZ2uB,WAAY,EACZC,WAAY,UAEhBC,WAAY,CACR7uB,MAtCY,IAuCZW,WAAYjF,EAAMqwB,YAAY1pB,OAAO,QAAS,CAC1CgsB,OAAQ3yB,EAAMqwB,YAAYsC,OAAOC,MACjCtC,SAAUtwB,EAAMqwB,YAAYC,SAASyC,kBAG7CK,YAAY,aACRnuB,WAAYjF,EAAMqwB,YAAY1pB,OAAO,QAAS,CAC1CgsB,OAAQ3yB,EAAMqwB,YAAYsC,OAAOC,MACjCtC,SAAUtwB,EAAMqwB,YAAYC,SAASuC,gBAEzCQ,UAAW,SACX/uB,MAAOtE,EAAMqB,QAAQ,GAAK,GACzBrB,EAAMO,YAAYe,GAAG,MAAQ,CAC1BgD,MAAOtE,EAAMqB,QAAQ,GAAK,IAGlCiyB,QAAQ,aACJ/xB,QAAS,OACTuO,WAAY,SACZD,eAAgB,YAGb7P,EAAMuzB,OAAOD,SAEpB3gB,QAAS,CACL4G,UAAW,OACXlH,KAAM,EACN9Q,QAAS,OAGTN,WAAY,WAIL,SAASuyB,GAAT,GAAiC,IAAD,IAAXzzB,EAAW,EAAXA,SAC1BsC,EAAUvB,KACVd,EAAQyzB,eAF6B,EAGnBh0B,IAAM6C,UAAS,GAHI,mBAGpCI,EAHoC,KAG9BC,EAH8B,KAa3C,OACI,yBAAKkB,UAAWxB,EAAQyM,MACpB,kBAAC4kB,GAAA,EAAD,MACA,kBAAC9vB,EAAA,EAAD,CACI1C,SAAS,QACT2C,UAAWuM,mBAAK/N,EAAQrB,OAAT,eACVqB,EAAQywB,YAAcpwB,KAG3B,kBAACoB,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CACIpC,MAAM,UACNsC,aAAW,cACXC,QArBK,WACrBvB,GAAQ,IAqBQqB,KAAK,QACLH,UAAWuM,mBAAK/N,EAAQlB,WAAT,eACVkB,EAAQ2wB,KAAOtwB,KAGpB,kBAAC,IAAD,OAEJ,kBAACkX,GAAA,EAAD,CAAYpV,QAAQ,KAAKmvB,QAAM,GAA/B,yBAKR,kBAAC1tB,EAAA,EAAD,CACIzB,QAAQ,YACRX,UAAWuM,mBAAK/N,EAAQqwB,QAAT,mBACVrwB,EAAQ8wB,WAAazwB,GADX,cAEVL,EAAQ+wB,aAAe1wB,GAFb,IAIfL,QAAS,CACLgX,MAAOjJ,oBAAI,mBACN/N,EAAQ8wB,WAAazwB,GADf,cAENL,EAAQ+wB,aAAe1wB,GAFjB,MAMf,yBAAKmB,UAAWxB,EAAQixB,SACpB,kBAACvvB,EAAA,EAAD,CAAYG,QA5CF,WACtBvB,GAAQ,KA4C6B,QAApB3C,EAAM4zB,UAAsB,kBAAC,KAAD,MAAuB,kBAAC,KAAD,QAG5D,kBAAC5tB,EAAA,EAAD,MACA,kBAACK,EAAA,EAAD,KACK,CAAC,QAAS,UAAW,aAAc,UAAU2K,KAAI,SAAC2I,EAAMzI,GAAP,OAC9C,kBAAC3K,EAAA,EAAD,CAAUC,QAAM,EAACpD,IAAKuW,GAClB,kBAACka,GAAA,EAAD,KAAe3iB,EAAQ,IAAM,EAAI,kBAAC,KAAD,MAAgB,kBAAC,KAAD,OACjD,kBAACgM,GAAA,EAAD,CAAc/c,QAASwZ,SAInC,kBAAC3T,EAAA,EAAD,MACA,kBAACK,EAAA,EAAD,KACK,CAAC,WAAY,QAAS,QAAQ2K,KAAI,SAAC2I,EAAMzI,GAAP,OAC/B,kBAAC3K,EAAA,EAAD,CAAUC,QAAM,EAACpD,IAAKuW,GAClB,kBAACka,GAAA,EAAD,KAAe3iB,EAAQ,IAAM,EAAI,kBAAC,KAAD,MAAgB,kBAAC,KAAD,OACjD,kBAACgM,GAAA,EAAD,CAAc/c,QAASwZ,UAKvC,0BAAM9V,UAAWxB,EAAQsQ,SACrB,yBAAK9O,UAAWxB,EAAQixB,UACvBvzB,I,urBCxKjB,IAAM+zB,GAAkB50B,KAAOC,IAAR,MASjBgX,GAASjX,KAAOC,IAAR,MA8BCurB,GAXI,SAAC,GAAc,IAAb3qB,EAAY,EAAZA,SAEjB,OACI,kBAAC+zB,GAAD,KACI,kBAAC,GAAD,KACK/zB,K,icChCV,IAAM8qB,GAAc3rB,KAAOC,IAAR,MAQbmhB,GAAYphB,aAAO60B,KAAP70B,CAAD,MAElB,SAAAG,GAAK,OACPA,EAAMqQ,OACNqC,aADA,SAOSiiB,GAAe,SAAC,GAAoC,IAAlCjpB,EAAiC,EAAjCA,MAAO4I,EAA0B,EAA1BA,KAAM2D,EAAoB,EAApBA,MAAO1G,EAAa,EAAbA,SAC/C,OACI,oCACI,kBAAC,GAAD,KACI,4BAAK7F,GACL,kBAAC,GAAD,CAAa4I,KAAMA,EAAM2D,MAAOA,EAAO1G,SAAUA,O,0kBCpBjE,IAAMqjB,GAAO/0B,KAAOC,IAAV,KAEGe,GAAQ+Y,KAAK,IAOpBib,GAAgBh1B,KAAOC,IAAV,MAObg1B,GAAUj1B,KAAOmY,KAAR,MAcT+c,GAAS30B,IAAM8hB,MAAK,gBAAEjV,EAAF,EAAEA,IAAK0Y,EAAP,EAAOA,SAAP,OACtB,kBAACiP,GAAD,CAAM/vB,QAAS,kBAAI8gB,EAAS1Y,KAA5B,IAAoCA,MAIlC+nB,GAAS50B,IAAM8hB,MAAK,YAAqB,IAAnBxV,EAAkB,EAAlBA,KAAMiZ,EAAY,EAAZA,SAC9B,OACA,kBAACkP,GAAD,KACKnoB,EAAKiF,KAAI,SAAA1E,GAAG,OACT,kBAAC8nB,GAAD,CAAUhxB,IAAKkJ,EAAKA,IAAKA,EAAK0Y,SAAUA,WAoErCsP,GA9DA,SAAC,GAAwC,IAAtCvoB,EAAqC,EAArCA,KAAMwoB,EAA+B,EAA/BA,cAAe5gB,EAAgB,EAAhBA,KAAM5I,EAAU,EAAVA,MAAU,EAE3BzI,mBAAS,IAFkB,mBAE5Cue,EAF4C,KAErCC,EAFqC,OAGnBxe,mBAAS,IAHU,mBAG5CkyB,EAH4C,KAGjCC,EAHiC,KAI7CC,EAAUxT,uBACZ,SAAA5U,GACI,GAAIA,IACDkoB,EAAU9X,SAASpQ,GAAtB,CACA,IAAMqd,EAAS,GAAD,oBAAK6K,GAAL,CAAgBloB,IAC9BmoB,EAAa9K,GACb4K,EAAc5gB,EAAMgW,MAExB,CAAC6K,EAAWD,IAGVvP,EAAS9D,uBACX,SAAA5U,GACI,IAAMqd,EAAS6K,EAAUG,QAAO,SAAAC,GAAC,OAAGA,IAAItoB,KACxCmoB,EAAa9K,GACb4K,EAAc5gB,EAAOgW,KAEzB,CAAC6K,EAAWD,IAGV3jB,EAASsQ,uBAAY,SAAA9X,GACvB0X,EAAS1X,EAAElG,OAAOoU,SACnB,IAEGoC,EAASwH,uBACX,SAAA9X,GACIA,EAAE/F,iBACFqxB,EAAU7T,EAAMgU,QAChB/T,EAAS,MAEb,CAACD,EAAO6T,IAQZ,OAJAnxB,qBAAU,WACNkxB,EAAa1oB,KACd,CAACA,IAGA,kBAAC,GAAD,KACI,4BAAKhB,GACL,kBAACopB,GAAD,CAAWza,SAAUA,GACjB,kBAAC,GAAD,CACI7V,UAAU,QACVsd,YAAY,oDACZxN,KAAMA,EACN2D,MAAOuJ,EACPjQ,SAAUA,IAEd,kBAACgS,GAAA,EAAD,CAAK/e,UAAU,SAASgQ,KAAK,QAAQlS,MAAM,UAAUsC,aAAW,MAAMN,KAAK,UACvE,kBAAC,KAAD,QAGR,kBAAC0wB,GAAD,CAAUtoB,KAAMyoB,EAAWxP,SAAUA,M,qiBCjGjD,IAAMlkB,GAAYC,aAAW,SAACf,GAAD,MAAY,CACrC4pB,YAAa,CACT/nB,OAAQ7B,EAAMqB,QAAQ,GACtBwoB,SAAU,KAEdiL,YAAa,CACTvb,UAAWvZ,EAAMqB,QAAQ,QAI3B0zB,GAAU71B,KAAOmY,KAAR,MAUT2d,GAAQ91B,KAAOC,IAAV,KAEEe,GAAQ+Y,KAAK,IAOpBgc,GAAiB/1B,KAAOC,IAAV,MAQd+1B,GAAUz1B,IAAM8hB,MAAK,gBAAEmQ,EAAF,EAAEA,MAAO1M,EAAT,EAASA,SAAT,OACvB,kBAACgQ,GAAD,CAAO9wB,QAAS,kBAAI8gB,EAAS0M,KAASA,EAAMC,OAA5C,MAAuDD,EAAMA,UAI3DyD,GAAU11B,IAAM8hB,MAAK,YAC1B,IAD4BkQ,EAC7B,EAD6BA,OAAQzM,EACrC,EADqCA,SAEjC,OACA,kBAACiQ,GAAD,KACKxD,EAAOzgB,KAAI,SAAC0gB,EAAOxgB,GAEhB,OADAnJ,QAAQC,IAAI0pB,GAEZ,kBAACwD,GAAD,CAAW9xB,IAAK8N,EAAOwgB,MAAOA,EAAO1M,SAAUA,WA0G5CoQ,GApGA,SAAC,GAAoC,IAAlCrqB,EAAiC,EAAjCA,MAAO0mB,EAA0B,EAA1BA,OAAQ8C,EAAkB,EAAlBA,cACvBlyB,EAAUvB,KAD+B,EAEXwB,mBAAS,IAFE,mBAExC+yB,EAFwC,KAE3BC,EAF2B,OAGrB71B,IAAM6C,SAAS,CACrCqvB,OAAQ,GACRD,MAAO,KALoC,mBAGxClvB,EAHwC,KAGjCC,EAHiC,KASzC8yB,EAAYrU,uBACd,SAAAwQ,GACI,GAAIA,IACD2D,EAAY3Y,SAASgV,GAAxB,CACA,IAAM8D,EAAW,GAAD,oBAAKH,GAAL,CAAkB3D,IAClC4D,EAAeE,GACfjB,EAAc,SAAUiB,MAE5B,CAACH,EAAad,IAGZvP,EAAS9D,uBACX,SAAA5U,GACI,IAAMqd,EAAS0L,EAAYV,QAAO,SAAAC,GAAC,OAAGA,IAAItoB,KAC1CgpB,EAAe3L,GACf4K,EAAc,SAAU5K,KAE5B,CAAC0L,EAAad,IAGZ3jB,EAASsQ,uBAAY,SAAA9X,GACvB3G,EAAS,eACFD,EADC,eAEH4G,EAAElG,OAAOyQ,KAAOvK,EAAElG,OAAOoU,WAE/B,CAAC9U,IAEEkX,EAASwH,uBACX,SAAA9X,GACIA,EAAE/F,iBAEF0E,QAAQC,IAAIxF,GACZ+yB,EAAY/yB,KAEhB,CAACA,EAAO+yB,IAIZhyB,qBAAU,WACN+xB,EAAe7D,KAChB,CAACA,IAWJ,OACI,kBAAC,GAAD,KACI,4BAAK1mB,GACL,kBAACgqB,GAAD,KACI,kBAAC1R,GAAA,EAAD,CAAaxf,UAAWxB,EAAQunB,YAAalQ,SAAUA,GACnD,kBAAC4J,GAAA,EAAD,CAAYzd,GAAG,mCAAf,gBACA,kBAAC0d,GAAA,EAAD,CACI1f,UAAU,SACVyT,MAAO9U,EAAMmvB,OACb/gB,SAjBC,SAAC7N,GAClB,IAAM4Q,EAAO5Q,EAAMG,OAAOyQ,KAE1BlR,EAAS,eACFD,EADC,eAEHmR,EAAO5Q,EAAMG,OAAOoU,UAaTme,WAAY,CACR9hB,KAAM,SACN9N,GAAI,cAGR,kBAACE,EAAA,EAAD,CAAUuR,MAAM,4BAAhB,4BACA,kBAACvR,EAAA,EAAD,CAAUuR,MAAM,8BAAhB,8BACA,kBAACvR,EAAA,EAAD,CAAUuR,MAAM,+BAAhB,+BACA,kBAACvR,EAAA,EAAD,CAAUuR,MAAM,qCAAhB,qCACA,kBAACvR,EAAA,EAAD,CAAUuR,MAAM,qCAAhB,qCACA,kBAACvR,EAAA,EAAD,CAAUuR,MAAM,+BAAhB,iCAGR,kBAAC,GAAD,CACIzT,UAAU,QACVsd,YAAY,eACZxN,KAAK,QACLhQ,KAAK,SACL2T,MAAO9U,EAAMkvB,MACb9gB,SAAUA,IAEd,kBAACgS,GAAA,EAAD,CAAK/e,UAAU,SAASgQ,KAAK,QAAQlS,MAAM,UAAUsC,aAAW,MAAMN,KAAK,SAASO,QAASwV,GACzF,kBAAC,KAAD,QAIR,kBAACyb,GAAD,CAAW1D,OAAQ4D,EAAarQ,SAAUA,M,8BC3JhDlkB,GAAYC,aAAW,SAACf,GAAD,MAAY,CACrC4pB,YAAa,CACT/nB,OAAQ7B,EAAMqB,QAAQ,QA0Dfq0B,GAtDA,SAAC,GAA2B,IAAzB3qB,EAAwB,EAAxBA,MAAO4qB,EAAiB,EAAjBA,cACftzB,EAAUvB,KADsB,EAGZrB,IAAM6C,SAAS,CACrCszB,YAAY,EACZC,WAAW,EACXC,MAAM,EACNC,OAAO,EACPC,SAAS,IARyB,mBAG/BxzB,EAH+B,KAGxBC,EAHwB,KAWtCc,qBAAU,WACNoyB,EAAcnzB,KACf,CAACA,IAEJ,IAAMyzB,EAAe,SAAClzB,GAClBN,EAAS,eAAKD,EAAN,eAAcO,EAAMG,OAAOyQ,KAAO5Q,EAAMG,OAAOgzB,YAGnDN,EAAgDpzB,EAAhDozB,WAAYC,EAAoCrzB,EAApCqzB,UAAWC,EAAyBtzB,EAAzBszB,KAAMC,EAAmBvzB,EAAnBuzB,MAAOC,EAAYxzB,EAAZwzB,QAE5C,OACI,oCACI,kBAAC,GAAD,KACI,4BAAKjrB,GACL,kBAACsY,GAAA,EAAD,CAAavjB,UAAU,WAAW+D,UAAWxB,EAAQunB,aACjD,kBAACuM,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,CACIC,QAAS,kBAACC,GAAA,EAAD,CAAUJ,QAASN,EAAYhlB,SAAUqlB,EAActiB,KAAK,eACrE5I,MAAM,eAEV,kBAACqrB,GAAA,EAAD,CACIC,QAAS,kBAACC,GAAA,EAAD,CAAUJ,QAASL,EAAWjlB,SAAUqlB,EAActiB,KAAK,cACpE5I,MAAM,cAEV,kBAACqrB,GAAA,EAAD,CACIC,QAAS,kBAACC,GAAA,EAAD,CAAUJ,QAASJ,EAAMllB,SAAUqlB,EAActiB,KAAK,SAC/D5I,MAAM,SAEV,kBAACqrB,GAAA,EAAD,CACIC,QAAS,kBAACC,GAAA,EAAD,CAAUJ,QAASH,EAAOnlB,SAAUqlB,EAActiB,KAAK,UAChE5I,MAAM,UAEV,kBAACqrB,GAAA,EAAD,CACIC,QAAS,kBAACC,GAAA,EAAD,CAAUJ,QAASF,EAASplB,SAAUqlB,EAActiB,KAAK,YAClE5I,MAAM,iB,2MCpDlC,I,GAAMjK,GAAYC,aAAW,SAACf,GAAD,MAAY,CACrC4pB,YAAa,CACT/nB,OAAQ7B,EAAMqB,QAAQ,GACtBwoB,SAAU,SAGZgB,GAAc3rB,KAAO6L,MAAR,MAsCJwrB,GA9BQ,SAAC,GAAwC,IAAtC5iB,EAAqC,EAArCA,KAAM2D,EAA+B,EAA/BA,MAAOvM,EAAwB,EAAxBA,MAAO6V,EAAiB,EAAjBA,cACpCve,EAAUvB,KAShB,OACI,oCACI,kBAAC,GAAD,KACI,4BAAKiK,GACL,kBAACsY,GAAA,EAAD,CAAaxf,UAAWxB,EAAQunB,aAC5B,kBAACrG,GAAA,EAAD,CACIjM,MAAOA,EACP1G,SAdC,SAAC7N,GAClB,IAAM4Q,EAAO5Q,EAAMG,OAAOyQ,KAC1B5L,QAAQC,IAAI2L,GACZ,IAAM2D,EAAQvU,EAAMG,OAAOoU,MAC3BvP,QAAQC,IAAIsP,GACZsJ,EAAc7d,IAUE4Q,KAAMA,GAEN,kBAAC5N,EAAA,EAAD,CAAUuR,OAAO,GAAjB,QACA,kBAACvR,EAAA,EAAD,CAAUuR,OAAO,GAAjB,cC6BTkf,GAhEA,SAAC,GAYT,IAVCh1B,EAUF,EAVEA,MACAi1B,EASF,EATEA,YACAxF,EAQF,EAREA,QACAC,EAOF,EAPEA,MACAO,EAMF,EANEA,OACAiF,EAKF,EALEA,KACAC,EAIF,EAJEA,WACAhB,EAGF,EAHEA,cACA/U,EAEF,EAFEA,cACA2T,EACF,EADEA,cAEJ,OACI,oCACI,kBAAC,GAAD,CACIxpB,MAAM,QACN4I,KAAK,QACL2D,MAAO9V,EACPoP,SAAUgQ,IAEd,kBAAC,GAAD,CACI7U,KAAM0qB,EACNlC,cAAeA,EACf5gB,KAAK,cACL5I,MAAM,gBAEV,kBAAC,GAAD,CACIA,MAAM,UACN4I,KAAK,UACL2D,MAAO2Z,EACPrgB,SAAUgQ,IAEd,kBAAC,GAAD,CACI7U,KAAMmlB,EACNqD,cAAeA,EACf5gB,KAAK,QACL5I,MAAM,SAEV,kBAAC,GAAD,CACIA,MAAM,QACN0mB,OAAQA,EACR8C,cAAeA,IAEnB,kBAAC,GAAD,CACIxpB,MAAM,kBACN4I,KAAK,OACL2D,MAAOof,EACP9lB,SAAUgQ,IAEd,kBAAC,GAAD,CACIA,cAAeA,EACftJ,MAAOqf,EACPhjB,KAAK,aACL5I,MAAM,YAEV,kBAAC,GAAD,CACIA,MAAM,WACN4qB,cAAeA,MC7DlBpqB,GAAY,SAAC,GAAkB,IAAjBC,EAAgB,EAAhBA,WACvBzD,QAAQC,IAAIwD,GAEZ,IAAMC,EAAS,IAAIC,SAKnB,OAHAD,EAASE,OAAO,MAAOH,GAGhB/E,EAAOM,KAAK,+BAAgC0E,IAI1CmrB,GAAa,SAACzuB,GAAD,OACtB1B,EAAOM,KAAK,wBAAyBoB,I,YC+B/Bkf,I,YAyBAC,I,YAyBAuP,I,YAuCOC,I,GAzHbrvB,GAAyB,2B,qBAHzBggB,G,MACAC,G,MACAC,G,SAOAlgB,GAAyB,0B,qBAHzBsvB,G,MACAC,G,MACAC,G,SAQDxvB,GAAyB,wB,qBAHxBsgB,G,MACAC,G,MACAC,G,MAGSC,GAAWhhB,YAxBP,yBA0BJihB,GAAcjhB,YAzBR,2BAyBmC,SAAAkhB,GAAW,OAAIA,KAExDhR,GAAYlQ,YA1BN,2BA0BiC,kBAAmB,CACnE9D,IADgD,EAAEA,IAElDkU,MAFgD,EAAOA,UAK9C4f,GAAYhwB,YA9BN,2BA8BiC,kBAAa,CAC7DiB,KADgD,EAAEA,SAGzCgvB,GAAkBjwB,YAC3B6vB,IACA,SAAC5uB,GAAD,OAAUA,KAGd,SAAUkf,GAAgBZ,GAA1B,uEACI1e,QAAQiB,IAAI,uBAEJyL,EAAE,EAHd,YAGiBA,EAAGgS,EAAQrV,QAH5B,iBAKuB,OADfrJ,QAAQC,IAAIye,EAAQhS,IAJ5B,SAK6BxM,YAAMqf,GAAc,CACrC3jB,KAAMokB,GACNvgB,QAAS,CACLgE,WAAYib,EAAQhS,GAAGuS,KACvBqB,SAAU5T,KAT1B,kCAaY,OAbZ,UAakB3M,YAAI,CACNnE,KAAMgkB,KAdtB,kCAgBmB,GAhBnB,QAGoClT,IAHpC,uBAmBI,OAnBJ,UAmBU3M,YAAI,CACNnE,KAAM+jB,KApBd,kCAsBW,GAtBX,yCAyBA,SAAUJ,GAAa/f,GAAvB,uEAGyB,OAHzB,kBAG+BU,YAAKmvB,GAAqB7vB,EAAOC,SAHhE,OAKQ,OAFMU,EAHd,OAIQH,QAAQC,IAAIE,GAAUH,QAAQC,IAAIE,EAASC,KAAK/D,KAJxD,SAKc0D,YAAI,CACNnE,KAAMqkB,GACNxgB,QAAS,CACLpD,IAAK8D,EAASC,KAAK/D,IACnBikB,SAAU9gB,EAAOC,QAAQ6gB,YATzC,iCAYe,GAZf,QAgBQ,OAhBR,0BAeQtgB,QAAQM,MAAR,MAfR,UAgBcP,YAAI,CACNnE,KAAMskB,GACNzgB,QAAQ,EAAD,GACPa,OAAO,IAnBnB,kCAqBe,GArBf,uDAyBA,SAAUwuB,GAAsBtvB,GAAhC,2EAEI,OADAQ,QAAQC,IAAIT,GADhB,SAEUO,YAAIb,EAAa8vB,KAF3B,UAGYtQ,EAAYlf,EAAOC,QAAnBif,eACDlf,EAAOC,QAAQif,QAEA,IAAnBA,EAAQrV,OANf,iBAQyB,OARzB,SAQ+BnJ,YAAMof,GAAiBZ,GARtD,kCAUY,OAVZ,UAUkB3e,YAAI,CACNnE,KAAMszB,GACNzvB,QAAS,6BAZzB,kCAcoB,GAdpB,QAiBqB,OAjBrB,UAiB2B8W,aAAO,SAAA9b,GAAK,OAAGA,EAAMo0B,WAAW/qB,cAjB3D,QAsBuB,OALbA,EAjBV,OAkBItE,EAAOC,QAAQqE,WAAWA,EAC1B9D,QAAQC,IAAIT,EAAOC,SAnBvB,oBAsB6BS,YAAMmvB,GAAoB7vB,EAAOC,SAtB9D,QAwBQ,OAFMU,EAtBd,OAuBQH,QAAQC,IAAIE,GAvBpB,UAwBcJ,YAAI,CACNnE,KAAMqzB,GACNxvB,QAASU,EAASC,OA1B9B,gCA6BQ,OA7BR,qCA6BcL,YAAI,CACNnE,KAAMszB,GACNzvB,QAAQ,EAAD,GACPa,OAAO,IAhCnB,QAmCI,OAnCJ,UAmCUP,YAAIV,EAAc2vB,KAnC5B,wDAuCO,SAAUD,KAAV,iEACH,OADG,SACGztB,YAAW0tB,GAAaF,IAD3B,OAEH,OAFG,SAEGxtB,YAAWoe,GAAcJ,IAF5B,wCAKP,IAAMhP,GAAa,CACfkQ,SAAU,CACN9B,QAAS,GACT+B,aAAc,GACdC,SAAU,EACVC,cAAe,EACfN,YAAa,KACbrf,OAAQ,UACR4f,WAAY,MAEhBnnB,MAAO,GACP8R,SAAU,GACV+jB,eAAgB,GAChB9jB,eAAgB,KAChB2d,MAAO,GACPO,OAAQ,GACRR,QAAS,GACTyF,KAAM,GACN7qB,WAAY,GACZ8qB,YAAY,EACZW,SAAU,GACVb,YAAY,GACZjQ,WAAW,EACXzf,KAAM,KACN4X,UAAW,MAgFAiY,GA7EEtvB,aAAa,kBAAC,GAlKd,yBAoKK,SAAA9E,GAAK,OAAG6V,MAFA,YAAC,GAhKZ,2BAmKK,SAAC7V,EAAD,WAASgF,QAAUpE,EAAnB,EAAmBA,IAAKkU,EAAxB,EAAwBA,MAAxB,sBACT9U,EADS,eAEXY,EAAMkU,OALW,YAAC,GA/JZ,2BAsKK,SAAC9U,EAAD,GAA6B,IAAV2F,EAAS,EAAnBX,QAAUW,KAC3BovB,EAAcpvB,EAAKqvB,QACnBC,EAAe,GAWnB,MATyB,MAArBtvB,EAAKuvB,cACc,KAAfvvB,EAAK2L,QACL2jB,GAAgBtvB,EAAK2L,OAEC,KAAtB3L,EAAKwvB,eACLF,GAAkC,KAAjBA,EAAA,YAA2BtvB,EAAKwvB,cAAiBxvB,EAAKwvB,cAE3EJ,GAAiC,KAAjBE,EAAA,YAA2BA,EAA3B,KAA6C,IAE1D,eACJj1B,EADH,CAEA+Q,eAAgBpL,EAChBmL,SAAUikB,OAvBQ,YAAC,GAjKZ,2BA0LK,SAAC/0B,EAAD,OAAmB4lB,EAAnB,EAAU5gB,QAAV,OACZqR,aAAQrW,GAAO,SAAAsW,GACX/Q,QAAQC,IAAIogB,GACRA,EAAYpB,KAAKrT,MAAQyU,EAAYpB,KAAKrT,KAAKuR,MAAM,sBAErDpM,EAAMyP,SAAS9B,QAAQhK,KAAK2L,GAC5BtP,EAAMyP,SAASE,WACf3P,EAAM0N,WAAU,GAGhBze,QAAQiB,IAAI,mCAnCF,YAAC,GAsCtBgf,IAAoB,SAACxlB,EAAD,WAASgF,QAAUpD,EAAnB,EAAmBA,IAAKikB,EAAxB,EAAwBA,SAAxB,OACjBxP,aAAQrW,GAAO,SAAAsW,GACX,IAAM8P,EAAM9P,EAAMyP,SAClBK,EAAMF,gBACNE,EAAMnC,QAAQ4B,GAAUpB,MAAK,EAC7B2B,EAAMJ,aAAaK,OACfD,EAAMJ,aAAaM,WAAU,SAAA1O,GAAI,OAAIA,EAAKvU,KAAOwiB,KACjD,GAEJvP,EAAMjN,WAAWwc,GAAUjkB,QA/Cb,YAAC,GAiDtB2yB,IAAc,SAACv0B,EAAD,OAAmBikB,EAAnB,EAASjf,QAAUif,QAAnB,OACX5N,aAAQrW,GAAO,SAAAsW,GACX,IAAM8P,EAAM9P,EAAMyP,SAClBK,EAAM7f,OAAO,QACb6f,EAAMJ,aAAa/B,EAEnB3N,EAAM/R,KAAK,KACX+R,EAAM6F,UAAU,WAxDF,YAAC,GA0DtBqY,IAAsB,SAACx0B,EAAD,OAAkBuE,EAAlB,EAASS,QAAT,OACnBqR,aAAQrW,GAAO,SAAAsW,GACXA,EAAM/R,KAAKA,QA5DG,YAAC,GA8DtBkwB,IAAsB,SAACz0B,EAAD,OAAkBmc,EAAlB,EAASnX,QAAT,OAAiCqR,aAAQrW,GAAO,SAAAsW,GACnEA,EAAM6F,UAAUA,QA/DE,YAAC,GAiEtB+I,IAAuB,SAACllB,GAAD,OACpBqW,aAAQrW,GAAO,SAAAsW,GACXA,EAAMyP,SAASxf,OAAO,iBAnER,YAAC,GAqEtB4e,IAAuB,SAACnlB,GAAD,OACpBqW,aAAQrW,GAAO,SAAAsW,GACXA,EAAMyP,SAASxf,OAAO,gBAvER,IA0E1BsP,IClMWlF,gBA3CS,SAAC,GAAY,EAAXE,QAAY,IAC5B5J,EAASC,cADkB,EAEgCF,aAAY,gBAAEotB,EAAF,EAAEA,WAAF,MAAiB,CAC1Fp1B,MAAOo1B,EAAWp1B,MAClBi1B,YAAaG,EAAWH,YACxBnjB,SAAUsjB,EAAWtjB,SACrB4d,MAAO0F,EAAW1F,MAClBO,OAAQmF,EAAWnF,OACnBkF,WAAYC,EAAWD,eANpBn1B,EAF0B,EAE1BA,MAAOi1B,EAFmB,EAEnBA,YAAanjB,EAFM,EAENA,SAAU4d,EAFJ,EAEIA,MAAOO,EAFX,EAEWA,OAAQkF,EAFnB,EAEmBA,WAQpDpzB,qBAAU,WACNwE,QAAQC,IAAI2uB,KACb,CAACA,IAEJ,IAAM/V,EAAcM,uBAAY,SAAA9X,GAC5B,OAAOK,EAAS2N,GAAY,CAAChU,IAAKgG,EAAElG,OAAOyQ,KAAM2D,MAAOlO,EAAElG,OAAOoU,WAClE,CAAC7N,IAEE8qB,EAAcrT,uBAAY,SAACvN,EAAMgW,GACnC,OAAOlgB,EAAS2N,GAAY,CAAChU,IAAKuQ,EAAM2D,MAAOqS,OACjD,CAAClgB,IAEGksB,EAAczU,uBAAY,SAAA1e,GAE5B,OAAOiH,EAAS2N,GAAY,CAAChU,IAAK,WAAYkU,MAAO9U,OACtD,CACCiH,IAEJ,OACI,kBAAC,GAAD,CACIjI,MAAOA,EACPi1B,YAAaA,EACbnjB,SAAUA,EACV4d,MAAOA,EACPO,OAAQA,EACRkF,WAAYA,EACZhB,cAAeA,EACf/U,cAAeA,EACf2T,cAAeA,O,+BCzCZ,SAASqD,GAAT,GAAmD,IAAhCC,EAA+B,EAA/BA,iBAAkB/0B,EAAa,EAAbA,YAEhDS,qBAAU,WACNwE,QAAQC,IAAI4vB,MACd,CAACA,KAMH,OACI,oCACI,kBAAC,KAAD,CACAE,WARe,SAAC3vB,GACpB0vB,EAAiB1vB,GACjBrF,KAOIwB,MAAM,UCZlB,SAASyzB,KACL,OAAOhjB,KAAKijB,MAAsB,GAAhBjjB,KAAKkjB,UAAiB,GAG5C,SAASC,KACL,IAAM31B,EAAM,GAAKw1B,KACXtoB,EAAO,GAAKsoB,KAClB,MAAO,CACHx1B,IAAI,GAAD,OAAKA,EAAL,KACHkN,KAAK,GAAD,OAAKA,EAAL,KACJM,UAAU,cAAD,OAAgBxN,EAAhB,eAA0BkN,EAA1B,OAIjB,IAAM3O,GAAYC,aAAW,SAACf,GAAD,MAAY,CACrCqZ,MAAO,CACHnY,SAAU,WACVoD,MAAO,IACPsL,gBAAiB5P,EAAME,QAAQe,WAAWoY,MAC1CnK,OAAQ,iBACRipB,UAAWn4B,EAAMo4B,QAAQ,QAIlB,SAASC,GAAT,GAA4C,IAApBR,EAAmB,EAAnBA,iBAC7Bx1B,EAAUvB,KADsC,EAGjCrB,IAAM6C,SAAS41B,IAA7BI,EAH+C,sBAI9B74B,IAAM6C,UAAS,GAJe,mBAI/CI,EAJ+C,KAIzCC,EAJyC,KAUhDG,EAAc,WAChBH,GAAQ,IAGNmJ,EACF,yBAAKxG,MAAOgzB,EAAYz0B,UAAWxB,EAAQgX,OACvC,kBAACue,GAAD,CAAUC,iBAAkBA,EAAkB/0B,YAAaA,KAInE,OACI,6BACI,kBAAC2B,EAAA,EAAD,CAAQD,QAAQ,WAAW7C,MAAM,UAAUuC,QAhBhC,WACfvB,GAAQ,KAeJ,6BAGA,kBAAC41B,GAAA,EAAD,CACI71B,KAAMA,EACNyD,QAASrD,EACT01B,kBAAgB,kBAChBC,mBAAiB,+BAEhB3sB,I,ycCvDjB,IAAM+e,GAAc3rB,KAAO6L,MAAR,MAQbuV,GAAYphB,aAAO60B,KAAP70B,CAAD,MAEX,SAAAG,GAAK,OACPA,EAAMqQ,OACNqC,aADA,SA4BW2mB,GArBU,SAAC,GAAiE,IAA/DplB,EAA8D,EAA9DA,SAAU+jB,EAAoD,EAApDA,eAAgBQ,EAAoC,EAApCA,iBAAkBjX,EAAkB,EAAlBA,cAEpE,OACI,oCACI,kBAAC,GAAD,KACI,wCACA,kBAACyX,GAAD,CAAeR,iBAAkBA,IACjC,kBAAC,GAAD,CAAanoB,MAAM,OAAO0R,UAAU,EAAM9J,MAAOhE,IACjD,kBAAC,GAAD,CACI6N,YAAY,wCACZzR,MAAM,OACNkB,SAAUgQ,EACVjN,KAAK,iBACL2D,MAAO+f,OCIZsB,GApCe,WAC1B,IAAMlvB,EAAWC,cADa,EAEIF,aAAY,gBAAEotB,EAAF,EAAEA,WAAF,MAAiB,CAC3DtjB,SAAUsjB,EAAWtjB,SACrB+jB,eAAgBT,EAAWS,mBAFxB/jB,EAFuB,EAEvBA,SAAU+jB,EAFa,EAEbA,eAKXQ,EAAiB3W,uBAAY,SAAA2F,GAC/B,OAAOpd,EAASytB,GAAY,CAAE/uB,KAAM0e,OACrC,CACCpd,IAGEmX,EAAcM,uBAAY,SAAA9X,GAC5B,OAAOK,EAAS2N,GAAY,CAAChU,IAAKgG,EAAElG,OAAOyQ,KAAM2D,MAAOlO,EAAElG,OAAOoU,WAClE,CAAC7N,IASJ,OANAlG,qBAAU,WACN,OAAM,WACFkG,EAASye,SAEd,CAACze,IAGA,oCACI,kBAAC,GAAD,CACIouB,iBAAkBA,EAClBvkB,SAAUA,EACVsN,cAAeA,EACfyW,eAAgBA,MCmBjBlkB,gBA/CmB,SAAC,GAAe,IAAdE,EAAa,EAAbA,QAC1B5J,EAASC,cAD8B,EAGCF,aAAY,gBAAEotB,EAAF,EAAEA,WAAF,MAAmB,CACzEnQ,QAASmQ,EAAWrO,SAAS9B,QAC7BgQ,YAAaG,EAAWH,YACxBj1B,MAAOo1B,EAAWp1B,MAClB8R,SAAUsjB,EAAWtjB,SACrB+jB,eAAgBT,EAAWS,eAC3B9jB,eAAgBqjB,EAAWrjB,eAC3B0d,QAAS2F,EAAW3F,QACpBC,MAAO0F,EAAW1F,MAClBO,OAAQmF,EAAWnF,OACnBiF,KAAME,EAAWF,KACjBC,WAAYC,EAAWD,WACvBW,SAAUV,EAAWU,SACrBvwB,KAAM6vB,EAAW7vB,KACjB4X,UAAWiY,EAAWjY,cAdnB5X,EAHsC,EAGtCA,KAAM4X,EAHgC,EAGhCA,UAAcia,EAHkB,qCA4C7C,OAXAr1B,qBAAU,WACN,GAAGwD,EACmBA,EAAXyM,IAAWzM,EAAN5E,UAGZ4F,QAAQiB,IAAI,WAEb2V,GACC5W,QAAQiB,IAAI2V,KAEjB,CAACtL,EAAStM,EAAM4X,IACZ,kBAAC,GAAD,CAAmB0K,UAxBR,SAACjgB,GACfA,EAAE/F,iBAEFoG,EACI0tB,GAAkByB,U,0rCCxB9B,IAAM7S,GAAW7mB,KAAOC,IAAR,MAUV6mB,GAAY9mB,KAAOC,IAAR,MAMX8mB,GAAU/mB,KAAOC,IAAR,MAWT+mB,GAAWhnB,KAAOinB,IAAR,MAOVC,GAAYlnB,KAAOC,IAAR,MAQXohB,GAAMrhB,KAAO2hB,MAAR,MAQL/f,GAAYC,aAAW,SAAAf,GAAK,MAAK,CACnCqmB,SAAU,CACN1kB,MAAO,QACPqO,OAAQ,EACRjG,SAAU,QAGd2Y,IAAI,CACA7gB,OAAQ,UAEZykB,QAAS,CACLvc,SAAU,YAiDHwc,GA9CC,SAAC,GAAmC,EAAjCC,UAAkC,IAAvBC,EAAsB,EAAtBA,QAAS7V,EAAa,EAAbA,SAC7BvO,EAAUvB,KACV4lB,EAAc7jB,mBAQpB,OANAU,qBAAU,WAEN,IAAMe,EAAMoiB,EAAc1jB,QAAQ2jB,YAClC5e,QAAQC,IAAI1D,GACZoiB,EAAc1jB,QAAQ4jB,WAAWtiB,IAClC,CAACmiB,IAEA,oCACI,kBAAC,GAAD,CAAY5mB,IAAK6mB,GACZD,EAAQzV,KAAI,SAAA6V,GACT,IAAMziB,EAAI0iB,IAAIC,gBAAgBF,EAAOG,MACrC,OACI,kBAAC,GAAD,CAAa5jB,IAAKyjB,EAAOhhB,IACpBghB,EAAOI,KACJ,kBAAC,GAAD,KACI,kBAAC,KAAD,CAAMpjB,UAAWxB,EAAQgkB,iBAE7B1hB,EAEJ,kBAAC,GAAD,CAAYR,IAAKC,EAAKC,IAAI,gBAItC,kBAAC,GAAD,KACI,+BACI,kBAAC,GAAD,KACI,kBAAC,KAAD,CAASR,UAAWxB,EAAQikB,WAEhC,kBAAC,GAAD,CACIY,OAAO,UACPvjB,KAAK,OACLgQ,KAAK,gBACLwT,UAAQ,EAACvW,SAAUA,SCnEhCmY,GAlCM,WAAK,IAAD,EACoBvf,aAAY,gBAAGotB,EAAH,EAAGA,WAAH,MAAqB,CACtEpQ,UAAWoQ,EAAWpQ,UACtBC,QAASmQ,EAAWrO,SAAS9B,QAC7BgC,SAAUmO,EAAWrO,SAASE,aAH1BjC,EADa,EACbA,UAAWC,EADE,EACFA,QAASgC,EADP,EACOA,SAMtBhf,EAAWC,cAEjBnG,qBAAU,WACNwE,QAAQC,IAAIye,KACb,CAACA,IAYJ,OACI,oCACI,kBAAC,GAAD,CACID,UAAWA,EACX5V,SAdS,SAAAxH,GACjBK,EACI0e,GAAY,CACRnB,KAAM5d,EAAElG,OAAO8lB,MAAM,GACrBnjB,GAAI4iB,EACJxB,MAAM,MAUNR,QAASA,MCVVoS,GAfK,WAChB,OACI,oCACI,kBAACrF,GAAD,KACI,kBAAC,GAAD,KACI,kBAAC,GAAD,MACA,kBAAC,GAAD,MACA,kBAAC,GAAD,MACA,kBAAC,GAAD,UCkCLsF,OApCf,WACI,OACI,oCACI,kBAACC,EAAA,EAAD,CAAe/4B,MAAOA,GAClB,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOF,UAAWmW,GAAU0P,KAAK,IAAI0E,OAAK,IAE1C,kBAAC,IAAD,CAAOvqB,UAAW4a,GAAWiL,KAAK,WAElC,kBAAC,IAAD,CAAO7lB,UAAWgd,GAAc6I,KAAK,cAErC,kBAAC,IAAD,CAAO7lB,UAAWqyB,GAASxM,KAAK,aAEhC,kBAAC,IAAD,CAAO7lB,UAAWqqB,GAAWxE,KAAK,eAElC,kBAAC,IAAD,CAAO7lB,UAAWyyB,GAAkB5M,KAAK,UAEzC,kBAAC,IAAD,CAAO7lB,UAAW+4B,GAAelT,KAAK,eAEtC,kBAAC,IAAD,CAAO7lB,UAAW4uB,GAAM/I,KAAK,UAE7B,kBAAC,IAAD,CAAO7lB,UAAW6sB,GAAShH,KAAK,cAEhC,kBAAC,IAAD,CACI4E,OAAQ,gBAAEjX,EAAF,EAAEA,SAAF,OACJ,6BACI,kHACA,2BAAIA,EAASkX,kBC7BzBwO,QACW,cAA7BC,OAAO3lB,SAAS4lB,UAEe,UAA7BD,OAAO3lB,SAAS4lB,UAEhBD,OAAO3lB,SAAS4lB,SAAShU,MACvB,2D,6CCYWiU,IAAV,SAAUA,KAAV,iEACH,OADG,SACGC,YAAI,CACN7iB,KACA/N,KACAgf,KACA7J,KACAkG,KACAiT,KACA/H,KACAY,KACApjB,KACAgf,KACA4C,OAZD,wCAgBQkL,OA/BGC,2BAAgB,CAC9B3gB,QACAtR,UACAlF,QACAmmB,SACAlb,SACArG,QACA6vB,cACA1H,cACA9b,UACAlG,QACAof,mBACAE,iBCZE+M,GAAiBC,eACjBC,GAAMC,uBACRL,GACAM,+BAAoBC,2BAAgBL,MAexCA,GAAeM,IAAIV,IAZnB,WACI,IACI,IAAMh3B,EAAKsY,KAAK2H,MAAMlZ,aAAa4wB,QAAQ,SAC3C,IAAK33B,EAAM,OAEXs3B,GAAMhwB,SAASb,GAAYzG,IAC3Bs3B,GAAMhwB,SAAS7C,MAClB,MAAMwC,GACHrB,QAAQiB,IAAI,gCAKpB+wB,GAGAC,IAASzP,OACL,kBAAC,IAAD,CAAUkP,MAAOA,IACb,kBAAC,IAAD,KACI,kBAAC/F,GAAA,EAAD,MACA,kBAAC,GAAD,QAGRuG,SAASC,eAAe,SFuFtB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBC,MAAK,SAAAC,GACJA,EAAaC,gBAEdC,OAAM,SAAApyB,GACLN,QAAQM,MAAMA,EAAM6Z,c","file":"static/js/main.5b74dab2.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/ClimbersLogo.5c985fed.png\";","import styled from \"styled-components\";\r\n\r\nconst ErrorMessage=styled.div`\r\n    color: red;\r\n    text-align: center;\r\n    font-size: 0.875rem;\r\n    margin-top: 1rem;\r\n`;\r\n\r\nexport default ErrorMessage;","import { Link } from 'react-router-dom';\r\nimport React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nfunction LinkWrapperButton(props) {\r\n    const { to, ...buttonProps } = props;\r\n    //console.dir(props);\r\n    const renderLink = React.useMemo(\r\n        () =>\r\n            React.forwardRef((linkProps, ref) => (\r\n                <Link ref={ref} to={to} {...linkProps} />\r\n            )),\r\n        [to],\r\n    );\r\n\r\n    return (\r\n        <Button component={renderLink} {...buttonProps}>\r\n            { props.children }\r\n        </Button>\r\n    );\r\n}\r\n\r\nexport default LinkWrapperButton;","module.exports = __webpack_public_path__ + \"static/media/homeImage.726f72c7.png\";","module.exports = __webpack_public_path__ + \"static/media/homeImage2.9aa7365c.png\";","import { createMuiTheme } from '@material-ui/core/styles';\r\n\r\nconst theme = createMuiTheme({\r\n    palette: {\r\n        primary: {\r\n            main:'#1ca9d0'\r\n        },\r\n        secondary: {\r\n            main:'#FE6B8B',\r\n        },\r\n        inherit: {\r\n            main:'#fffbfb',\r\n        }\r\n    },\r\n});\r\n\r\nexport default theme;","import React from 'react';\r\nimport LinkWrapperButton from \"./LinkedButton\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { makeStyles, createMuiTheme } from '@material-ui/core/styles';\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport {Link} from 'react-router-dom';\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\r\nimport Grow from '@material-ui/core/Grow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Popper from '@material-ui/core/Popper';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport MenuList from '@material-ui/core/MenuList';\r\nimport url from '../../images/ClimbersLogo.png';\r\n\r\n\r\nconst breakpointValues = {\r\n    xs: 0,\r\n    sm: 576,\r\n    md: 768,\r\n    lg: 992,\r\n    xl: 1200,\r\n};\r\nconst theme = createMuiTheme({ breakpoints: { values: breakpointValues } });\r\nconst useStyles = makeStyles(theme => ({\r\n    appBar:{\r\n        background: '#414449',\r\n        position: 'fixed',\r\n    },\r\n    menuButton: {\r\n        marginRight: theme.spacing(2),\r\n        [theme.breakpoints.up('md')]: {\r\n            display: 'none',\r\n        },\r\n    },\r\n    title: {\r\n        flexGrow: 1,\r\n    },\r\n    userInfo: {\r\n        marginRight: theme.spacing(2),\r\n        color: 'white',\r\n    },\r\n    link: {\r\n        margin: theme.spacing(1, 3),\r\n        textDecoration: 'none',\r\n        color: 'white',\r\n    },\r\n    menuLink: {\r\n        color: 'black',\r\n        textDecoration: 'none',\r\n    },\r\n    menuItem: {\r\n        flexGrow: 1,\r\n        [theme.breakpoints.down('sm')]: {\r\n            display: 'none',\r\n        },\r\n    },\r\n}));\r\n\r\n\r\nconst Header = ({ user, onLogout }) => {\r\n    const classes = useStyles(theme);\r\n    const [state, setState] = React.useState({\r\n        top: false,\r\n    });\r\n    const [open, setOpen] = React.useState(false);\r\n    const anchorRef = React.useRef(null);\r\n    const handleToggle = () => {\r\n        setOpen((prevOpen) => !prevOpen);\r\n    };\r\n\r\n    const handleClose = (event) => {\r\n        if (anchorRef.current && anchorRef.current.contains(event.target)) {\r\n            return;\r\n        }\r\n        setOpen(false);\r\n    };\r\n\r\n    function handleListKeyDown(event) {\r\n        if (event.key === 'Tab') {\r\n            event.preventDefault();\r\n            setOpen(false);\r\n        }\r\n    }\r\n\r\n    // return focus to the button when we transitioned from !open -> open\r\n    const prevOpen = React.useRef(open);\r\n    React.useEffect(() => {\r\n        if (prevOpen.current === true && open === false) {\r\n            anchorRef.current.focus();\r\n        }\r\n\r\n        prevOpen.current = open;\r\n    }, [open]);\r\n\r\n\r\n\r\n    const toggleDrawer = (side, open) => event => {\r\n        if (event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\r\n            return;\r\n        }\r\n\r\n        setState({ ...state, [side]: open });\r\n    };\r\n\r\n    const fullList = side => (\r\n        <div\r\n            className={classes.fullList}\r\n            role=\"presentation\"\r\n            onClick={toggleDrawer(side, false)}\r\n            onKeyDown={toggleDrawer(side, false)}\r\n        >\r\n            <List className={classes.list}>\r\n                <ListItem button >\r\n                    <Link to=\"/centers\">\r\n                        암장 정보\r\n                    </Link>\r\n                </ListItem>\r\n                <ListItem button >\r\n                    <Link to=\"/community\">\r\n                        커뮤니티\r\n                    </Link>\r\n                </ListItem>\r\n                <ListItem button >\r\n                    <Link to=\"/friends\">\r\n                        친구 찾기\r\n                    </Link>\r\n                </ListItem>\r\n                <ListItem button >\r\n                    <Link to=\"/market\">\r\n                        모임/대회\r\n                    </Link>\r\n                </ListItem>\r\n                <ListItem button >\r\n                    <Link to=\"/events\">\r\n                        이벤트\r\n                    </Link>\r\n                </ListItem>\r\n            </List>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <>\r\n            <AppBar className={classes.appBar}>\r\n                <Toolbar>\r\n                    <IconButton\r\n                        edge=\"start\"\r\n                        className={classes.menuButton}\r\n                        color=\"inherit\"\r\n                        aria-label=\"menu\"\r\n                        onClick={toggleDrawer('top', true)}\r\n                    >\r\n                        <MenuIcon />\r\n                    </IconButton>\r\n                    <Link className={classes.title} to=\"/\" >\r\n                        <img src={url} alt=\"logo\" width=\"112\" height=\"28\" />\r\n                    </Link>\r\n                        <nav className={classes.menuItem}>\r\n                            <Link to=\"/centers\" className={classes.link}>\r\n                                암장 정보\r\n                            </Link>\r\n                            <Link to=\"/community\" className={classes.link}>\r\n                                커뮤니티\r\n                            </Link>\r\n                            <Link to=\"/friends\" className={classes.link}>\r\n                                친구 찾기\r\n                            </Link>\r\n                            <Link variant=\"button\" color=\"inherit\" to=\"/market\" className={classes.link}>\r\n                                모임/대회\r\n                            </Link>\r\n                            <Link to=\"/events\" className={classes.link}>\r\n                                이벤트\r\n                            </Link>\r\n                        </nav>\r\n\r\n                    {user ? (\r\n                        <>\r\n                            <Button\r\n                                className={classes.userInfo}\r\n                                ref={anchorRef}\r\n                                aria-controls={open ? 'menu-list-grow' : undefined}\r\n                                aria-haspopup=\"true\"\r\n                                onClick={handleToggle}\r\n                            >\r\n                                {user.username}\r\n                            </Button>\r\n                            <Popper open={open} anchorEl={anchorRef.current} role={undefined} transition disablePortal>\r\n                                {({ TransitionProps, placement }) => (\r\n                                    <Grow\r\n                                        {...TransitionProps}\r\n                                        style={{ transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom' }}\r\n                                    >\r\n                                        <Paper>\r\n                                            <ClickAwayListener onClickAway={handleClose}>\r\n                                                <MenuList autoFocusItem={open} id=\"menu-list-grow\" onKeyDown={handleListKeyDown}>\r\n                                                    <MenuItem onClick={handleClose}>\r\n                                                        <Link variant=\"button\" to={`/user/${user.username}`} className={classes.menuLink}>\r\n                                                            프로필\r\n                                                        </Link>\r\n                                                    </MenuItem>\r\n                                                    <Divider />\r\n                                                    <MenuItem onClick={handleClose}>\r\n                                                        <Link variant=\"button\" to=\"/accounts/edit\" className={classes.menuLink}>\r\n                                                            Setting\r\n                                                        </Link>\r\n                                                    </MenuItem>\r\n                                                    <MenuItem onClick={handleClose}>My account</MenuItem>\r\n                                                    <MenuItem onClick={handleClose}>Logout</MenuItem>\r\n                                                </MenuList>\r\n                                            </ClickAwayListener>\r\n                                        </Paper>\r\n                                    </Grow>\r\n                                )}\r\n                            </Popper>\r\n                            <Button color=\"secondary\" variant=\"outlined\" onClick={onLogout}>Logout</Button>\r\n                        </>\r\n                    ): (\r\n                        <>\r\n                            <LinkWrapperButton color=\"secondary\" variant=\"outlined\" to=\"/login\">Login</LinkWrapperButton>\r\n                        </>\r\n                    )}\r\n                    <Drawer anchor=\"top\" open={state.top} onClose={toggleDrawer('top', false)}>\r\n                        {fullList('top')}\r\n                    </Drawer>\r\n\r\n                </Toolbar>\r\n            </AppBar>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Header;","import axios from 'axios';\r\n\r\nconst client=axios.create();\r\n\r\n\r\nexport default client;","import client from './client';\r\n\r\n//로그인\r\nexport const login=({username, password})=>\r\n    client.post('/api/auth/login', {username, password});\r\n\r\n//회원가입\r\nexport const register=({phone, username, name, password, validationCode})=>\r\n    client.post('/api/auth/register', {phone, username, name, password, validationCode});\r\n\r\n//사용자 이름 중복 확인\r\nexport const checkUserConflict=({username})=>\r\n    client.post('/api/auth/checkUserConflict', {username});\r\n\r\n//전화번호 인증 요청\r\nexport const requestPhoneAuth=({phone})=>\r\n    client.post('/api/auth/requestPhoneAuth', {phone});\r\n\r\n//로그인 상태 확인\r\nexport const check=()=>client.get('/api/auth/check');\r\n\r\n//로그아웃\r\nexport const logout=()=>client.post('/api/auth/logout');\r\n\r\n//get 프로필\r\nexport const loadProfile=()=>client.get('/api/auth/load-profile');\r\n\r\nexport const updateProfileImg = ()=> client.post('/api/auth/update-profile-img');\r\n\r\nexport const updateProfile = ()=> client.post('/api/auth/update-profile');","import {createAction, handleActions} from 'redux-actions';\r\n\r\nconst START_LOADING = 'loading/START_LOADING';\r\nconst FINISH_LOADING= 'loading/FINISH_LOADING';\r\n\r\n/*\r\n    요청을 위한 액션 타입을 payload로 설정한다. (ex. sample/GET_POST)\r\n*/\r\n\r\nexport const startLoading = createAction(\r\n    START_LOADING,\r\n    requestType => requestType,\r\n);\r\n\r\nexport const finishLoading = createAction(\r\n    FINISH_LOADING,\r\n    requestType => requestType,\r\n);\r\n\r\nconst initialState = {};\r\n\r\nconst loading = handleActions(\r\n    {\r\n        [START_LOADING]: (state, action) => ({\r\n            ...state,\r\n            [action.payload]: true,\r\n        }),\r\n        [FINISH_LOADING]: (state, action) => ({\r\n            ...state,\r\n            [action.payload]: false,\r\n        }),\r\n    },\r\n    initialState,\r\n);\r\n\r\nexport default loading;","import {call, put} from 'redux-saga/effects';\r\nimport {startLoading, finishLoading} from \"../modules/loading\";\r\n\r\nexport const createRequestActionTypes = type => {\r\n    const SUCCESS = `${type}_SUCCESS`;\r\n    const FAILURE = `${type}_FAILURE`;\r\n    return [type, SUCCESS, FAILURE];\r\n};\r\n\r\nexport default function createRequestSaga(type, request) {\r\n    const SUCCESS = `${type}_SUCCESS`;\r\n    const FAILURE = `${type}_FAILURE`;\r\n\r\n    return function*(action) {\r\n        yield put(startLoading(type)); //로딩 시작\r\n        console.dir(action.payload);\r\n        try{\r\n            const response =  yield call(request, action.payload);\r\n            console.dir(response);\r\n            yield put({\r\n                type: SUCCESS,\r\n                payload: response.data,\r\n                meta: response,\r\n            });\r\n        }catch (e) {\r\n            console.dir(e);\r\n            yield put({\r\n                type: FAILURE,\r\n                payload: e,\r\n                error: true,\r\n            });\r\n        }\r\n        yield put(finishLoading(type)); //로딩 끝\r\n    };\r\n}","import {createAction, handleActions} from 'redux-actions';\r\nimport {takeLatest, call, put} from 'redux-saga/effects';\r\nimport * as authAPI from '../lib/api/auth';\r\nimport {createRequestActionTypes} from \"../lib/createRequestSaga\";\r\nimport {startLoading, finishLoading} from \"../modules/loading\";\r\n\r\n\r\nconst TEMP_SET_USER = 'user/TEMP_SET_USER'; //새로코침 이후 임시 로그인 처리\r\n//회원 정보 확인\r\nconst [CHECK, CHECK_SUCCESS, CHECK_FAILURE] = createRequestActionTypes(\r\n    'user/CHECK',\r\n);\r\nconst CHECK_TEMP_FAILURE='user/CHECK_TEMP_FAILURE';\r\nconst LOGOUT= 'user/LOGOUT';\r\n\r\n\r\nexport const tempSetUser = createAction(TEMP_SET_USER, user=>user);\r\nexport const check = createAction(CHECK);\r\nexport const logout = createAction(LOGOUT);\r\n\r\n\r\nfunction* checkSaga(action) {\r\n    yield put(startLoading(CHECK)); //로딩 시작\r\n    try{\r\n        const response = yield call(authAPI.check, action.payload);\r\n        yield put({\r\n            type: CHECK_SUCCESS,\r\n            payload: response.data,\r\n        });\r\n    }catch (e) {\r\n        console.dir(e);\r\n        if(!e.response){\r\n            //handle Error: Request aborted\r\n            yield put({\r\n                type: CHECK_TEMP_FAILURE,\r\n                payload: e,\r\n                error: true,\r\n            });\r\n        }else{\r\n            const errorStatus=e.response.status;\r\n            console.log('errorStatus--',errorStatus);\r\n            if(errorStatus === 401 || 403){\r\n                yield put({\r\n                    type: CHECK_FAILURE,\r\n                    payload: e,\r\n                    error: true,\r\n                });\r\n            }\r\n        }\r\n    }\r\n    yield put(finishLoading(CHECK)); //로딩 끝\r\n}\r\n\r\nfunction checkFailureSaga() {\r\n    try{\r\n        localStorage.removeItem('user'); //localstorage에서 user를 제거\r\n    } catch (e) {\r\n        console.log('localStorage is not working');\r\n    }\r\n}\r\n\r\n\r\n\r\nfunction* logoutSaga() {\r\n    try{\r\n        yield call(authAPI.logout); //logout API 호출\r\n        localStorage.removeItem('user'); //localstorage 에서 user 제거\r\n    }catch(e){\r\n        console.log(e);\r\n    }\r\n}\r\n\r\n\r\nexport function* userSaga() {\r\n    yield takeLatest(CHECK, checkSaga);\r\n    yield takeLatest(CHECK_FAILURE, checkFailureSaga);\r\n    yield takeLatest(LOGOUT, logoutSaga);\r\n}\r\n\r\nconst initialState = {\r\n    user: null,\r\n    checkError: null,\r\n};\r\n\r\nexport default handleActions(\r\n    {\r\n        [TEMP_SET_USER]: (state, { payload: user }) => ({\r\n            ...state,\r\n            user,\r\n        }),\r\n        [CHECK_SUCCESS]: (state, { payload: user }) => ({\r\n            ...state,\r\n            user,\r\n            checkError: null,\r\n        }),\r\n        [CHECK_TEMP_FAILURE]: (state, { payload: error }) => ({\r\n            ...state,\r\n            checkError: error,\r\n        }),\r\n        [CHECK_FAILURE]: (state, { payload: error }) => ({\r\n            ...state,\r\n            user: null,\r\n            checkError: error,\r\n        }),\r\n        [LOGOUT]: state => ({\r\n            ...state,\r\n            user: null,\r\n        }),\r\n    },\r\n    initialState,\r\n);","import React from 'react';\r\nimport {useSelector, useDispatch} from \"react-redux\";\r\nimport Header from '../../components/common/Header';\r\nimport {logout} from '../../modules/user';\r\n\r\n\r\nconst HeaderContainer = () => {\r\n    const { user } = useSelector(({ user }) => ({ user: user.user }));\r\n    const dispatch = useDispatch();\r\n    const onLogout = () => {\r\n        dispatch(logout());\r\n    };\r\n    return <Header user={user} onLogout={onLogout} />;\r\n};\r\n\r\nexport default HeaderContainer;","import React from 'react';\r\nimport Carousel from 'nuka-carousel';\r\nimport styled from \"styled-components\";\r\nimport ArrowBackIos from '@material-ui/icons/ArrowBackIos';\r\nimport ArrowForwardIos from '@material-ui/icons/ArrowForwardIos';\r\nimport homeImage2 from '../../images/homeImage.png';\r\nimport homeImage1 from '../../images/homeImage2.png';\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nconst CarouselBox=styled.div`\r\n    width: 100%;\r\n    height: 30vw;\r\n    @media(max-width: 600px){\r\n         height: 50vw;\r\n    }\r\n`;\r\nconst SlideImage=styled.div`\r\nposition: absolute;\r\n    width: 100%;\r\n    height: 30vw;\r\n    @media(max-width: 600px){\r\n         height: 50vw;\r\n    }\r\n    background-image: url(${props=> props.src});\r\n    background-position: center;\r\n    background-repeat: no-repeat;\r\n    background-size : cover;\r\n`;\r\n\r\nconst ArrowButton=styled.div`\r\n    background-color: rgba( 0, 0, 0, 0.5);\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    color: #f4f4f4;\r\n    height: 40px;\r\n`;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    icon:{\r\n        fontSize: '30px',\r\n        color: 'white',\r\n        //flex: 1,\r\n    },\r\n}));\r\n\r\nexport default function MainCarousel() {\r\n    const classes = useStyles();\r\n    return (\r\n        <CarouselBox>\r\n            <Carousel\r\n                renderCenterLeftControls={({ previousSlide }) => (\r\n                    <ArrowButton onClick={previousSlide}>\r\n                        <ArrowBackIos className={classes.icon} />\r\n                    </ArrowButton>\r\n                )}\r\n                renderCenterRightControls={({ nextSlide }) => (\r\n                    <ArrowButton onClick={nextSlide}>\r\n                        <ArrowForwardIos className={classes.icon}/>\r\n                    </ArrowButton>\r\n                )}\r\n            >\r\n\r\n                <SlideImage src={homeImage1} alt=\"homeImage1\"/>\r\n                <SlideImage src={homeImage2} alt=\"homeImage2\"/>\r\n\r\n\r\n            </Carousel>\r\n        </CarouselBox>\r\n\r\n    );\r\n\r\n}","import React from 'react';\r\nimport styled from \"styled-components\";\r\n\r\n/*화면 전체를 채움*/\r\nconst HomeTemplateBlock=styled.div`\r\n    margin-top:4rem;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: flex-start;\r\n    align-items: center;\r\n    background: #111732; \r\n    @media(max-width: 600px){\r\n         margin-top:3rem;\r\n    }\r\n`;\r\n\r\nconst Footer=styled.div`\r\n    height: 4rem;\r\n`;\r\n\r\nexport default function HomeTemplate({children}){\r\n    return (\r\n        <>\r\n            <HomeTemplateBlock>\r\n                {children}\r\n                <Footer/>\r\n            </HomeTemplateBlock>\r\n        </>\r\n    );\r\n};\r\n","import React from 'react';\r\nimport styled from \"styled-components\";\r\n\r\n\r\nconst SlideViewSection=styled.div`\r\n    margin-top: 6rem;\r\n    width: 100%;\r\n    display: flex;\r\n    flex-direction: column;\r\n    color: white;\r\n`;\r\n\r\nconst SlideViewBlock=styled.div`\r\n    width: 100%;\r\n    display: flex;\r\n    background: #4BC0C8;  /* fallback for old browsers */\r\n    background: -webkit-linear-gradient(to bottom, #4BC0C8, #C779D0, #FEAC5E);  /* Chrome 10-25, Safari 5.1-6 */\r\n    background: linear-gradient(to bottom, #4BC0C8, #C779D0, #FEAC5E); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\r\n    justify-content: center;\r\n    padding: 10px 0 10px 0;\r\n    touch-action: none; //testing\r\n`;\r\nconst Responsive=styled.div`\r\n    display: flex;\r\n    width: 90%;\r\n    @media(min-width: 1024px){\r\n        width: 90%;\r\n    }\r\n    @media(min-width: 1440px){\r\n        //width: 75%;\r\n        max-width: 1100px;\r\n    }\r\n    \r\n`;\r\nconst Header=styled.h1`\r\n    color: white;\r\n    margin: 0 0 1vw 5vw;\r\n    font-size: large;\r\n`;\r\n\r\nexport default function SlideViewTemplate({children, label}){\r\n    return (\r\n        <SlideViewSection>\r\n            <Header>\r\n                {label}\r\n            </Header>\r\n            <SlideViewBlock>\r\n                <Responsive>\r\n                    {children}\r\n                </Responsive>\r\n            </SlideViewBlock>\r\n        </SlideViewSection>\r\n    )\r\n}","import client from './client';\r\nimport qs from 'qs';\r\n\r\nexport const listCenters=({page, sido, sigungu})=> {\r\n    const queryString = qs.stringify({\r\n        page,\r\n        sido,\r\n        sigungu,\r\n    });\r\n    return client.get(`/api/centers?${queryString}`);\r\n};\r\n\r\nexport const readCenter=id=>client.get(`/api/centers/${id}`);","import client from '../client';\r\nimport qs from 'qs';\r\n\r\n//이미지 업로드\r\nexport const imageUpload=({fileObject}) => {\r\n    console.dir(fileObject);\r\n    //fileObject -> type:File\r\n    const formData=new FormData();\r\n    formData.append('img', fileObject);\r\n    //note: ex)http://localhost:5000/api/community/upload-image 으로 하니 쿠키가 제대로 안넘어감\r\n    return client.post(\"/api/community/upload-image\", formData);\r\n};\r\n\r\n//포스트 전체 업로드\r\nexport const writePost=({imgUrlList, body, tags, centerTag, category})=>\r\n    client.post('/api/community/post', {imgUrlList, body, tags, centerTag, category});\r\n\r\nexport const writeComment=({postId, comment})=>\r\n    client.post(`/api/community/${postId}/comment`, {comment});\r\n\r\n//Get post list\r\nexport const listPosts=({page, username, tag, category})=> {\r\n    const queryString = qs.stringify({\r\n        page,\r\n        username,\r\n        tag,\r\n        category,\r\n    });\r\n    console.log(queryString)\r\n    return client.get(`/api/community?${queryString}`);\r\n};\r\n\r\n//Get single post\r\nexport const readPost=id=>client.get(`/api/posts/${id}`);\r\n\r\n\r\n","import {createAction, handleActions} from 'redux-actions';\r\nimport createRequestSaga, {\r\n    createRequestActionTypes\r\n} from \"../lib/createRequestSaga\";\r\nimport {takeLatest, call, put,select} from 'redux-saga/effects';\r\nimport * as centersAPI from '../lib/api/centers';\r\nimport * as postsAPI from '../lib/api/community/posts';\r\n\r\nconst [\r\n    LIST_CENTERS,\r\n    LIST_CENTERS_SUCCESS,\r\n    LIST_CENTERS_FAILURE,\r\n]=createRequestActionTypes('home/LIST_CENTERS');\r\n\r\nconst [\r\n    LIST_POSTS,\r\n    LIST_POSTS_SUCCESS,\r\n    LIST_POSTS_FAILURE,\r\n]=createRequestActionTypes('home/LIST_POSTS');\r\n\r\nexport const listCenters=createAction(\r\n    LIST_CENTERS,\r\n    ({sido, sigungu, page}) => ({sido, sigungu, page}),\r\n);\r\n\r\nexport const listPosts=createAction(\r\n    LIST_POSTS,\r\n    ({tag, username, category}) => ({tag, username, category}),\r\n);\r\n\r\nconst listCentersSaga=createRequestSaga(LIST_CENTERS, centersAPI.listCenters);\r\nconst listPostsSaga=createRequestSaga(LIST_POSTS, postsAPI.listPosts);\r\n\r\nexport function* homeSaga(){\r\n    yield takeLatest(LIST_CENTERS, listCentersSaga);\r\n    yield takeLatest(LIST_POSTS, listPostsSaga);\r\n}\r\n\r\nconst initialState={\r\n    sido: null, //시도\r\n    sigungu: null, //시군구\r\n    centers: null,\r\n    posts: null,\r\n    events: null,\r\n    feeds: null,\r\n    centerError: null,\r\n    postsError: null,\r\n};\r\nconst home=handleActions(\r\n    {\r\n        [LIST_CENTERS_SUCCESS]: (state, {payload: centers}) => ({\r\n            ...state,\r\n            centers,\r\n        }),\r\n        [LIST_CENTERS_FAILURE]: (state, {payload: error}) => ({\r\n            ...state,\r\n            error,\r\n        }),\r\n        [LIST_POSTS_SUCCESS]: (state, {payload: posts}) => ({\r\n            ...state,\r\n            posts,\r\n        }),\r\n        [LIST_POSTS_FAILURE]: (state, {payload: error}) => ({\r\n            ...state,\r\n            error,\r\n        }),\r\n    },\r\n    initialState,\r\n);\r\n\r\nexport default home;","import React, { useState, useEffect } from \"react\"\r\nimport styled from \"styled-components\"\r\nconst SlideImage=styled.div`\r\n    width: 100%;\r\n    height: 100%;\r\n    background-image: url(${props=> props.src});\r\n    background-position: center;\r\n    background-repeat: no-repeat;\r\n    background-size : cover;\r\n`;\r\nconst placeHolder =\r\n    \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkqAcAAIUAgUW0RjgAAAAASUVORK5CYII=\";\r\n\r\nconst LazyImage = ({ src, alt }) => {\r\n    const [imageSrc, setImageSrc] = useState(placeHolder)\r\n    const [imageRef, setImageRef] = useState()\r\n\r\n    const onLoad = event => {\r\n        event.target.classList.add(\"loaded\")\r\n    }\r\n\r\n    const onError = event => {\r\n        event.target.classList.add(\"has-error\")\r\n    }\r\n\r\n    useEffect(() => {\r\n        let observer;\r\n        let didCancel = false;\r\n\r\n        if (imageRef && imageSrc !== src) {\r\n            if (IntersectionObserver) {\r\n                observer = new IntersectionObserver(\r\n                    entries => {\r\n                        entries.forEach(entry => {\r\n                            if (\r\n                                !didCancel &&\r\n                                (entry.intersectionRatio > 0 || entry.isIntersecting)\r\n                            ) {\r\n                                setImageSrc(src);\r\n                                observer.unobserve(imageRef);\r\n                            }\r\n                        })\r\n                    },\r\n                    {\r\n                        threshold: 0.01,\r\n                        rootMargin: \"75%\",\r\n                    }\r\n                );\r\n                observer.observe(imageRef)\r\n            } else {\r\n                // Old browsers fallback\r\n                setImageSrc(src)\r\n            }\r\n        }\r\n        return () => {\r\n            didCancel = true;\r\n            // on component cleanup, we remove the listner\r\n            if (observer && observer.unobserve) {\r\n                observer.unobserve(imageRef)\r\n            }\r\n        }\r\n    }, [src, imageSrc, imageRef])\r\n    return (\r\n        <SlideImage\r\n            ref={setImageRef}\r\n            src={imageSrc}\r\n            alt={alt}\r\n            onLoad={onLoad}\r\n            onError={onError}\r\n        />\r\n    )\r\n};\r\nexport default LazyImage;","import React, { useContext, useEffect, useState } from 'react';\r\nimport {CarouselProvider, Slider, Slide, Dot, CarouselContext, ButtonNext, ButtonBack} from 'pure-react-carousel';\r\nimport 'pure-react-carousel/dist/react-carousel.es.css';\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport { Link } from 'react-router-dom';\r\nimport clsx from \"clsx\";\r\nimport LazyImage from './LazyImage';\r\nimport ArrowBackIos from '@material-ui/icons/ArrowBackIos';\r\nimport ArrowForwardIos from '@material-ui/icons/ArrowForwardIos';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        position: 'relative',\r\n        background: 'darkgray',\r\n        touchAction: 'none', //testing\r\n    },\r\n    dot: {\r\n        background: '#101014',\r\n        borderRadius: '75px',\r\n        border: '1px solid #101014',\r\n        //color: 'skyblue'\r\n        margin: '1px',\r\n        maxWidth: '1px',\r\n        opacity: '30%',\r\n    },\r\n    dotSelected: {\r\n        borderRadius: '75px',\r\n        background: '#101014',\r\n        border: '1px solid #101014',\r\n    },\r\n    dotBox: {\r\n        textAlign: 'center',\r\n        position: 'absolute',\r\n        bottom: 0,\r\n        left: 0,\r\n        right: 0,\r\n    },\r\n    icon:{\r\n        fontSize: '1rem',\r\n        color: 'white'\r\n    },\r\n    arrowButton:{\r\n        position: 'absolute',\r\n        borderRadius: '50%',\r\n        backgroundColor: 'rgba( 0, 0, 0, 0.2 )',\r\n        height: '20px',\r\n        width: '20px',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        border: 'rgba( 255, 255, 255, 0 )',\r\n        top: '50%',\r\n        transform: 'translateY(-50%)',\r\n        zIndex: 3,\r\n    },\r\n    nextButton: {\r\n        right: 5,\r\n    },\r\n    backButton: {\r\n        left: 5,\r\n    }\r\n}));\r\n\r\nconst RightArrowButton=({classes})=>(\r\n    <ButtonNext className={clsx(classes.arrowButton, classes.nextButton)}>\r\n        <ArrowForwardIos className={classes.icon}/>\r\n    </ButtonNext>\r\n);\r\nconst LeftArrowButton=({classes})=>(\r\n    <ButtonBack className={clsx(classes.arrowButton, classes.backButton)}>\r\n        <ArrowBackIos className={classes.icon}/>\r\n    </ButtonBack>\r\n);\r\n\r\nfunction ComponentsUsingContext({imgUrlList, classes}) {\r\n    const carouselContext = useContext(CarouselContext);\r\n    const [currentSlide, setCurrentSlide] = useState(carouselContext.state.currentSlide);\r\n    useEffect(()=> {\r\n        function onChange() {\r\n            setCurrentSlide(carouselContext.state.currentSlide);\r\n        }\r\n        carouselContext.subscribe(onChange);\r\n        return () => carouselContext.unsubscribe(onChange);\r\n    }, [carouselContext]);\r\n    const dotComponents=imgUrlList.map((image, index)=>(\r\n        index===currentSlide ? (\r\n            <Dot key={index} className={classes.dotSelected} slide={index}/>\r\n        ) : (\r\n            <Dot key={index} className={classes.dot} slide={index}/>\r\n        )\r\n    ));\r\n    const ArrowButtons=()=>{\r\n        if(currentSlide===0){\r\n            return (\r\n                <RightArrowButton classes={classes}/>\r\n            )\r\n        }else if(currentSlide===imgUrlList.length-1){\r\n            return (\r\n                <LeftArrowButton classes={classes}/>\r\n            )\r\n        }else {\r\n            return (\r\n                <>\r\n                    <LeftArrowButton classes={classes}/>\r\n                    <RightArrowButton classes={classes}/>\r\n                </>\r\n            )\r\n        }\r\n    };\r\n    return (\r\n        <>\r\n            <div className={classes.dotBox}>{dotComponents}</div>\r\n            <ArrowButtons/>\r\n        </>\r\n    )\r\n}\r\nfunction SliderWrapper({children, to}) {\r\n    return ( to ? (\r\n            <Link to={to}>\r\n                {children}\r\n            </Link>\r\n        ) : (\r\n            <>{children}</>\r\n        ))\r\n}\r\nexport default function Carousel({imgUrlList, to}) {\r\n    //const url='https://climbers.herokuapp.com';\r\n    const classes = useStyles();\r\n    const count=imgUrlList.length;\r\n    return (\r\n        <div className={classes.root}>\r\n            <CarouselProvider\r\n                naturalSlideWidth={100}\r\n                naturalSlideHeight={60}\r\n                totalSlides={count}\r\n                dragEnabled={false}\r\n                isPlaying={true}\r\n                interval={10000}\r\n            >\r\n                <SliderWrapper to={to}>\r\n                    <Slider>\r\n                        {\r\n                            imgUrlList.map((image, index)=>(\r\n                                <Slide index={index} key={index}>\r\n                                    <LazyImage src={image}/>\r\n                                </Slide>\r\n                            ))\r\n                        }\r\n                    </Slider>\r\n                </SliderWrapper>\r\n                {imgUrlList.length>1 && <ComponentsUsingContext imgUrlList={imgUrlList} classes={classes}/>}\r\n            </CarouselProvider>\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport Rating from '@material-ui/lab/Rating';\r\nimport ShareIcon from '@material-ui/icons/Share';\r\nimport Carousel from \"./Carousel\";\r\nimport BookmarkBorderIcon from '@material-ui/icons/BookmarkBorder';\r\nimport styled, {css} from 'styled-components';\r\nimport { withRouter, Link } from 'react-router-dom';\r\nimport clsx from \"clsx\";\r\nconst cardStyle=css`\r\n    ${props=> \r\n        props.coloredborder &&\r\n        css`\r\n            border: 1px solid transparent;\r\n            border-image: linear-gradient(to left, #77a1d3, #79cbca, #e684ae);\r\n            border-image-slice: 1;\r\n        `}\r\n`;\r\n\r\nconst StyledCard=styled(Card)`\r\n    flex:1;\r\n    display: flex;\r\n    flex-direction: column;\r\n    height: 100%;\r\n    ${cardStyle}\r\n`;\r\nconst Title=styled.h1`\r\n    font-size: 1em;\r\n    margin-bottom: 0;\r\n    //flex: 1;\r\n    @media(max-width: 600px){\r\n        font-size: 1em;\r\n    }\r\n`;\r\nconst Address=styled.div`\r\n  //flex:1;\r\n  \r\n`;\r\nconst ContentHeader=styled.div`\r\n    //height: 9vh;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-between;\r\n    //background: #61dafb;\r\n    @media(max-width: 350px){\r\n       //height: 10vh;\r\n    }\r\n`;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        flex:1,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        height: '100%',\r\n        //boxShadow: '2px 2px 2px rgba(0, 0, 0, 0.3)',\r\n    },\r\n    borderColor: {\r\n        border: '1px solid',\r\n        borderImageSlice: 1,\r\n        borderImage: 'linear-gradient(to top, #12c2e9, #c471ed, #f64f59)',\r\n        borderImageWidth: '1px',\r\n        [theme.breakpoints.down('sm')]: {\r\n            border: '1px solid',\r\n            borderImageSlice: 1,\r\n            borderImage: 'linear-gradient(to top, #12c2e9, #c471ed, #f64f59)',\r\n            borderImageWidth: '1px',\r\n        },\r\n},\r\n    content: {\r\n        flex: 1,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        paddingLeft: '10px',\r\n        padding: 0,\r\n        //background: 'blue',\r\n        [theme.breakpoints.down('xs')]: {\r\n            maxHeight: '110px',\r\n        },\r\n    },\r\n    link: {\r\n        textDecoration: 'none',\r\n        color: 'black',\r\n        flex: 1,\r\n        display: 'flex',\r\n        overflow: 'hidden', //추가\r\n    },\r\n    controls: {\r\n        display: 'flex',\r\n        //background: 'yellow',\r\n        position: 'relative',\r\n    },\r\n    icon: {\r\n        padding: 0,\r\n    },\r\n    badge: {\r\n        position: 'absolute',\r\n        right: 25,\r\n    },\r\n    rating:{\r\n        [theme.breakpoints.down('xs')]: {\r\n            //maxHeight: '5px',\r\n        },\r\n    }\r\n}));\r\n\r\n\r\nconst CenterCard= ({center, history, coloredborder}) => {\r\n    const classes = useStyles();\r\n    const location=center.locationObject;\r\n\r\n    return (\r\n        <>\r\n            <Card className={coloredborder? clsx(classes.root, classes.borderColor) : classes.root}>\r\n\r\n                { center.imgUrlList.length > 0 && (\r\n                    <Carousel\r\n                        imgUrlList={center.imgUrlList}\r\n                        title=\"Paella dish\"\r\n                        to={`/centers/${center._id}`}\r\n                    />\r\n                )}\r\n\r\n                <Link to={`/centers/${center._id}`} className={classes.link}>\r\n                    <CardContent className={classes.content}>\r\n                        <ContentHeader>\r\n                            <Title>\r\n                                {center.title}\r\n                            </Title>\r\n                            <Rating className={classes.rating} name=\"size-small\" defaultValue={2} size=\"small\" />\r\n                        </ContentHeader>\r\n                        <Address>\r\n                            {location.sido} {location.sigungu} {location.bname}\r\n                        </Address>\r\n                    </CardContent>\r\n                </Link>\r\n                <CardActions className={classes.controls}>\r\n                    <IconButton className={classes.icon} aria-label=\"add to favorites\">\r\n                        <BookmarkBorderIcon />\r\n                    </IconButton>\r\n                    <IconButton className={classes.icon} aria-label=\"share\">\r\n                        <ShareIcon />\r\n                    </IconButton>\r\n                    <Badge color=\"secondary\" badgeContent={'event'} aria-label=\"add\" className={classes.badge} />\r\n                </CardActions>\r\n            </Card>\r\n        </>\r\n    );\r\n}\r\nexport default withRouter(CenterCard);","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport Rating from '@material-ui/lab/Rating';\r\nimport ShareIcon from '@material-ui/icons/Share';\r\n\r\nimport BookmarkBorderIcon from '@material-ui/icons/BookmarkBorder';\r\nimport styled from 'styled-components';\r\nimport Skeleton from \"@material-ui/lab/Skeleton\";\r\n\r\nconst ContentHeader=styled.div`\r\n    //height: 9vh;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-between;\r\n    //background: #61dafb;\r\n    @media(max-width: 350px){\r\n       height: 10vh;\r\n    }\r\n`;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        flex:1,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        border: '1px solid',\r\n        borderImageSlice: 1,\r\n        borderImage: 'linear-gradient(to left, #77a1d3, #79cbca, #e684ae);',\r\n        borderImageWidth: '1px',\r\n        //boxShadow: '2px 2px 2px rgba(0, 0, 0, 0.3)',\r\n        height: '100%',\r\n    },\r\n    content: {\r\n        flex: 1,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        paddingLeft: '10px',\r\n        padding: 0,\r\n        [theme.breakpoints.down('xs')]: {\r\n            maxHeight: '110px',\r\n        },\r\n    },\r\n    controls: {\r\n        display: 'flex',\r\n        //background: 'yellow',\r\n        position: 'relative',\r\n    },\r\n    icon: {\r\n        padding: 0,\r\n    },\r\n    badge: {\r\n        position: 'absolute',\r\n        right: 25,\r\n    },\r\n    rating:{\r\n        [theme.breakpoints.down('xs')]: {\r\n            //maxHeight: '5px',\r\n        },\r\n    }\r\n}));\r\n\r\n\r\nconst SkeletonCenterCard= () => {\r\n    const classes = useStyles();\r\n    return (\r\n        <>\r\n            <Card className={classes.root}>\r\n                <Skeleton animation=\"wave\" variant=\"rect\" width='100%' height='50%' />\r\n                <CardContent className={classes.content}>\r\n                    <ContentHeader>\r\n                        <Skeleton />\r\n                        <Rating className={classes.rating} name=\"size-small\" defaultValue={2} size=\"small\" />\r\n                    </ContentHeader>\r\n                    <Skeleton width='60%'/>\r\n                    <Skeleton width='60%'/>\r\n                </CardContent>\r\n\r\n                <CardActions className={classes.controls}>\r\n                    <IconButton className={classes.icon} aria-label=\"add to favorites\">\r\n                        <BookmarkBorderIcon />\r\n                    </IconButton>\r\n                    <IconButton className={classes.icon} aria-label=\"share\">\r\n                        <ShareIcon />\r\n                    </IconButton>\r\n                    <Badge color=\"secondary\" badgeContent={'event'} aria-label=\"add\" className={classes.badge} />\r\n                </CardActions>\r\n            </Card>\r\n        </>\r\n    );\r\n};\r\nexport default SkeletonCenterCard;","import React, { useContext, useEffect, useState, useMemo } from 'react';\r\nimport { CarouselProvider, Slider, Slide, ButtonBack, ButtonNext, Dot, CarouselContext  } from 'pure-react-carousel';\r\nimport 'pure-react-carousel/dist/react-carousel.es.css';\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport clsx from \"clsx\";\r\nimport ArrowBackIos from '@material-ui/icons/ArrowBackIos';\r\nimport ArrowForwardIos from '@material-ui/icons/ArrowForwardIos';\r\nimport CenterCard from '../../common/CenterCard'\r\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\r\nimport styled from \"styled-components\";\r\nimport Skeleton from '@material-ui/lab/Skeleton';\r\nimport SkeletonCenterCard from '../../common/SkeletonCenterCard'\r\n\r\nconst CardBox=styled.div`\r\n    position: relative;\r\n    height: 100%;\r\n    margin: 0 5px 0 5px;\r\n`;\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        position: 'relative',\r\n        //background: 'blue',\r\n        width: '100%',\r\n        //marginBottom: '100px',\r\n    },\r\n    dot: {\r\n        background: '#3c4146',\r\n        //borderRadius: '75px',\r\n        border: '1px solid #3c4146',\r\n        //color: 'skyblue'\r\n        margin: '1px',\r\n    },\r\n    dotSelected: {\r\n        background: '#B68DFF',\r\n        border: '1px solid #B68DFF',\r\n        margin: '1px'\r\n    },\r\n    dotBox: {\r\n        textAlign: 'center',\r\n\r\n    },\r\n    icon:{\r\n        fontSize: '17px',\r\n        color: 'white',\r\n        //flex: 1,\r\n    },\r\n    arrowButton:{\r\n        position: 'absolute',\r\n        borderRadius: '50%',\r\n        backgroundColor: 'rgba( 0, 0, 0, 0.2 )',\r\n        height: '25px',\r\n        width: '25px',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        border: 'rgba( 255, 255, 255, 0 )',\r\n        top: '50%',\r\n        transform: 'translateY(-50%)',\r\n    },\r\n    nextButton: {\r\n        right: -30,\r\n        [theme.breakpoints.down('sm')]: {\r\n            right: -10,\r\n        },\r\n    },\r\n    backButton: {\r\n        left: -30,\r\n        [theme.breakpoints.down('sm')]: {\r\n            left: -10,\r\n        },\r\n    }\r\n}));\r\n\r\nconst RightArrowButton=({classes})=>(\r\n    <ButtonNext className={clsx(classes.arrowButton, classes.nextButton)}>\r\n        <ArrowForwardIos className={classes.icon}/>\r\n    </ButtonNext>\r\n);\r\nconst LeftArrowButton=({classes})=>(\r\n    <ButtonBack className={clsx(classes.arrowButton, classes.backButton)}>\r\n        <ArrowBackIos className={classes.icon}/>\r\n    </ButtonBack>\r\n);\r\n\r\nfunction ComponentsUsingContext({centers, classes, mobileM, page, visibleSlides}) {\r\n    const carouselContext = useContext(CarouselContext);\r\n    const [currentSlide, setCurrentSlide] = useState(carouselContext.state.currentSlide);\r\n    useEffect(()=> {\r\n        function onChange() {\r\n            setCurrentSlide(carouselContext.state.currentSlide);\r\n        }\r\n        carouselContext.subscribe(onChange);\r\n        return () => carouselContext.unsubscribe(onChange);\r\n    }, [carouselContext]);\r\n\r\n    const slideIndex=[];\r\n\r\n    for(let i=0; i<page; i++){\r\n        if(i !== page-1){\r\n            slideIndex[i]=visibleSlides*i;\r\n        }else{\r\n            slideIndex[i]=visibleSlides*i- (visibleSlides*page- centers.length);\r\n        }\r\n    }\r\n    const dotComponents=slideIndex.map((slide, index)=>(\r\n        slide===currentSlide ? (\r\n                <Dot key={index} className={classes.dotSelected} slide={slide}/>\r\n            ) : (\r\n                <Dot key={index} className={classes.dot} slide={slide}/>\r\n            )\r\n    ));\r\n\r\n\r\n    const ArrowButtons=()=>{\r\n        if(currentSlide===0){\r\n            return (\r\n                <RightArrowButton classes={classes}/>\r\n            )\r\n        }else if(currentSlide>=centers.length-visibleSlides||currentSlide===centers.length-1){\r\n            return (\r\n                <LeftArrowButton classes={classes}/>\r\n            )\r\n        }else {\r\n            return (\r\n                <>\r\n                    <LeftArrowButton classes={classes}/>\r\n                    <RightArrowButton classes={classes}/>\r\n                </>\r\n            )\r\n        }\r\n    };\r\n    return (\r\n        <>\r\n            <div className={classes.dotBox}>{dotComponents}</div>\r\n            {!mobileM && <ArrowButtons/>}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default function CenterCarousel({centers, loading}) {\r\n    const classes = useStyles();\r\n    const mobileL = useMediaQuery('(max-width:670px)');\r\n    const mobileM = useMediaQuery('(max-width:450px)');\r\n    const laptop = useMediaQuery('(min-width:1200px)');\r\n    let tempArray=[0, 0, 0, 0];\r\n\r\n    const { totalSlide, visibleSlides, page} = useMemo(() => {\r\n        const visibleSlides=(mobileM ? 2 : (mobileL ? 3  : 4 ));\r\n        if(centers){\r\n            const totalSlide=centers.length;\r\n\r\n            const page=Math.ceil(totalSlide/visibleSlides);\r\n            return {totalSlide, visibleSlides, page};\r\n        }else {\r\n            return {'totalSlide': 4, visibleSlides, 'page':0};\r\n        }\r\n    }, [centers, mobileL, mobileM, laptop]);\r\n\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <CarouselProvider\r\n                naturalSlideWidth={100}\r\n                naturalSlideHeight={laptop ? 110 : (mobileM? 140 : 130)}\r\n                totalSlides={totalSlide}\r\n                visibleSlides={visibleSlides}\r\n                step={visibleSlides}\r\n                dragStep={visibleSlides}\r\n                dragEnabled={false}\r\n            >\r\n                <Slider>\r\n                    {(loading || !centers) && tempArray.map((center, index)=>(\r\n                        <Slide key={index}>\r\n                            <CardBox>\r\n                                <SkeletonCenterCard center={center}/>\r\n                            </CardBox>\r\n                        </Slide>\r\n                    ))}\r\n                    {!loading && centers && centers.map((center, index)=>(\r\n                        <Slide index={index} key={index}>\r\n                            <CardBox>\r\n                                <CenterCard center={center}/>\r\n                            </CardBox>\r\n                        </Slide>\r\n                    ))}\r\n                </Slider>\r\n                { !loading && centers && centers.length>1 &&\r\n                    <ComponentsUsingContext centers={centers} classes={classes} mobileM={mobileM} page={page} visibleSlides={visibleSlides}/>\r\n                }\r\n            </CarouselProvider>\r\n        </div>\r\n    );\r\n}","import React, {useEffect} from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {listCenters} from '../../modules/home';\r\nimport CenterCarousel from '../../components/home/centerSection/CenterCarousel'\r\n\r\nconst CenterSectionContainer=()=> {\r\n    const dispatch=useDispatch();\r\n\r\n    const {centers, error, centersLoading, sido, sigungu}=useSelector(\r\n        ({ home, loading })=> ({\r\n            centers: home.centers,\r\n            error: home.centerError,\r\n            sido: home.sido,\r\n            sigungu: home.sigungu,\r\n            centersLoading: loading['home/LIST_CENTERS'],\r\n        }),\r\n    );\r\n\r\n    useEffect(()=> {\r\n        const page=parseInt( '1', 10);\r\n        dispatch(listCenters({sido, sigungu, page}));\r\n    }, [dispatch]);\r\n\r\n\r\n    return (\r\n        <>\r\n            <CenterCarousel\r\n                loading={centersLoading}\r\n                error={error}\r\n                centers={centers}\r\n            />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default CenterSectionContainer;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nconst UserInfoBlock=styled.div`\r\n    display: flex;\r\n    width: 100%;\r\n    //height: 100%;\r\n    align-items: center;\r\n    background-color: rgba(0,0,0,0.64);\r\n    &>*{\r\n        margin: 1rem 2px;\r\n    }\r\n`;\r\nconst Username=styled.p`\r\n    \r\n`\r\nexport default function UserInfo({user}){\r\n    return (\r\n        <UserInfoBlock>\r\n            <Avatar/>\r\n            <Username>{user.username}</Username>\r\n        </UserInfoBlock>\r\n    )\r\n}","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport LazyImage from '../../common/LazyImage'\r\nimport UserInfo from './UserInfo';\r\nconst FeedCardContainer=styled.div`\r\n    //display: flex;\r\n     width: 100%;\r\n    height: 100%;\r\n    border-radius: 20px;\r\n    background-color: #61dafb;\r\n    position: relative;\r\n    overflow: hidden;\r\n`;\r\nconst FeedImage=styled.div`\r\n    width: 100%;\r\n    height: 100%;\r\n    background-image: url(${props=> props.src});\r\n    background-position: center;\r\n    background-repeat: no-repeat;\r\n    background-size : cover;\r\n    z-index: 1;\r\n    position: absolute;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n`\r\nconst FeedInfo=styled.div`\r\n    width: 100%;\r\n    height: 100%;\r\n    z-index: 2;\r\n    top: 0;\r\n    position: absolute;\r\n    display: flex;\r\n    align-items: flex-end;\r\n`\r\nexport default function FeedCard({post}){\r\n    return (\r\n        <FeedCardContainer>\r\n            <LazyImage src={post.imgUrlList[0]}/>\r\n            <FeedInfo><UserInfo user={post.user}/></FeedInfo>\r\n        </FeedCardContainer>\r\n    )\r\n}","import React, { useContext, useEffect, useState, useMemo } from 'react';\r\nimport { CarouselProvider, Slider, Slide, ButtonBack, ButtonNext, Dot, CarouselContext  } from 'pure-react-carousel';\r\nimport 'pure-react-carousel/dist/react-carousel.es.css';\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport clsx from \"clsx\";\r\nimport ArrowBackIos from '@material-ui/icons/ArrowBackIos';\r\nimport ArrowForwardIos from '@material-ui/icons/ArrowForwardIos';\r\nimport CenterCard from '../../common/CenterCard'\r\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\r\nimport styled from \"styled-components\";\r\nimport Skeleton from '@material-ui/lab/Skeleton';\r\nimport SkeletonCenterCard from '../../common/SkeletonCenterCard'\r\nimport FeedCard from './FeedCard'\r\n\r\nconst CardBox=styled.div`\r\n    position: relative;\r\n    height: 100%;\r\n    margin: 0 5px 0 5px;\r\n`;\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        position: 'relative',\r\n        //background: 'blue',\r\n        width: '100%',\r\n        //marginBottom: '100px',\r\n    },\r\n    dot: {\r\n        background: '#3c4146',\r\n        //borderRadius: '75px',\r\n        border: '1px solid #3c4146',\r\n        //color: 'skyblue'\r\n        margin: '1px',\r\n    },\r\n    dotSelected: {\r\n        background: '#B68DFF',\r\n        border: '1px solid #B68DFF',\r\n        margin: '1px'\r\n    },\r\n    dotBox: {\r\n        textAlign: 'center',\r\n\r\n    },\r\n    icon:{\r\n        fontSize: '17px',\r\n        color: 'white',\r\n        //flex: 1,\r\n    },\r\n    arrowButton:{\r\n        position: 'absolute',\r\n        borderRadius: '50%',\r\n        backgroundColor: 'rgba( 0, 0, 0, 0.2 )',\r\n        height: '25px',\r\n        width: '25px',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        border: 'rgba( 255, 255, 255, 0 )',\r\n        top: '50%',\r\n        transform: 'translateY(-50%)',\r\n    },\r\n    nextButton: {\r\n        right: -30,\r\n        [theme.breakpoints.down('sm')]: {\r\n            right: -10,\r\n        },\r\n    },\r\n    backButton: {\r\n        left: -30,\r\n        [theme.breakpoints.down('sm')]: {\r\n            left: -10,\r\n        },\r\n    }\r\n}));\r\n\r\nconst RightArrowButton=({classes})=>(\r\n    <ButtonNext className={clsx(classes.arrowButton, classes.nextButton)}>\r\n        <ArrowForwardIos className={classes.icon}/>\r\n    </ButtonNext>\r\n);\r\nconst LeftArrowButton=({classes})=>(\r\n    <ButtonBack className={clsx(classes.arrowButton, classes.backButton)}>\r\n        <ArrowBackIos className={classes.icon}/>\r\n    </ButtonBack>\r\n);\r\n\r\nfunction ComponentsUsingContext({posts, classes, mobileM, page, visibleSlides}) {\r\n    const carouselContext = useContext(CarouselContext);\r\n    const [currentSlide, setCurrentSlide] = useState(carouselContext.state.currentSlide);\r\n    useEffect(()=> {\r\n        function onChange() {\r\n            setCurrentSlide(carouselContext.state.currentSlide);\r\n        }\r\n        carouselContext.subscribe(onChange);\r\n        return () => carouselContext.unsubscribe(onChange);\r\n    }, [carouselContext]);\r\n\r\n    const slideIndex=[];\r\n\r\n    for(let i=0; i<page; i++){\r\n        if(i !== page-1){\r\n            slideIndex[i]=visibleSlides*i;\r\n        }else{\r\n            slideIndex[i]=visibleSlides*i- (visibleSlides*page- posts.length);\r\n        }\r\n    }\r\n    const dotComponents=slideIndex.map((slide, index)=>(\r\n        slide===currentSlide ? (\r\n                <Dot key={index} className={classes.dotSelected} slide={slide}/>\r\n            ) : (\r\n                <Dot key={index} className={classes.dot} slide={slide}/>\r\n            )\r\n    ));\r\n\r\n\r\n    const ArrowButtons=()=>{\r\n        if(currentSlide===0){\r\n            return (\r\n                <RightArrowButton classes={classes}/>\r\n            )\r\n        }else if(currentSlide>=posts.length-visibleSlides||currentSlide===posts.length-1){\r\n            return (\r\n                <LeftArrowButton classes={classes}/>\r\n            )\r\n        }else {\r\n            return (\r\n                <>\r\n                    <LeftArrowButton classes={classes}/>\r\n                    <RightArrowButton classes={classes}/>\r\n                </>\r\n            )\r\n        }\r\n    };\r\n    return (\r\n        <>\r\n            <div className={classes.dotBox}>{dotComponents}</div>\r\n            {!mobileM && <ArrowButtons/>}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default function FeedCarousel({posts, loading}) {\r\n    const classes = useStyles();\r\n    const mobileL = useMediaQuery('(max-width:670px)');\r\n    const mobileM = useMediaQuery('(max-width:450px)');\r\n    const laptop = useMediaQuery('(min-width:1200px)');\r\n    let tempArray=[0, 0, 0, 0];\r\n\r\n    const { totalSlide, visibleSlides, page} = useMemo(() => {\r\n        const visibleSlides=(mobileM ? 2 : (mobileL ? 3  : 4 ));\r\n        if(posts){\r\n            const totalSlide=posts.length;\r\n\r\n            const page=Math.ceil(totalSlide/visibleSlides);\r\n            return {totalSlide, visibleSlides, page};\r\n        }else {\r\n            return {'totalSlide': 4, visibleSlides, 'page':0};\r\n        }\r\n    }, [posts, mobileL, mobileM, laptop]);\r\n\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <CarouselProvider\r\n                naturalSlideWidth={100}\r\n                naturalSlideHeight={laptop ? 110 : (mobileM? 140 : 130)}\r\n                totalSlides={totalSlide}\r\n                visibleSlides={visibleSlides}\r\n                step={visibleSlides}\r\n                dragStep={visibleSlides}\r\n                dragEnabled={false}\r\n            >\r\n                <Slider>\r\n                    {(loading || !posts) && tempArray.map((center, index)=>(\r\n                        <Slide key={index}>\r\n                            <CardBox>\r\n                                <SkeletonCenterCard center={center}/>\r\n                            </CardBox>\r\n                        </Slide>\r\n                    ))}\r\n                    {!loading && posts && posts.map((post, index)=>(\r\n                        <Slide index={index} key={index}>\r\n                            <CardBox>\r\n                                <FeedCard post={post}/>\r\n                            </CardBox>\r\n                        </Slide>\r\n                    ))}\r\n                </Slider>\r\n                { !loading && posts && posts.length>1 &&\r\n                    <ComponentsUsingContext posts={posts} classes={classes} mobileM={mobileM} page={page} visibleSlides={visibleSlides}/>\r\n                }\r\n            </CarouselProvider>\r\n        </div>\r\n    );\r\n}","import React, {useEffect} from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {listPosts} from '../../modules/home';\r\nimport FeedCarousel from '../../components/home/feedSetion/FeedCarousel'\r\nimport qs from \"qs\";\r\nimport CenterCarousel from \"../../components/home/centerSection/CenterCarousel\";\r\n\r\nconst FeedSectionContainer=()=> {\r\n    const dispatch=useDispatch();\r\n\r\n    const {posts, error, postsLoading}=useSelector(\r\n        ({ home, loading })=> ({\r\n            posts: home.posts,\r\n            error: home.postsError,\r\n            postsLoading: loading['home/LIST_POSTS'],\r\n        }),\r\n    );\r\n\r\n    useEffect(()=> {\r\n        const {tag, username, category}='';\r\n        dispatch(listPosts({tag, username, category}));\r\n    }, [dispatch]);\r\n\r\n\r\n    return (\r\n        <>\r\n            <FeedCarousel\r\n                loading={postsLoading}\r\n                error={error}\r\n                posts={posts}\r\n            />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default FeedSectionContainer;","import React from 'react';\r\nimport HeaderContainer from \"../containers/common/HeaderContainer\";\r\nimport MainCarousel from '../components/home/MainCarousel';\r\nimport HomeTemplate from \"../components/home/HomeTemplate\";\r\nimport SlideViewTemplate from \"../components/home/SlideViewTemplate\";\r\nimport CenterSectionContainer from '../containers/home/CenterSectionContainer';\r\nimport FeedSectionContainer from \"../containers/home/FeedSectionContainer\";\r\nconst HomePage=()=>{\r\n    return (\r\n        <>\r\n            <HeaderContainer />\r\n            <HomeTemplate>\r\n                <MainCarousel/>\r\n                <SlideViewTemplate label=\"클라이밍 센터 추천\">\r\n                    <CenterSectionContainer/>\r\n                </SlideViewTemplate>\r\n                <SlideViewTemplate label=\"추천 피드\">\r\n                    <FeedSectionContainer/>\r\n                </SlideViewTemplate>\r\n            </HomeTemplate>\r\n        </>\r\n    );\r\n};\r\n\r\n\r\nexport default HomePage;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport {Link} from 'react-router-dom';\r\nimport logo from '../../images/ClimbersLogo.png';\r\nimport Container from \"@material-ui/core/Container\";\r\n\r\n//회원가입/로그인 페이지의 레이아웃을 담당하는 컴포넌트\r\n\r\n/*화면 전체를 채움*/\r\nconst AuthTemplateBlock=styled.div`\r\n   \r\n    \r\n    min-height: 100vh;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    \r\n    background: #2BC0E4;  /* fallback for old browsers */\r\n    background: -webkit-linear-gradient(to bottom, #EAECC6, #2BC0E4);  /* Chrome 10-25, Safari 5.1-6 */\r\n    background: linear-gradient(to bottom, #EAECC6, #2BC0E4); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\r\n    \r\n    .LogoImage{\r\n        width: 200px;\r\n        margin: 20px;\r\n    }\r\n\r\n`;\r\n\r\n/*흰색 박스*/\r\nconst WhiteBox=styled(Container)`\r\n    box-shadow: 0 0 8px rgba(0, 0, 0, 0.025);\r\n    padding: 2rem;\r\n    background: white;\r\n    border-radius: 2px;\r\n    @media(max-width: 500px){\r\n      //padding: 1rem;\r\n      padding: 1rem 0;\r\n    }\r\n`;\r\n\r\nconst AuthTemplate=( {children} )=>{\r\n    return(\r\n        <AuthTemplateBlock>\r\n            <Link to=\"/\"><img src={logo} className=\"LogoImage\" alt=\"logo\" /></Link>\r\n            <WhiteBox maxWidth=\"xs\">\r\n                {children}\r\n            </WhiteBox>\r\n        </AuthTemplateBlock>\r\n    );\r\n};\r\n\r\nexport default AuthTemplate;","import {createAction, handleActions} from 'redux-actions';\r\nimport produce from 'immer';\r\nimport {takeLatest, call, put} from 'redux-saga/effects';\r\nimport createRequestSaga, {\r\n    createRequestActionTypes\r\n} from \"../lib/createRequestSaga\";\r\nimport * as authAPI from '../lib/api/auth';\r\n\r\nconst CHANGE_FIELD='auth/CHANGE_FIELD';\r\nconst INITIALIZE_FORM='auth/INITIALIZE_FORM';\r\n\r\nconst [CHECK_USERNAME, CHECK_USERNAME_SUCCESS, CHECK_USERNAME_FAILURE] = createRequestActionTypes(\r\n    'auth/CHECK_USERNAME',\r\n);\r\n\r\nconst [NEXT_STEP, NEXT_STEP_SUCCESS, NEXT_STEP_FAILURE] = createRequestActionTypes(\r\n    'auth/NEXT_STEP',\r\n);\r\n\r\nconst BACK_STEP = 'auth/BACK_STEP';\r\n\r\nconst [PHONE_AUTH, PHONE_AUTH_SUCCESS, PHONE_AUTH_FAILURE] = createRequestActionTypes(\r\n    'auth/PHONE_AUTH',\r\n);\r\n\r\nconst [REGISTER, REGISTER_SUCCESS, REGISTER_FAILURE] = createRequestActionTypes(\r\n    'auth/REGISTER',\r\n);\r\n\r\nconst [LOGIN, LOGIN_SUCCESS, LOGIN_FAILURE] = createRequestActionTypes(\r\n    'auth/LOGIN',\r\n);\r\n\r\n\r\nexport const changeField = createAction(\r\n    CHANGE_FIELD,\r\n    ({ form, key, value })=>({\r\n        form, //register, login\r\n        key, //username(email), password, passwordConfirm\r\n        value, //실제 바꾸려는 값\r\n    }),\r\n);\r\n\r\nexport const initializeForm = createAction(INITIALIZE_FORM, form => form); //register, login\r\n\r\nexport const checkUsername=createAction(CHECK_USERNAME, username => username);\r\n\r\nexport const goNextStep = createAction(NEXT_STEP);\r\n\r\nexport const goBackStep = createAction(BACK_STEP);\r\n\r\nexport const requestPhoneAuth = createAction(PHONE_AUTH, phone => phone);\r\n\r\nexport const register = createAction(REGISTER, ({ phone, username, name, password, validationCode }) => ({\r\n    phone,\r\n    username,\r\n    name,\r\n    password,\r\n    validationCode,\r\n}));\r\n\r\nexport const login = createAction(LOGIN, ({username, password}) => ({\r\n    username,\r\n    password,\r\n}));\r\n\r\nconst checkUsernameSaga = createRequestSaga(CHECK_USERNAME, authAPI.checkUserConflict);\r\nconst requestPhoneAuthSaga= createRequestSaga(PHONE_AUTH, authAPI.requestPhoneAuth);\r\nconst registerSaga = createRequestSaga(REGISTER, authAPI.register);\r\nconst loginSaga = createRequestSaga(LOGIN, authAPI.login);\r\n\r\nexport function* authSaga() {\r\n    yield takeLatest(CHECK_USERNAME, checkUsernameSaga);\r\n    //yield takeLatest(NEXT_STEP, goNextStepSaga);\r\n    yield takeLatest(PHONE_AUTH, requestPhoneAuthSaga);\r\n    yield takeLatest(REGISTER, registerSaga);\r\n    yield takeLatest(LOGIN, loginSaga);\r\n}\r\n\r\nconst initialState = {\r\n    register: {\r\n        phone: '',\r\n        username: '',\r\n        name: '',\r\n        password: '',\r\n        passwordConfirm: '',\r\n        validationCode: '',\r\n        validationCodeTimer: '',\r\n    },\r\n    login: {\r\n        username: '',\r\n        password: '',\r\n    },\r\n    step: 1,\r\n    usernameValidation: false,\r\n    usernameValidationError: null,\r\n    smsValidationError: null,\r\n    auth: null,\r\n    authError: null,\r\n};\r\n\r\nconst auth=handleActions(\r\n    {\r\n        [CHANGE_FIELD]: (state, { payload: {form, key, value} }) =>\r\n            produce(state, draft => {\r\n                draft[form][key]=value; //예 state.register.username을 바꾼다\r\n            }),\r\n        [INITIALIZE_FORM]: (state, { payload: form })=> ({\r\n            ...state,\r\n            [form]: initialState[form],\r\n            step: 1,\r\n            authError: null, //폼 전환 시 회원 인증 에러 초기화\r\n        }),\r\n        //회원가입 성공\r\n        [CHECK_USERNAME_SUCCESS]: (state) =>\r\n            produce(state, draft => {\r\n                draft.usernameValidationError=null;\r\n                draft.usernameValidation=true;\r\n        }),\r\n        //회원가입 실패\r\n        [CHECK_USERNAME_FAILURE]: (state, { payload: error }) =>\r\n            produce(state, draft => {\r\n                draft.usernameValidation=false;\r\n                draft.usernameValidationError=error;\r\n            }),\r\n        [NEXT_STEP]: (state) =>\r\n            produce(state, draft => {\r\n                draft.step=2;\r\n                draft.authError=null;\r\n            }),\r\n        [BACK_STEP]: (state) =>\r\n            produce(state, draft => {\r\n                draft.step=1;\r\n            }),\r\n        [PHONE_AUTH]:(state) =>\r\n            produce(state, draft => {\r\n                draft.register.validationCodeTimer=new Date().getTime();\r\n            }),\r\n        [PHONE_AUTH_SUCCESS]: (state, { payload: response }) =>\r\n            produce(state, draft => {\r\n                draft.usernameValidationError=null;\r\n                draft.usernameValidation=true;\r\n            }),\r\n        //회원가입 성공\r\n        [REGISTER_SUCCESS]: (state, { payload: auth }) => ({\r\n            ...state,\r\n            authError: null,\r\n            auth, //response.data\r\n        }),\r\n        //회원가입 실패\r\n        [REGISTER_FAILURE]: (state, { payload: error }) => ({\r\n            ...state,\r\n            authError: error,\r\n        }),\r\n        //로그인 성공\r\n        [LOGIN_SUCCESS]: (state, { payload: auth }) => ({\r\n            ...state,\r\n            authError: null,\r\n            auth,\r\n        }),\r\n        //로그인 실패\r\n        [LOGIN_FAILURE]: (state, { payload: error }) => ({\r\n            ...state,\r\n            authError: error,\r\n        }),\r\n    },\r\n    initialState,\r\n);\r\n\r\nexport default auth;","const palette = {\r\n    gray: [\r\n        '#f8f9fa',\r\n        '#f1f3f5',\r\n        '#e9ecef',\r\n        '#dee2e6',\r\n        '#ced4da',\r\n        '#adb5bd',\r\n        '#868e96',\r\n        '#495057',\r\n        '#343a40',\r\n        '#212529',\r\n    ],\r\n    cyan: [\r\n        '#e3fafc',\r\n        '#c5f6fa',\r\n        '#99e9f2',\r\n        '#66d9e8',\r\n        '#3bc9db',\r\n        '#22b8cf',\r\n        '#15aabf',\r\n        '#1098ad',\r\n        '#0c8599',\r\n        '#0b7285',\r\n    ],\r\n};\r\n\r\nexport default palette;","import React from 'react';\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {Link} from 'react-router-dom';\nimport palette from '../../../lib/styles/palette';\nimport Button from \"@material-ui/core/Button\";\nimport styled from 'styled-components';\nimport Typography from '@material-ui/core/Typography';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Avatar from \"@material-ui/core/Avatar\";\nimport TextField from '@material-ui/core/TextField';\nimport Grid from '@material-ui/core/Grid';\n\n/*\n    회원가입 또는 로그인 폼을 보여준다\n*/\nconst textMap={\n    login: 'LOGIN',\n    register: 'SIGN UP',\n};\n//폼 하단에 로그인 혹은 회원가입 링크를 보여줌\nconst Footer=styled(Grid)`\n    margin-top: 2rem;\n    //text-align: right;\n    a{\n        color: ${palette.gray[6]};\n        text-decoration: underline;\n        &:hover{\n            color: ${palette.gray[9]};\n        }\n    }\n`;\n\n/*에러를 보여준다*/\nconst ErrorMessage=styled.div`\n    color: red;\n    text-align: center;\n    font-size: 0.875rem;\n    margin-top: 1rem;\n`;\nconst PhoneAuthInputBox=styled.div`\n    display: grid;\n    grid-template-columns: 2fr 1fr;\n    //background: #ebb263;\n    width: 100%;\n    align-items: center;\n    \n    h3{\n      //background: red;\n      text-align: right;\n      margin-right: 1rem;\n    }\n`;\n\nconst useStyles = makeStyles(theme => ({\n    paper: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n}));\nconst LoginForm=({ type, form, onChange, onSubmit, error, step })=> {\n    const classes = useStyles();\n    const text=textMap[type];\n    const [value, setValue] = React.useState();\n    React.useEffect(()=>{\n        console.log(value);\n    }, [value])\n    //const text='로그인';\n    return (\n        <div className={classes.paper}>\n            <Avatar className={classes.avatar}>\n                <LockOutlinedIcon />\n            </Avatar>\n            <Typography component=\"h1\" variant=\"h5\">\n                {text}\n            </Typography>\n            <form className={classes.form} noValidate onSubmit={onSubmit}>\n                { (type === 'login'||step===1) && (\n                    <>\n                        {type === 'register' && (\n                            <TextField\n                                variant=\"outlined\"\n                                margin=\"normal\"\n                                required\n                                fullWidth\n                                name=\"phone\"\n                                label=\"phone\"\n                                type=\"tel\"\n                                autoComplete=\"phone\"\n                                id=\"phone\"\n                                onChange={onChange}\n                                value={form.phone}\n                            />\n                        )}\n                        {type === 'register' && (\n                            <TextField\n                                variant=\"outlined\"\n                                margin=\"normal\"\n                                required\n                                fullWidth\n                                name=\"phone\"\n                                label=\"phone\"\n                                type=\"tel\"\n                                autoComplete=\"phone\"\n                                id=\"phone\"\n                                onChange={onChange}\n                                value={form.phone}\n                            />\n                        )}\n                        <TextField\n                            variant=\"outlined\"\n                            margin=\"normal\"\n                            required\n                            fullWidth\n                            id=\"email\"\n                            label=\"Username\"\n                            name=\"username\"\n                            autoComplete=\"username\"\n                            autoFocus\n                            onChange={onChange}\n                            value={form.username}\n                        />\n                        <TextField\n                            variant=\"outlined\"\n                            margin=\"normal\"\n                            required\n                            fullWidth\n                            name=\"password\"\n                            label=\"Password\"\n                            type=\"password\"\n                            id=\"password\"\n                            autoComplete=\"new-password\"\n                            onChange={onChange}\n                            value={form.password}\n                        />\n                        {type === 'register' && (\n                            <TextField\n                                variant=\"outlined\"\n                                margin=\"normal\"\n                                required\n                                fullWidth\n                                name=\"passwordConfirm\"\n                                label=\"Password Conform\"\n                                type=\"password\"\n                                id=\"passwordConfirm\"\n                                autoComplete=\"new-password\"\n                                onChange={onChange}\n                                value={form.passwordConfirm}\n                            />\n                        )}\n                    </>\n                )}\n                {step>1 && (\n                    <>\n                        <TextField\n                            variant=\"outlined\"\n                            margin=\"normal\"\n                            required\n                            fullWidth\n                            id=\"email\"\n                            label=\"Username\"\n                            name=\"username\"\n                            autoComplete=\"username\"\n                            autoFocus\n                            onChange={onChange}\n                            value={form.username}\n                        />\n                        <TextField\n                            variant=\"outlined\"\n                            margin=\"normal\"\n                            required\n                            fullWidth\n                            name=\"password\"\n                            label=\"Password\"\n                            type=\"password\"\n                            id=\"password\"\n                            autoComplete=\"new-password\"\n                            onChange={onChange}\n                            value={form.password}\n                        />\n                    </>\n\n                )}\n\n                {error && <ErrorMessage>{error}</ErrorMessage>}\n                <Button\n                    type=\"submit\"\n                    fullWidth\n                    variant=\"contained\"\n                    color=\"primary\"\n                    className={classes.submit}\n                >\n                    {text}\n                </Button>\n                <Footer container>\n                    <Grid item xs>\n                        {type === 'login' ? (\n                            <Link href=\"#\" variant=\"body2\">\n                                Forgot password?\n                            </Link>\n                        ) : (\n                            undefined\n                        )}\n\n                    </Grid>\n                    <Grid item>\n                        {type === 'login' ? (\n                            <Link to=\"/register\">SIGN UP</Link>\n                        ) : (\n                            <Link to=\"/login\">LOGIN</Link>\n                        )}\n                    </Grid>\n                </Footer>\n            </form>\n        </div>\n    );\n};\n\nexport default LoginForm;","import React, {useEffect, useState} from 'react';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {withRouter} from 'react-router-dom';\r\nimport {changeField, initializeForm, login} from \"../../modules/auth\";\r\nimport LoginForm from '../../components/auth/login/LoginForm';\r\nimport {check} from '../../modules/user';\r\n\r\n\r\nconst LoginFormContainer = ({ history }) => {\r\n    const [error, setError] = useState(null);\r\n\r\n    const dispatch = useDispatch();\r\n    const { form, auth, authError, user } = useSelector(({ auth, user }) => ({\r\n        form: auth.login,\r\n        auth: auth.auth,\r\n        authError: auth.authError,\r\n        user: user.user,\r\n    }));\r\n    //인풋 변경 이벤트 핸들러\r\n    const onChange = e => {\r\n        const { value, name } = e.target;\r\n        dispatch(\r\n            changeField({\r\n                form: 'login',\r\n                key: name,\r\n                value\r\n            })\r\n        )\r\n    };\r\n\r\n    //폼 등록 이벤트 핸들러\r\n    const onSubmit = e => {\r\n        e.preventDefault();\r\n        const { username, password } = form;\r\n        dispatch(login({ username, password }));\r\n    };\r\n\r\n    //컴포넌트가 처음 렌더링 될 때 form 을 초기화 함\r\n    useEffect(() => {\r\n        dispatch(initializeForm('login'));\r\n    }, [dispatch]);\r\n\r\n    useEffect(() => {\r\n        if(authError) {\r\n            console.log('오류 발생');\r\n            console.log(authError);\r\n            setError('로그인 실패');\r\n            return;\r\n        }else{\r\n            //FIX BUG. 로그인 에러 발생한 상태에서 회원가입 폼으로 넘어가면 authError가 존재한 상태로 넘어가게 된다.\r\n            setError('');\r\n        }\r\n        if(auth) {\r\n            console.log('로그인 성공');\r\n            dispatch(check());\r\n        }\r\n    }, [auth, authError, dispatch]);\r\n\r\n    useEffect(() => {\r\n        if(user) {\r\n            //history.push('/');\r\n            history.goBack();\r\n            try{\r\n                localStorage.setItem('user', JSON.stringify(user));\r\n            }catch (e) {\r\n                console.log('localStorage is not working');\r\n            }\r\n        }\r\n    }, [history, user]);\r\n\r\n    return (\r\n        <LoginForm\r\n            type=\"login\"\r\n            form={form}\r\n            onChange={onChange}\r\n            onSubmit={onSubmit}\r\n            error={error}\r\n        />\r\n    );\r\n};\r\n\r\nexport default withRouter(LoginFormContainer);","import React from 'react';\r\nimport AuthTemplate from '../components/auth/AuthTemplate';\r\nimport LoginForm from \"../containers/auth/LoginFormContainer\";\r\n\r\n\r\nconst LoginPage=()=>{\r\n    return (\r\n        <AuthTemplate>\r\n            <LoginForm />\r\n        </AuthTemplate>\r\n    );\r\n};\r\n\r\nexport default LoginPage;","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Stepper from '@material-ui/core/Stepper';\r\nimport Step from '@material-ui/core/Step';\r\nimport StepLabel from '@material-ui/core/StepLabel';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: '100%',\r\n        //background: 'blue',\r\n        padding: 0,\r\n        margin: 0,\r\n    },\r\n    backButton: {\r\n        marginRight: theme.spacing(1),\r\n    },\r\n    instructions: {\r\n        marginTop: theme.spacing(1),\r\n        marginBottom: theme.spacing(1),\r\n    },\r\n    stepper:{\r\n        //background: 'pink',\r\n        margin: 0,\r\n        padding: 'theme.spacing(1) 0',\r\n    }\r\n}));\r\n\r\nfunction getSteps() {\r\n    return ['정보 입력', '전화번호 인증', '가입 완료!'];\r\n}\r\nexport default function HorizontalLabelStepper({step}) {\r\n    const classes = useStyles();\r\n    const steps = getSteps();\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Stepper className={classes.stepper} activeStep={step-1} alternativeLabel>\r\n                {steps.map((label) => (\r\n                    <Step key={label}>\r\n                        <StepLabel>{label}</StepLabel>\r\n                    </Step>\r\n                ))}\r\n            </Stepper>\r\n        </div>\r\n    );\r\n}","import TextField from \"@material-ui/core/TextField/TextField\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport {Link} from \"react-router-dom\";\r\nimport React from \"react\";\r\nimport ErrorMessage from '../ErrorMessage';\r\nimport styled from \"styled-components\";\r\nimport palette from \"../../../lib/styles/palette\";\r\n\r\nconst Footer=styled.div`\r\n    margin-top: 2rem;\r\n    text-align: right;\r\n    a{\r\n        color: ${palette.gray[6]};\r\n        text-decoration: underline;\r\n        &:hover{\r\n            color: ${palette.gray[9]};\r\n        }\r\n    }\r\n`;\r\n\r\nexport default function FirstStepForm({onChange, form, usernameError, onSubmit, classes, error}){\r\n    //const classes = useStyles();\r\n    return (\r\n        <form onSubmit={onSubmit} className={classes.form}>\r\n            <TextField\r\n                variant=\"outlined\"\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                name=\"phone\"\r\n                label=\"전화번호\"\r\n                type=\"tel\"\r\n                autoComplete=\"phone\"\r\n                id=\"phone\"\r\n                autoFocus\r\n                onChange={onChange}\r\n                value={form.phone}\r\n            />\r\n            <TextField\r\n                variant=\"outlined\"\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                id=\"email\"\r\n                label=\"사용자 이름\"\r\n                name=\"username\"\r\n                autoComplete=\"username\"\r\n                onChange={onChange}\r\n                value={form.username}\r\n            />\r\n            {usernameError && <ErrorMessage>{usernameError}</ErrorMessage>}\r\n            <TextField\r\n                variant=\"outlined\"\r\n                margin=\"normal\"\r\n                fullWidth\r\n                id=\"email\"\r\n                label=\"이름\"\r\n                name=\"name\"\r\n                autoComplete=\"name\"\r\n                onChange={onChange}\r\n                value={form.name}\r\n            />\r\n            <TextField\r\n                variant=\"outlined\"\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                name=\"password\"\r\n                label=\"비밀번호\"\r\n                type=\"password\"\r\n                id=\"password\"\r\n                autoComplete=\"new-password\"\r\n                onChange={onChange}\r\n                value={form.password}\r\n            />\r\n            <TextField\r\n                variant=\"outlined\"\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                name=\"passwordConfirm\"\r\n                label=\"비밀번호 확인\"\r\n                type=\"password\"\r\n                id=\"passwordConfirm\"\r\n                autoComplete=\"new-password\"\r\n                onChange={onChange}\r\n                value={form.passwordConfirm}\r\n            />\r\n            {error && <ErrorMessage>{error}</ErrorMessage>}\r\n            <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className={classes.submit}\r\n            >\r\n                회원가입\r\n            </Button>\r\n            <Footer container>\r\n                <Link to=\"/login\">LOGIN</Link>\r\n            </Footer>\r\n\r\n        </form>\r\n    )\r\n};","import React from 'react';\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport HorizontalLabelStepper from './Stepper';\r\nimport FirstStepForm from './FirstStepForm';\r\nimport ErrorMessage from '../ErrorMessage';\r\nimport Loadable from \"react-loadable\";\r\n\r\nconst SecondStepForm = Loadable({\r\n    loader: () => import('./SecondStepForm'),\r\n    loading() {\r\n        return <CircularProgress color=\"secondary\" />\r\n    }\r\n}); //SecondStepForm 코드 스플리팅\r\nconst useStyles = makeStyles(theme => ({\r\n    paper: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        padding: 0,\r\n    },\r\n    avatar: {\r\n        margin: theme.spacing(1),\r\n        backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    form: {\r\n        width: '100%', // Fix IE 11 issue.\r\n        padding: theme.spacing(2),\r\n        display: 'flex',\r\n        flexDirection: 'column'\r\n    },\r\n    submit: {\r\n        margin: theme.spacing(3, 0, 2),\r\n    },\r\n    helpText: {\r\n        margin: theme.spacing(2),\r\n    },\r\n    timer: {\r\n        color: 'red',\r\n    },\r\n    gridButtonBox: {\r\n        marginTop: theme.spacing(2),\r\n        '& > *': {\r\n            padding: theme.spacing(1),\r\n        }\r\n    },\r\n    repeatButton: {\r\n        alignSelf: 'flex-start'\r\n    }\r\n}));\r\n\r\nconst RegisterForm=(\r\n    {\r\n        form,\r\n        onChange,\r\n        onSubmit,\r\n        error,\r\n        step,\r\n        usernameError,\r\n        onRepeatRequestPhoneAuth,\r\n        onChangeNumberButtonClick,\r\n        onSubmitValidationCode,\r\n        changeNumber\r\n    })=> {\r\n\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <div className={classes.paper}>\r\n            <Avatar className={classes.avatar}>\r\n                <LockOutlinedIcon />\r\n            </Avatar>\r\n            <Typography component=\"h1\" variant=\"h5\">\r\n                SIGN UP\r\n            </Typography>\r\n            <HorizontalLabelStepper\r\n                step={step}\r\n                autoComplete=\"phone\"\r\n                id=\"phone\"\r\n                onChange={onChange}\r\n                value={form.phone}\r\n            />\r\n            <>\r\n                { (step===1) && (\r\n                    <FirstStepForm\r\n                        onChange={onChange}\r\n                        onSubmit={onSubmit}\r\n                        form={form}\r\n                        usernameError={usernameError}\r\n                        classes={classes}\r\n                        error={error}\r\n                    />\r\n                )}\r\n                { (step===2) && (\r\n                    <SecondStepForm\r\n                        onChange={onChange}\r\n                        form={form}\r\n                        onRepeatRequestPhoneAuth={onRepeatRequestPhoneAuth}\r\n                        onChangeNumberButtonClick={onChangeNumberButtonClick}\r\n                        onSubmitValidationCode={onSubmitValidationCode}\r\n                        changeNumber={changeNumber}\r\n                        classes={classes}\r\n                        error={error}\r\n                    />\r\n                )}\r\n            </>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default RegisterForm;","import React, {useEffect, useState, useRef} from 'react';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {\r\n    changeField,\r\n    initializeForm,\r\n    register,\r\n    goNextStep,\r\n    goBackStep,\r\n    checkUsername,\r\n    requestPhoneAuth\r\n} from \"../../modules/auth\";\r\nimport RegisterForm from '../../components/auth/register/RegisterForm';\r\nimport {check} from '../../modules/user';\r\nimport {withRouter} from 'react-router-dom';\r\nimport isMobilePhone from 'validator/lib/isMobilePhone';\r\nimport {debounce} from \"lodash\";\r\n\r\nconst RegisterFormContainer = ({ history }) => {\r\n    const [error, setError] = useState(null);\r\n    const [usernameError, setUsernameError] = useState(null);\r\n    const [changeNumber, setChangeNumber]=React.useState(false);\r\n    const dispatch = useDispatch();\r\n    const {\r\n        form,\r\n        step,\r\n        auth,\r\n        authError,\r\n        user,\r\n        usernameValidation,\r\n        usernameValidationError\r\n    } = useSelector(({ auth, user }) => ({\r\n        form: auth.register,\r\n        step: auth.step,\r\n        auth: auth.auth,\r\n        authError: auth.authError,\r\n        usernameValidation: auth.usernameValidation,\r\n        usernameValidationError: auth.usernameValidationError,\r\n        user: user.user,\r\n    }));\r\n    //컴포넌트가 처음 렌더링 될 때 form 을 초기화 함\r\n    useEffect(() => {\r\n        console.log('initialize')\r\n        dispatch(initializeForm('register'));\r\n    }, [dispatch]);\r\n\r\n    const debounceCheckUsername = useRef(debounce((value, name) => {\r\n        //username 중복 확인\r\n        if(name === 'username' && value !== ''){\r\n            //console.log(value);\r\n            dispatch(checkUsername({username: value}));\r\n        }\r\n    }, 700)).current;\r\n\r\n    //인풋 변경 이벤트 핸들러\r\n    const onChange = e => {\r\n        const { value, name } = e.target;\r\n        dispatch(\r\n            changeField({\r\n                form: 'register',\r\n                key: name,\r\n                value\r\n            })\r\n        );\r\n        debounceCheckUsername(value, name);\r\n    };\r\n    const onSubmit = e => {\r\n        e.preventDefault();\r\n        const { phone, username, password, passwordConfirm } = form;\r\n        //하나라도 비어 있다면\r\n        if([phone, username, password, passwordConfirm].includes('')) {\r\n            setError('빈 칸을 모두 입력하세요.');\r\n            return;\r\n        }\r\n        if(!isMobilePhone(phone,'ko-KR')){\r\n            setError('올바른 연락처를 입력해주세요.');\r\n            return;\r\n        }\r\n        if(usernameError){\r\n            setError('올바른 사용자 이름을 입력해주세요.');\r\n            return;\r\n        }\r\n        if(password !== passwordConfirm) {\r\n            setError('비밀번호가 일치하지 않습니다.');\r\n            return;\r\n        }\r\n        const passRule = new RegExp( /^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{8,20}$/);\r\n\r\n        if(!passRule.test(password)) {\r\n            setError('비밀번호는 영문자, 숫자를 포함한 8~20자의 문자열만 가능합니다');\r\n            return;\r\n        }\r\n        setError(null);\r\n        dispatch(goNextStep());\r\n        dispatch(requestPhoneAuth({ phone: phone }));\r\n    };\r\n    const onChangeNumberButtonClick=()=>{\r\n        setError(null);\r\n        if(changeNumber){\r\n            const { phone } = form;\r\n            if(!isMobilePhone(phone,'ko-KR')){\r\n                setError('올바른 연락처를 입력해주세요.');\r\n                return;\r\n            }\r\n            //Todo: 전화번호 변경 확인 모달\r\n            dispatch(requestPhoneAuth({ phone: phone }));\r\n            setChangeNumber(false);\r\n        }else {\r\n            setChangeNumber(true);\r\n        }\r\n    };\r\n    const onRepeatRequestPhoneAuth=()=>{\r\n        const { phone } = form;\r\n        dispatch(requestPhoneAuth({ phone: phone }));\r\n    };\r\n    const onSubmitValidationCode= e =>{\r\n        //step2- sms 인증번호 입력 후 제출\r\n        e.preventDefault();\r\n\r\n        const { phone, username, name, password, passwordConfirm, validationCode } = form;\r\n        //하나라도 비어 있다면\r\n        if([phone, username, password, passwordConfirm].includes('')) {\r\n            setError('빈 칸을 모두 입력하세요.');\r\n            dispatch(goBackStep()); //폼 state 초기화 대비\r\n            return;\r\n        }\r\n        if(!validationCode){\r\n            setError('인증번호를 입력해주세요.');\r\n            return;\r\n        }\r\n        setError(null);\r\n        dispatch(register({ phone, username, name, password, validationCode }));\r\n    };\r\n    //회원가입 성공/실패 처리\r\n    useEffect(()=> {\r\n        if(usernameValidationError) {\r\n            if(usernameValidationError.response.status === 409) {\r\n                //계정명이 이미 존재할 때\r\n                setUsernameError('이미 존재하는 계정명입니다.');\r\n            }else {\r\n                setUsernameError('4~20자의 영문자, 숫자를 사용한 형식만 가능합니다 (첫 글자는 영문).');\r\n            }\r\n        }else{\r\n            //FIX BUG. 로그인 에러 발생한 상태에서 회원가입 폼으로 넘어가면 authError가 존재한 상태로 넘어가게 된다.\r\n            setUsernameError('');\r\n            setError('');\r\n        }\r\n    }, [usernameValidation, usernameValidationError, dispatch]);\r\n\r\n    useEffect(()=> {\r\n        if(authError) {\r\n            console.log('계정명이 이미 존재할 때');\r\n            //계정명이 이미 존재할 때\r\n            if(authError.response.status === 409) {\r\n                setError('이미 존재하는 계정명입니다.');\r\n                return;\r\n            }else if(authError.response.status === 401){\r\n                setError('잘못된 인증번호 입니다.');\r\n                return;\r\n            }\r\n            //기타 이유\r\n            setError('회원가입 실패');\r\n            return;\r\n        }else{\r\n            //FIX BUG. 로그인 에러 발생한 상태에서 회원가입 폼으로 넘어가면 authError가 존재한 상태로 넘어가게 된다.\r\n            setError('');\r\n        }\r\n        if(auth) {\r\n            console.log('회원가입 성공');\r\n            dispatch(check());\r\n        }\r\n    }, [auth, authError, dispatch]);\r\n\r\n    //user값이 잘 설정되었는지 확인\r\n    useEffect(()=> {\r\n        if(user) {\r\n            history.push('/'); //홈 화면으로 이동\r\n            try{\r\n                localStorage.setItem('user', JSON.stringify(user));\r\n            }catch (e) {\r\n                console.log('localStorage is not working');\r\n            }\r\n        }\r\n    }, [history, user]);\r\n\r\n    return (\r\n        <RegisterForm\r\n            type=\"register\"\r\n            form={form}\r\n            onChange={onChange}\r\n            onSubmit={onSubmit}\r\n            usernameValidation={usernameValidation}\r\n            error={error}\r\n            usernameError={usernameError}\r\n            step={step}\r\n            onRepeatRequestPhoneAuth={onRepeatRequestPhoneAuth}\r\n            onChangeNumberButtonClick={onChangeNumberButtonClick}\r\n            onSubmitValidationCode={onSubmitValidationCode}\r\n            changeNumber={changeNumber}\r\n        />\r\n    );\r\n};\r\n\r\nexport default withRouter(RegisterFormContainer);","import React from 'react';\nimport AuthTemplate from '../components/auth/AuthTemplate';\nimport RegisterForm from \"../containers/auth/RegisterFormContainer\";\n\n\nconst RegisterPage=()=>{\n    return (\n        <AuthTemplate>\n            <RegisterForm />\n        </AuthTemplate>\n    );\n};\n\nexport default RegisterPage;","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: '100%',\r\n        maxWidth: '36ch',\r\n        backgroundColor: theme.palette.background.paper,\r\n        position: 'fixed',\r\n        border: '1px solid darkGray'\r\n    },\r\n    inline: {\r\n        display: 'inline',\r\n    },\r\n}));\r\n\r\nexport default function AlignItemsList() {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <List className={classes.root}>\r\n            <ListItem alignItems=\"flex-start\">\r\n                <ListItemAvatar>\r\n                    <Avatar alt=\"Remy Sharp\" src=\"\" />\r\n                </ListItemAvatar>\r\n                <ListItemText\r\n                    primary=\"Brunch this weekend?\"\r\n                    secondary={\r\n                        <React.Fragment>\r\n                            <Typography\r\n                                component=\"span\"\r\n                                variant=\"body2\"\r\n                                className={classes.inline}\r\n                                color=\"textPrimary\"\r\n                            >\r\n                                Ali Connors\r\n                            </Typography>\r\n                            {\" — I'll be in your neighborhood doing errands this…\"}\r\n                        </React.Fragment>\r\n                    }\r\n                />\r\n            </ListItem>\r\n            <Divider variant=\"inset\" component=\"li\" />\r\n            <ListItem alignItems=\"flex-start\">\r\n                <ListItemAvatar>\r\n                    <Avatar alt=\"Travis Howard\" src=\"/uploads/5692124b-f68f-4644-82fb-88976ec946b3-kakaotalk_20190310_041337030.jpg\" />\r\n                </ListItemAvatar>\r\n                <ListItemText\r\n                    primary=\"Summer BBQ\"\r\n                    secondary={\r\n                        <React.Fragment>\r\n                            <Typography\r\n                                component=\"span\"\r\n                                variant=\"body2\"\r\n                                className={classes.inline}\r\n                                color=\"textPrimary\"\r\n                            >\r\n                                to Scott, Alex, Jennifer\r\n                            </Typography>\r\n                            {\" — Wish I could come, but I'm out of town this…\"}\r\n                        </React.Fragment>\r\n                    }\r\n                />\r\n            </ListItem>\r\n            <Divider variant=\"inset\" component=\"li\" />\r\n            <ListItem alignItems=\"flex-start\">\r\n                <ListItemAvatar>\r\n                    <Avatar alt=\"Cindy Baker\" src=\"/uploads/5692124b-f68f-4644-82fb-88976ec946b3-kakaotalk_20190310_041337030.jpg\" />\r\n                </ListItemAvatar>\r\n                <ListItemText\r\n                    primary=\"Oui Oui\"\r\n                    secondary={\r\n                        <React.Fragment>\r\n                            <Typography\r\n                                component=\"span\"\r\n                                variant=\"body2\"\r\n                                className={classes.inline}\r\n                                color=\"textPrimary\"\r\n                            >\r\n                                Sandra Adams\r\n                            </Typography>\r\n                            {' — Do you have Paris recommendations? Have you ever…'}\r\n                        </React.Fragment>\r\n                    }\r\n                />\r\n            </ListItem>\r\n        </List>\r\n    );\r\n}","import React from 'react';\r\nimport {createMuiTheme, makeStyles} from '@material-ui/core/styles';\r\nimport AlignItemList from '../../common/AlignItemList';\r\nimport {createGlobalStyle} from 'styled-components';\r\nimport palette from '../../../lib/styles/palette';\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n\tbody {\r\n\t\tpadding: 0;\r\n\t\tmargin: 0;\r\n\t\tbackground-color: ${palette.gray[0]};\r\n\t}\r\n`;\r\nconst breakpointValues = {\r\n    xs: 0,\r\n    sm: 576,\r\n    md: 768,\r\n    lg: 992,\r\n    xl: 1200,\r\n};\r\nconst theme = createMuiTheme({ breakpoints: { values: breakpointValues } });\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        marginTop: '6rem',\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        //background: 'skyblue',\r\n        [theme.breakpoints.down('sm')]: {\r\n            flexDirection: 'column',\r\n            width: '80%',\r\n            maxWidth: '650px',\r\n            margin: 'auto',\r\n            marginTop: '6rem',\r\n        },\r\n        [theme.breakpoints.down('xs')]: {\r\n            marginTop: '4rem',\r\n            flexDirection: 'column',\r\n            width: '100%',\r\n        },\r\n    },\r\n    leftBox:{\r\n        display: 'flex',\r\n        flex: 1,\r\n        justifyContent: 'flex-end',\r\n        [theme.breakpoints.down('sm')]: {\r\n            display: 'none',\r\n        },\r\n    },\r\n    rightBox: {\r\n        //backgroundColor: 'gray',\r\n        flex: 1,\r\n        [theme.breakpoints.down('sm')]: {\r\n            display: 'none',\r\n        },\r\n    },\r\n\r\n}));\r\n\r\nexport default function CommunityTemplate({children}) {\r\n    const classes = useStyles(theme);\r\n\r\n    return (\r\n        <>\r\n            <GlobalStyle/>\r\n            <div className={classes.root}>\r\n                {children}\r\n                <div className={classes.rightBox}>\r\n                    <AlignItemList/>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n","import {createAction, handleActions} from 'redux-actions';\r\nimport createRequestSaga, {\r\n    createRequestActionTypes\r\n} from \"../lib/createRequestSaga\";\r\nimport * as postsAPI from '../lib/api/community/posts';\r\nimport {takeLatest, call, put,select} from 'redux-saga/effects';\r\nimport produce from \"immer\";\r\n\r\nconst [\r\n    LIST_POSTS,\r\n    LIST_POSTS_SUCCESS,\r\n    LIST_POSTS_FAILURE,\r\n]=createRequestActionTypes('posts/LIST_POSTS');\r\nconst [\r\n    WRITE_COMMENT,\r\n    WRITE_COMMENT_SUCCESS,\r\n    WRITE_COMMENT_FAILURE,\r\n]=createRequestActionTypes('posts/WRITE_COMMENT');\r\nconst [\r\n    READ_MORE,\r\n    READ_MORE_SUCCESS,\r\n    READ_MORE_FAILURE,\r\n]=createRequestActionTypes('posts/READ_MORE');\r\n\r\nconst SELECT_CATEGORY='posts/SELECT_CATEGORY';\r\nconst SCROLL_BOTTOM='posts/SCROLL_BOTTOM';\r\nconst UNLOAD_POSTS='posts/UNLOAD_POSTS'; //포스트 페이지에서 벗어날 때 데이터 비우기\r\nconst CHANGE_FIELD='posts/CHANGE_FIELD';\r\n\r\nexport const listPosts=createAction(\r\n    LIST_POSTS,\r\n    ({tag, username, category}) => ({tag, username, category}),\r\n);\r\n\r\nexport const scrollBottom=createAction(SCROLL_BOTTOM,\r\n    ({tag, username, category}) => ({tag, username, category}),\r\n);\r\n\r\nconst listPostsSaga=createRequestSaga(LIST_POSTS, postsAPI.listPosts);\r\n\r\nconst readMorePostsSaga=createRequestSaga(READ_MORE, postsAPI.listPosts);\r\n\r\nexport const selectCategory=createAction(SELECT_CATEGORY,\r\n    (category) => (category));\r\nexport const changeField = createAction(\r\n    CHANGE_FIELD,\r\n    ({ index, key, value })=>({\r\n        index,\r\n        key, //comment, like\r\n        value, //실제 바꾸려는 값\r\n    }),\r\n);\r\nexport const writeComment=createAction(WRITE_COMMENT, ({index, postId, comment})=> ({\r\n    index,\r\n    postId,\r\n    comment,\r\n}));\r\n\r\nexport const unloadPosts=createAction(UNLOAD_POSTS);\r\n\r\nfunction* scrollBottomSaga(action) {\r\n    console.dir(action);\r\n    const state=yield select();\r\n\r\n    console.dir(state);\r\n    const isLoading=state.loading['posts/LIST_POSTS'];\r\n    const postsState=state.posts;\r\n    if(!isLoading && postsState.posts && postsState.lastPage!==postsState.page) {\r\n        //Todo: lastPage 인 경우 다 읽었다고 띄우기, 스크롤 감지 멈추기\r\n        console.dir(postsState.lastPage);\r\n        console.dir(postsState.page);\r\n        console.dir(action.payload);\r\n\r\n        yield call(readMorePostsSaga, {\r\n            payload: {\r\n                ...action.payload,\r\n                page: postsState.page+1,\r\n            }\r\n        });\r\n    }else {\r\n        console.log('로딩 중');\r\n    }\r\n}\r\n\r\nfunction* writeCommentSaga(action) {\r\n    //Note: reaction 로딩 상태는 loading 모듈이 아닌 posts 배열 각각의 요소 내부에서 관리\r\n    try{\r\n        const response = yield call(postsAPI.writeComment, action.payload);\r\n        console.dir(response);\r\n        yield put({\r\n            type: WRITE_COMMENT_SUCCESS,\r\n            payload: {\r\n                index: action.payload.index,\r\n                comments: response.data,\r\n            },\r\n            meta: response,\r\n        });\r\n    }catch (e) {\r\n        console.dir(e);\r\n\r\n        yield put({\r\n            type: WRITE_COMMENT_FAILURE,\r\n            payload: {\r\n                index: action.payload.index,\r\n                postError: e,\r\n            },\r\n            error: true,\r\n        });\r\n    }\r\n}\r\nexport function* postsSaga(){\r\n    yield takeLatest(LIST_POSTS, listPostsSaga);\r\n    yield takeLatest(SCROLL_BOTTOM, scrollBottomSaga);\r\n    yield takeLatest(WRITE_COMMENT, writeCommentSaga);\r\n}\r\n\r\nconst initialState={\r\n    //Note: reaction 로딩 상태는 loading 모듈이 아닌 posts 배열 각각의 요소 내부에서 관리\r\n    posts: null,\r\n    category: '',\r\n    error: null,\r\n    lastPage: 1,\r\n    page: 1, //Todo: backend api response 값으로 읽은 페이지 수 가져오기\r\n};\r\n\r\nconst posts=handleActions(\r\n    {\r\n        [SELECT_CATEGORY]: (state, {payload: category}) => {\r\n            console.log(category)\r\n            return {\r\n                ...state,\r\n                category: category,\r\n            }\r\n        },\r\n        [LIST_POSTS_SUCCESS]: (state, {payload: posts, meta: response}) => {\r\n            const postsObject=posts.map(({comments, ...post})=>(\r\n                {\r\n                    postContent: {...post},\r\n                    comments: comments,\r\n                }\r\n            )); //comments 배열과 그 외의 프로퍼티 분리\r\n            return {\r\n                ...state,\r\n                posts :postsObject,\r\n                page: 1, //페이지 초기화\r\n                lastPage: parseInt(response.headers['last-page'], 10), //문자열을 숫자로 변환\r\n            }\r\n        },\r\n        [LIST_POSTS_FAILURE]: (state, {payload: error}) => ({\r\n            ...state,\r\n            error,\r\n        }),\r\n        [READ_MORE_SUCCESS]: (state, {payload: posts, meta: response}) => {\r\n            const postsObject=posts.map(({comments, ...post})=>(\r\n                {\r\n                    postContent: {...post},\r\n                    comments: comments,\r\n                }\r\n            ));\r\n            return {\r\n                ...state,\r\n                posts: state.posts.concat(postsObject),\r\n                page: state.page+1, //test\r\n                lastPage: parseInt(response.headers['last-page'], 10), //문자열을 숫자로 변환\r\n            }\r\n        },\r\n        [READ_MORE_FAILURE]: (state, {payload: error}) => ({\r\n            ...state,\r\n            error,\r\n        }),\r\n        [CHANGE_FIELD]: (state, { payload: { index, key, value }}) =>\r\n            produce(state, draft => {\r\n                draft.posts[index].reaction={\r\n                    [key]: value,\r\n                }\r\n            }),\r\n        //Note: reaction 로딩 상태는 loading 모듈이 아닌 posts 배열 각각의 요소 내부에서 관리\r\n        [WRITE_COMMENT]: (state, {payload: {index}})=>\r\n            produce(state, draft=> {\r\n                draft.posts[index].commentsLoading=true; //로딩 시작\r\n            }),\r\n        [WRITE_COMMENT_SUCCESS]: (state, {payload: {index, comments}})=>\r\n            produce(state, draft=> {\r\n                console.dir(index);\r\n                console.dir(comments);\r\n                draft.posts[index].comments=comments;\r\n                draft.posts[index].reaction={\r\n                    comments: \"\",\r\n                };\r\n                draft.posts[index].commentsLoading=false; //로딩 끝\r\n            }),\r\n        [WRITE_COMMENT_FAILURE]: (state, {payload: {index, postError}}) =>\r\n            produce(state, draft=> {\r\n                console.log(index);\r\n                console.log(postError);\r\n                draft.posts[index].commentsLoading=false; //로딩 끝\r\n                draft.error=postError;\r\n        }),\r\n        [UNLOAD_POSTS]: (state)=> (\r\n            {\r\n                ...state,\r\n            }\r\n        ),\r\n\r\n    },\r\n    initialState,\r\n);\r\n\r\nexport default posts;","import React, { useContext, useEffect, useState, useRef } from 'react';\r\nimport { CarouselProvider, Slider, Slide, ButtonBack, ButtonNext, Dot, CarouselContext  } from 'pure-react-carousel';\r\nimport 'pure-react-carousel/dist/react-carousel.es.css';\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport clsx from \"clsx\";\r\nimport ArrowBackIos from '@material-ui/icons/ArrowBackIos';\r\nimport ArrowForwardIos from '@material-ui/icons/ArrowForwardIos';\r\nimport LazyImage from '../../common/LazyImage';\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        position: 'relative',\r\n        touchAction: 'none', //testing\r\n        flex: 1,\r\n    },\r\n    buttonBack: {\r\n        position: 'absolute',\r\n        top: '50%',\r\n        left: 0,\r\n        transform: 'translateY(-50%)',\r\n    },\r\n    buttonNext: {\r\n        position: 'absolute',\r\n        top: '50%',\r\n        right: 0,\r\n        transform: 'translateY(-50%)'\r\n    },\r\n    dot: {\r\n        background: '#3c4146',\r\n        //borderRadius: '75px',\r\n        border: '1px solid #3c4146',\r\n        //color: 'skyblue'\r\n        margin: '1px',\r\n    },\r\n    dotSelected: {\r\n        background: '#B68DFF',\r\n        border: '1px solid #B68DFF',\r\n        margin: '1px'\r\n    },\r\n    dotBox: {\r\n        textAlign: 'center',\r\n\r\n    },\r\n    icon:{\r\n        fontSize: '17px',\r\n        color: 'white',\r\n        //flex: 1,\r\n    },\r\n    arrowButton:{\r\n        position: 'absolute',\r\n        borderRadius: '50%',\r\n        backgroundColor: 'rgba( 0, 0, 0, 0.2 )',\r\n        height: '25px',\r\n        width: '25px',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        border: 'rgba( 255, 255, 255, 0 )',\r\n        top: '50%',\r\n        transform: 'translateY(-50%)',\r\n    },\r\n    nextButton: {\r\n        right: 5,\r\n    },\r\n    backButton: {\r\n        left: 5,\r\n    }\r\n}));\r\n\r\nconst RightArrowButton=({classes})=>(\r\n    <ButtonNext className={clsx(classes.arrowButton, classes.nextButton)}>\r\n        <ArrowForwardIos className={classes.icon}/>\r\n    </ButtonNext>\r\n);\r\nconst LeftArrowButton=({classes})=>(\r\n    <ButtonBack className={clsx(classes.arrowButton, classes.backButton)}>\r\n        <ArrowBackIos className={classes.icon}/>\r\n    </ButtonBack>\r\n);\r\n\r\nfunction ComponentsUsingContext({imgUrlList, classes}) {\r\n    const carouselContext = useContext(CarouselContext);\r\n    const [currentSlide, setCurrentSlide] = useState(carouselContext.state.currentSlide);\r\n    useEffect(()=> {\r\n        function onChange() {\r\n            setCurrentSlide(carouselContext.state.currentSlide);\r\n        }\r\n        carouselContext.subscribe(onChange);\r\n        return () => carouselContext.unsubscribe(onChange);\r\n    }, [carouselContext]);\r\n    const dotComponents=imgUrlList.map((image, index)=>(\r\n        index===currentSlide ? (\r\n            <Dot key={index} className={classes.dotSelected} slide={index}/>\r\n        ) : (\r\n            <Dot key={index} className={classes.dot} slide={index}/>\r\n        )\r\n    ));\r\n    const ArrowButtons=()=>{\r\n        if(currentSlide===0){\r\n            return (\r\n                <RightArrowButton classes={classes}/>\r\n            )\r\n        }else if(currentSlide===imgUrlList.length-1){\r\n            return (\r\n                <LeftArrowButton classes={classes}/>\r\n            )\r\n        }else {\r\n            return (\r\n                <>\r\n                    <LeftArrowButton classes={classes}/>\r\n                    <RightArrowButton classes={classes}/>\r\n                </>\r\n            )\r\n        }\r\n    };\r\n    return (\r\n        <>\r\n            <div className={classes.dotBox}>{dotComponents}</div>\r\n            <ArrowButtons/>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default function Carousel({imgUrlList}) {\r\n\r\n    const classes = useStyles();\r\n    const count=imgUrlList.length;\r\n\r\n    const url='https://climbers.herokuapp.com';\r\n\r\n    const carouselRef=useRef(null);\r\n/*\r\n    useEffect(()=>{\r\n        if (carouselRef.current) {\r\n            preventMomentumScroll(carouselRef.current);\r\n        }\r\n    }, [])*/\r\n    return (\r\n        <div className={classes.root} ref={carouselRef}>\r\n            <CarouselProvider\r\n                naturalSlideWidth={100}\r\n                naturalSlideHeight={70}\r\n                totalSlides={count}\r\n                dragEnabled={false}\r\n            >\r\n                <Slider>\r\n                    {\r\n                        imgUrlList.map((image, index)=>(\r\n                            <Slide index={index} key={index}><LazyImage src={image}/></Slide>\r\n                        ))\r\n                    }\r\n                </Slider>\r\n                {imgUrlList.length>1 && <ComponentsUsingContext imgUrlList={imgUrlList} classes={classes}/>}\r\n            </CarouselProvider>\r\n        </div>\r\n    );\r\n}","import React, {useEffect} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport ChatBubbleOutlineIcon from '@material-ui/icons/ChatBubbleOutline';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport {green} from '@material-ui/core/colors';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport ShareIcon from '@material-ui/icons/Share';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport Carousel from '../common/Carousel';\r\nimport {withRouter} from 'react-router-dom';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        marginBottom: theme.spacing(2),\r\n        border: '1.5px solid',\r\n        borderImageSlice: 1,\r\n        borderImage: 'linear-gradient(to left, #77a1d3, #79cbca, #e684ae);',\r\n        borderImageWidth: '1.5px',\r\n    },\r\n    media: {\r\n        paddingTop: '56.25%', // 16:9\r\n    },\r\n    avatar: {\r\n        backgroundColor: green[500],\r\n    },\r\n}));\r\n\r\n/*\r\n* const TagItem=React.memo(({tag, onRemove}) => (\r\n    <Tag onClick={()=> onRemove(tag)}>#{tag}</Tag>\r\n));\r\n* */\r\nfunction PostContents({postContent, history}) {\r\n    const classes = useStyles();\r\n\r\n    const { publishedDate, user, tags, imgUrlList, body, _id}=postContent;\r\n\r\n    useEffect(()=>{\r\n        //console.dir(imgUrlList.length);\r\n    }, [imgUrlList]);\r\n\r\n    const onClickCommentIcon=()=>history.push(`/community/@${user.username}/${_id}`);\r\n\r\n    return (\r\n        <>\r\n            <CardHeader\r\n                avatar={\r\n                    <Avatar aria-label=\"recipe\" className={classes.avatar}>\r\n                        R\r\n                    </Avatar>\r\n                }\r\n                action={\r\n                    <IconButton aria-label=\"settings\">\r\n                        <MoreVertIcon />\r\n                    </IconButton>\r\n                }\r\n                title={user.username}\r\n                subheader={new Date(publishedDate).toLocaleDateString()}\r\n            />\r\n            { imgUrlList.length > 0 && (\r\n                <Carousel\r\n                    className={classes.media}\r\n                    imgUrlList={imgUrlList}\r\n                    title=\"Paella dish\"\r\n                />\r\n            )}\r\n            <CardActions disableSpacing>\r\n                <IconButton aria-label=\"add to favorites\">\r\n                    <FavoriteIcon />\r\n                </IconButton>\r\n                <IconButton aria-label=\"share\" onClick={onClickCommentIcon}>\r\n                    <ChatBubbleOutlineIcon />\r\n                </IconButton>\r\n                <IconButton aria-label=\"share\">\r\n                    <ShareIcon />\r\n                </IconButton>\r\n            </CardActions>\r\n            <CardContent>\r\n                <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                    {body}\r\n                </Typography>\r\n            </CardContent>\r\n        </>\r\n    );\r\n}\r\n//export default withRouter(React.memo(PostContents));\r\nexport default withRouter(PostContents);","import styled from \"styled-components\";\r\nimport React from \"react\";\r\n\r\nconst CommentItemBlock=styled.div`\r\n    display: flex;\r\n    margin: 0;\r\n    padding: 0;\r\n`;\r\n\r\nconst Commenter=styled.p`\r\n    font-weight: 500;\r\n    padding: 0 10px;\r\n    margin: 0;\r\n`;\r\nconst CommentText=styled.p`\r\n    flex: 3;\r\n    font-weight: 100;\r\n    margin: 0;\r\n`;\r\nconst CommentItem=(({comment}) => (\r\n    <CommentItemBlock>\r\n        <Commenter>{comment.commenter.username}</Commenter>\r\n        <CommentText>{comment.comment}</CommentText>\r\n    </CommentItemBlock>\r\n));\r\n\r\nfunction CommentList({ comments }) {\r\n\r\n    return (\r\n        <>\r\n            { comments.map((comment) =>\r\n                (<CommentItem comment={comment} key={comment._id}/>)\r\n            )}\r\n\r\n        </>\r\n    );\r\n}\r\nexport default CommentList;","import Input from \"@material-ui/core/Input/Input\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport React, {useCallback} from \"react\";\r\nimport styled from 'styled-components';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Loadable from 'react-loadable';\r\n\r\nconst LoadableModal = Loadable({\r\n    loader: () => import('../../common/AskLoginModal'),\r\n    loading() {\r\n        return <div>Loading...</div>\r\n    }\r\n});\r\nconst CommentInputBlock=styled.div`\r\n    width: 100%;\r\n    padding: 8px;\r\n    border-top: 1px solid #b3b3b1;\r\n`;\r\nconst CommentForm=styled.form`\r\n    width: 100%;\r\n    display: flex;\r\n`;\r\nconst StyledInput=styled(Input)`\r\n    flex: 1;\r\n    margin: 0 10px 0 10px;\r\n`;\r\nconst ButtonWrapper=styled.div`\r\n   position: relative;\r\n`;\r\nconst ProgressWrapper=styled.div`\r\n   position: absolute;\r\n   display: flex;\r\n   top: 0;\r\n   margin: auto;\r\n   width: 100%;\r\n   height: 100%;\r\n   justify-content: center;\r\n   align-items: center;\r\n  \r\n`;\r\n\r\nfunction CommentInput({ submitComment, onChangeField, loading, user }) {\r\n    //Note: reaction 로딩 상태는 loading 모듈이 아닌 posts 배열 각각의 요소 내부에서 관리\r\n    const [input, setInput]=React.useState('');\r\n    const [modal, setModal]=React.useState(false);\r\n    const onUnauthorizedClick=(e)=>{\r\n        console.log('click called')\r\n        setModal(true);\r\n    };\r\n    const onCancel=()=>{\r\n        setModal(false);\r\n    };\r\n    const onChange=useCallback((e)=>{\r\n        setInput(e.target.value);\r\n        onChangeField(e);\r\n    }, []);\r\n\r\n    const onSubmit=useCallback((e)=>{\r\n        e.preventDefault();\r\n        submitComment(input);\r\n        setInput('');\r\n    }, [input]);\r\n\r\n    return (\r\n        <CommentInputBlock>\r\n            <CommentForm noValidate autoComplete=\"off\" onSubmit={onSubmit}>\r\n                <StyledInput\r\n                    placeholder=\"댓글 달기...\"\r\n                    //onChange={onChangeField}\r\n                    onChange={onChange}\r\n                    name=\"comment\"\r\n                    value={input}\r\n                    //disabled={loading || !user}\r\n                    disabled={loading}\r\n                    color=\"secondary\"\r\n                    onClick={!user && onUnauthorizedClick}\r\n                    //value={(post.reaction && post.reaction.comment) || ''}\r\n                />\r\n                <ButtonWrapper>\r\n                    <Button\r\n                        variant=\"outlined\"\r\n                        color=\"secondary\"\r\n                        disabled={input==='' || loading}\r\n                        onClick={onSubmit}\r\n                    >\r\n                        게시\r\n                    </Button>\r\n                    {loading &&\r\n                        <ProgressWrapper>\r\n                            <CircularProgress size={24} />\r\n                        </ProgressWrapper>\r\n                    }\r\n                </ButtonWrapper>\r\n                <LoadableModal\r\n                    visible={modal}\r\n                    onClose={onCancel}\r\n                    onCancel={onCancel}\r\n                    title=\"simple-modal-title\"\r\n                    description=\"simple-modal-description\"\r\n                />\r\n\r\n            </CommentForm>\r\n        </CommentInputBlock>\r\n    );\r\n}\r\n\r\nexport default CommentInput;","import React, {useCallback, useEffect, useRef} from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {changeField} from '../../../modules/posts';\r\nimport CommentInput from '../../../components/community/postList/CommentInput';\r\nimport {writeComment} from \"../../../modules/posts\";\r\n\r\nconst ListReactionContainer=({ index, post})=> {\r\n    const dispatch=useDispatch();\r\n    const loader=useRef();\r\n    const containerRef=useRef();\r\n\r\n\r\n    const {  error, submitCommentLoading, user}=useSelector(\r\n        ({ loading, user})=> ({\r\n            //submitCommentLoading: loading['posts/WRITE_COMMENT'],\r\n            //submitCommentLoading: post.commentsLoading || false,\r\n            user: user.user,\r\n            //posts: posts.posts,\r\n            //error: posts.error,\r\n\r\n        }),\r\n    );\r\n\r\n    const onChangeField=useCallback(e=> {\r\n        //console.log('current onChangeField: ', e.target);\r\n        return dispatch(changeField({ index: index, key: e.target.name, value: e.target.value}));\r\n    }, [dispatch]);\r\n\r\n\r\n    const submitComment=(input)=>{\r\n        dispatch(\r\n            writeComment({\r\n                index: index,\r\n                postId: post.postContent._id,\r\n                comment: input,\r\n            }),\r\n        );\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <CommentInput\r\n                error={error}\r\n                onChangeField={onChangeField}\r\n                user={user}\r\n                submitComment={submitComment}\r\n                loading={post.commentsLoading || false}\r\n                //loading={submitCommentLoading}\r\n            />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default React.memo(ListReactionContainer);\r\n//export default ListReactionContainer;","import React from 'react';\r\nimport Card from '@material-ui/core/Card';\r\nimport PostContents from './PostContents';\r\nimport CommentList from './CommentList';\r\nimport styled from \"styled-components\";\r\nimport ListReactionContainer from \"../../../containers/community/readPost/ListReactionContainer\";\r\n\r\nconst StyledCard=styled(Card)`\r\n    margin-bottom: 10px;\r\n    border: 1.5px solid transparent;\r\n    border-image: linear-gradient(to left, #77a1d3, #79cbca, #e684ae);\r\n    border-image-slice: 1;\r\n    border-image-width: 1.5px;\r\n`;\r\nconst CommentListBlock=styled.div`\r\n    width: 100%;\r\n    //background-color: #61dafb;\r\n    display: flex;\r\n    justify-content: center;\r\n    flex-direction: column;\r\n   \r\n`;\r\n//export default function PostListItem({ post, index }) {\r\nfunction PostListItem({ post, index }) {\r\n\r\n    return (\r\n        <StyledCard>\r\n            <PostContents postContent={post.postContent}/>\r\n            <CommentListBlock>\r\n                {post.comments && <CommentList comments={post.comments}/>}\r\n            </CommentListBlock>\r\n            <ListReactionContainer index={index} post={post}/>\r\n        </StyledCard>\r\n    );\r\n}\r\nexport default React.memo(PostListItem);\r\n//export default PostListItem;","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst ErrorMessageBlock=styled.div`\r\n    flex: 1;\r\n    background-color: #ffffff;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n`;\r\nexport default function ErrorMessage({children}) {\r\n    return (\r\n        <ErrorMessageBlock>\r\n            <h2>Error</h2>\r\n            {children}\r\n            <p>잠시 후 다시 시도해주시고 계속해서 오류가 발생할 시</p>\r\n            <p>관리자에게 연락부탁드립니다</p>\r\n            <h5>climbers.help@gmail.com</h5>\r\n        </ErrorMessageBlock>\r\n    )\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport PostListItem from \"./PostListItem\";\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport styled from 'styled-components';\r\nimport ErrorMessage from \"../../common/ErrorMessage\";\r\n\r\nconst PostListBlock=styled.div`\r\n    flex: 1;\r\n    justify-content: center;\r\n    margin-right: 1rem;\r\n    margin-left: 1rem;   \r\n`;\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        //backgroundColor: 'red',\r\n        flex: 1,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        justifyContent: 'center',\r\n    },\r\n    loaderBox: {\r\n        //background: 'pink',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        minHeight: '80px'\r\n    },\r\n}));\r\n\r\n\r\nconst PostList=({loading, loading2, error, posts, user, loader,containerRef})=>{\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <PostListBlock>\r\n            <div className={classes.root} ref={containerRef}>\r\n                {!loading && posts && (\r\n                    posts.map((post, index) => (\r\n                        <PostListItem\r\n                            key={post.postContent._id}\r\n                            post={post}\r\n                            index={index}\r\n                        />\r\n                    ))\r\n                )}\r\n\r\n                <div className={classes.loaderBox}\r\n                    ref={loader}\r\n                >\r\n                    {loading && (\r\n                        <CircularProgress />\r\n                    )}\r\n                    {loading2 && (\r\n                        <CircularProgress />\r\n                    )}\r\n\r\n                </div>\r\n            </div>\r\n            { error && (\r\n                <ErrorMessage>\r\n                    {error.message}\r\n                </ErrorMessage>\r\n            ) }\r\n        </PostListBlock>\r\n    )\r\n};\r\n\r\nexport default PostList;\r\n\r\n","import React, {useCallback, useEffect, useRef} from 'react';\r\nimport qs from 'qs';\r\nimport {withRouter} from 'react-router-dom';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {listPosts, scrollBottom, unloadPosts, selectCategory} from '../../../modules/posts';\r\nimport PostList from '../../../components/community/postList/PostList';\r\n\r\nconst PostListContainer=({location})=> {\r\n    const dispatch=useDispatch();\r\n    const loader=useRef();\r\n    const containerRef=useRef();\r\n    const {posts, error, postsLoading, user, morePostsLoading, category}=useSelector(\r\n        ({ posts, loading, user })=> ({\r\n            posts: posts.posts,\r\n            error: posts.error,\r\n            postsLoading: loading['posts/LIST_POSTS'],\r\n            user: user.user,\r\n            morePostsLoading: loading['posts/READ_MORE'],\r\n        }),\r\n    );\r\n    useEffect(()=> {\r\n        const {tag, username, category}=qs.parse(location.search, {\r\n            ignoreQueryPrefix: true,\r\n        });\r\n        dispatch(listPosts({tag, username, category}));\r\n        return ()=>{\r\n            dispatch(unloadPosts());\r\n        };\r\n    }, [dispatch, location.search]);\r\n\r\n    const options = {\r\n        root: containerRef.current,\r\n        //root: null,\r\n        rootMargin: \"10px\",\r\n        threshold: 0\r\n    };\r\n\r\n    useEffect(()=>{\r\n        const io = new IntersectionObserver((entries, observer) => {\r\n            entries.forEach(entry => {\r\n                // 관찰 대상이 viewport 안에 들어온 경우 image 로드\r\n                if (entry.isIntersecting) {\r\n                    console.log(entry);\r\n                    const {tag, username, category}=qs.parse(location.search, {\r\n                        ignoreQueryPrefix: true,\r\n                    });\r\n                    dispatch(scrollBottom({tag, username, category})); //page는 redux 내부에서 state 참조함\r\n                }\r\n            })\r\n        }, options);\r\n\r\n        io.observe(loader.current);\r\n\r\n        //return io.unobserve(loader.current);\r\n    }, [dispatch]);\r\n\r\n    return (\r\n        <>\r\n            <PostList\r\n                loading={postsLoading}\r\n                loading2={morePostsLoading}\r\n                error={error}\r\n                posts={posts}\r\n                showWriteButton={user}\r\n                loader={loader}\r\n                containerRef={containerRef}\r\n            />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default withRouter(PostListContainer);","import { Link } from 'react-router-dom';\r\nimport React from 'react';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport Fab from \"@material-ui/core/Fab\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nconst useStyles = makeStyles(theme => ({\r\n    extendedIcon: {\r\n        marginRight: theme.spacing(1),\r\n    },\r\n    fab:{\r\n        //margin: '2rem',\r\n        width: '90%',\r\n        background: 'linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)',\r\n    }\r\n}));\r\nfunction LinkWrapperFab(props) {\r\n    const { to, ...buttonProps } = props;\r\n\r\n    const renderLink = React.useMemo(\r\n        () =>\r\n            React.forwardRef((linkProps, ref) => (\r\n                <Link ref={ref} to={to} {...linkProps} />\r\n            )),\r\n        [to],\r\n    );\r\n\r\n    const classes = useStyles();\r\n    return(\r\n\r\n        <Fab component={renderLink} {...buttonProps} className={classes.fab}>\r\n            <AddIcon className={classes.extendedIcon}/>\r\n            { props.children }\r\n        </Fab>\r\n    )\r\n\r\n\r\n}\r\n\r\nexport default LinkWrapperFab;","import React from 'react';\r\nimport LinkWrapperFab from \"../../common/LinkedFab\";\r\n\r\nexport default function WritePostButton() {\r\n    return (\r\n        <>\r\n            <LinkWrapperFab\r\n                color=\"primary\"\r\n                aria-label=\"add\"\r\n                variant=\"extended\"\r\n                to=\"/community/write\"\r\n            >\r\n                새 게시글\r\n            </LinkWrapperFab>\r\n        </>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport {createMuiTheme, makeStyles} from '@material-ui/core/styles';\r\nimport styled from 'styled-components';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport WritePostButton from '../common/WritePostButton'\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport palette from '../../../lib/styles/palette';\r\n\r\nconst breakpointValues = {\r\n    xs: 0,\r\n    sm: 576,\r\n    md: 768,\r\n    lg: 992,\r\n    xl: 1200,\r\n};\r\nconst theme = createMuiTheme({ breakpoints: { values: breakpointValues } });\r\n\r\nconst TopBox=styled.div`\r\n    display: none;\r\n    @media(max-width: 959px){\r\n        background-color: ${palette.gray[0]};\r\n        position: -webkit-sticky; /* 사파리 브라우저 지원 */\r\n        position: sticky;\r\n        top: 4rem;\r\n        z-index: 1;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        &>* {\r\n            flex:1;\r\n            max-width: 180px;\r\n            margin: 10px;\r\n        }\r\n    }\r\n    @media(max-width: 600px){\r\n        top: 3rem;\r\n        padding-top: 0.7rem;\r\n    }                \r\n`;\r\nconst useStyles = makeStyles(theme => ({\r\n    leftBox:{\r\n        display: 'flex',\r\n        flex: 1,\r\n        justifyContent: 'flex-end',\r\n        [theme.breakpoints.down('sm')]: {\r\n            display: 'none',\r\n        },\r\n    },\r\n    tabBox: {\r\n        //background: 'gray',\r\n        position: 'fixed',\r\n        width: '15%',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center'\r\n    },\r\n    tabs: {\r\n        borderRight: `1px solid ${theme.palette.divider}`,\r\n        width: '100%',\r\n\r\n    },\r\n    rightBox: {\r\n        //backgroundColor: 'gray',\r\n        flex: 1,\r\n        [theme.breakpoints.down('sm')]: {\r\n            display: 'none',\r\n        },\r\n    },\r\n\r\n}));\r\n\r\nexport default function CategoryTab({ onChangeCategory, category}) {\r\n    const classes = useStyles(theme);\r\n\r\n    const handleSelectTab = (event, newValue) => {\r\n        onChangeCategory(newValue);\r\n    };\r\n\r\n    const handleSelectChange = (event) => {\r\n        onChangeCategory(event.target.value);\r\n    };\r\n    return (\r\n        <>\r\n            <TopBox>\r\n                <WritePostButton />\r\n                <FormControl variant=\"outlined\">\r\n                    <InputLabel id=\"demo-simple-select-outlined-label\">Category</InputLabel>\r\n                    <Select\r\n                        labelId=\"demo-simple-select-outlined-label\"\r\n                        id=\"demo-simple-select-outlined\"\r\n                        value={category}\r\n                        onChange={handleSelectChange}\r\n                        label=\"Category\"\r\n                    >\r\n                        <MenuItem value=\"\">\r\n                            <em>All</em>\r\n                        </MenuItem>\r\n                        <MenuItem value=\"정보\">정보</MenuItem>\r\n                        <MenuItem value=\"문제\">문제</MenuItem>\r\n                        <MenuItem value=\"일상\">일상</MenuItem>\r\n                        <MenuItem value=\"유머\">유머</MenuItem>\r\n                    </Select>\r\n                </FormControl>\r\n            </TopBox>\r\n            <div className={classes.leftBox}>\r\n                <div className={classes.tabBox}>\r\n                    <WritePostButton />\r\n                    <Tabs\r\n                        orientation=\"vertical\"\r\n                        variant=\"scrollable\"\r\n                        value={category}\r\n                        onChange={handleSelectTab}\r\n                        aria-label=\"Vertical tabs example\"\r\n                        className={classes.tabs}\r\n                    >\r\n                        <Tab label=\"All\" value={\"\"} />\r\n                        <Tab label=\"정보\" value={\"정보\"} />\r\n                        <Tab label=\"문제\" value={\"문제\"} />\r\n                        <Tab label=\"일상\" value={\"일상\"} />\r\n                        <Tab label=\"유머\" value={\"유머\"} />\r\n                    </Tabs>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n","import React, {useEffect, useCallback} from 'react';\r\nimport CategoryTab from '../../../components/community/postList/CategoryTab';\r\nimport {selectCategory} from '../../../modules/posts';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {withRouter} from 'react-router-dom';\r\n\r\nfunction CategoryTabContainer({history}){\r\n    const dispatch=useDispatch();\r\n    const { category }=useSelector(({posts})=>({\r\n        category: posts.category,\r\n    }));\r\n\r\n    const onChangeCategory=useCallback((category)=> {\r\n            console.log(category)\r\n            dispatch(selectCategory(category));\r\n        },[dispatch]);\r\n\r\n    useEffect(()=> {\r\n        if(category) {\r\n            history.push(`/community?category=${category}`);\r\n        }else{\r\n            history.push(`/community`);\r\n        }\r\n    }, [history, category]);\r\n    return (\r\n        <CategoryTab\r\n            onChangeCategory={onChangeCategory}\r\n            category={category}\r\n        />)\r\n}\r\nexport default withRouter(CategoryTabContainer);","import {createAction, handleActions} from 'redux-actions';\r\nimport createRequestSaga, {\r\n    createRequestActionTypes\r\n} from \"../lib/createRequestSaga\";\r\nimport * as postsAPI from '../lib/api/community/posts';\r\nimport {takeLatest} from 'redux-saga/effects';\r\nimport produce from \"immer\";\r\n\r\nconst [\r\n    READ_POST,\r\n    READ_POST_SUCCESS,\r\n    READ_POST_FAILURE,\r\n]=createRequestActionTypes('post/READ_POST');\r\nconst [\r\n    WRITE_COMMENT,\r\n    WRITE_COMMENT_SUCCESS,\r\n    WRITE_COMMENT_FAILURE,\r\n]=createRequestActionTypes('post/WRITE_COMMENT');\r\n\r\nconst CHANGE_FIELD='post/CHANGE_FIELD';\r\n\r\nconst UNLOAD_POST='post/UNLOAD_POST'; //포스트 페이지에서 벗어날 때 데이터 비우기\r\n\r\nexport const readPost=createAction(READ_POST, id=>id);\r\nexport const unloadPost=createAction(UNLOAD_POST);\r\n\r\nexport const changeField = createAction(\r\n    CHANGE_FIELD,\r\n    ({ key, value })=>({\r\n        key, //comment, like\r\n        value, //실제 바꾸려는 값\r\n    }),\r\n);\r\n\r\nexport const writeComment=createAction(WRITE_COMMENT, ({postId, comment})=> ({\r\n    postId,\r\n    comment,\r\n}));\r\n\r\nconst readPostSaga=createRequestSaga(READ_POST, postsAPI.readPost);\r\nconst writeCommentSaga=createRequestSaga(WRITE_COMMENT, postsAPI.writeComment);\r\n\r\n\r\nexport function* postSaga(){\r\n    yield takeLatest(READ_POST, readPostSaga);\r\n    yield takeLatest(WRITE_COMMENT, writeCommentSaga);\r\n}\r\n\r\nconst initialState={\r\n    post: null,\r\n    reaction: {\r\n        commentInput: '',\r\n        like: false,\r\n    },\r\n    error: null,\r\n};\r\n\r\nconst post=handleActions(\r\n    {\r\n        [CHANGE_FIELD]: (state, { payload: { key, value }}) =>\r\n            produce(state, draft => {\r\n                draft.reaction[key]=value; //예 state.reaction.commentInput 바꾼다\r\n            }),\r\n        [READ_POST_SUCCESS]: (state, {payload: post})=>({\r\n            ...state,\r\n            post,\r\n        }),\r\n        [READ_POST_FAILURE]: (state, {payload: error})=>({\r\n            ...state,\r\n            error,\r\n        }),\r\n        [UNLOAD_POST]: ()=>initialState,\r\n    },\r\n    initialState,\r\n);\r\n\r\nexport default post;","import React from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport ShareIcon from '@material-ui/icons/Share';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport Carousel from '../common/Carousel';\r\nimport styled from \"styled-components\";\r\n\r\nconst PostViewerBlock=styled.div`\r\n    margin-top: 4rem;\r\n`;\r\nconst StyledCardHeader=styled.div`\r\n    width: 100%;\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n    padding: 0 10px 0 10px;\r\n    @media(min-width: 800px){\r\n        width: 50%;\r\n    }\r\n`;\r\nconst CarouselWrapper=styled.div`\r\n    width: 100%;\r\n    background: #000000;\r\n    @media(min-width: 800px){\r\n    display: flex;\r\n    align-items: center;\r\n        width: 50%;\r\n        height: 100%;\r\n    }\r\n`;\r\nconst IconButtonBlock=styled.div`\r\n    width: 100%;\r\n    @media(min-width: 800px){\r\n        width: 50%;\r\n    }\r\n`;\r\nconst StyledCardContent=styled.div`\r\n    width: 100%;\r\n    @media(min-width: 800px){\r\n        width: 50%;\r\n        flex:1;\r\n    }\r\n`;\r\nconst CommentListBlock=styled.div`\r\n    width: 100%;\r\n    @media(min-width: 800px){\r\n        width: 50%;\r\n        flex:1;\r\n    }\r\n   \r\n`;\r\nconst HeaderTextBox=styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    padding: 0 15px;\r\n`;\r\nconst HeaderText=styled.p`\r\n    font-size: small;\r\n    padding: 0;\r\n    margin: 0;\r\n`;\r\nconst IconWrapper=styled.div`\r\n    flex:1;\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    \r\n`;\r\nconst StyledAvatar=styled(Avatar)`\r\n    margin: 10px;\r\n`;\r\n\r\nconst Comment=styled.div`\r\n    backgroud: skyblue;\r\n    display: flex;\r\n`\r\nconst CommentItem=React.memo(({comment, onRemove}) => (\r\n    <Comment onClick={()=> onRemove(comment)}>\r\n        <StyledAvatar/>\r\n        #{comment}\r\n    </Comment>\r\n));\r\n\r\nconst CommentList=React.memo(({comments, onRemove})=> (\r\n    <>\r\n        {comments.map(comment=> (\r\n            <CommentItem key={comment} tag={comment} onRemove={onRemove} />\r\n        ))}\r\n    </>\r\n));\r\nexport default function PostViewer({post, children, loading, error, comments}) {\r\n\r\n    //에러 발생 시\r\n    if(error){\r\n        if(error.response && error.response.status === 404){\r\n            return <PostViewerBlock>존재하지 않는 포스트 입니다.</PostViewerBlock>;\r\n        }\r\n        return <PostViewerBlock>오류 발생!</PostViewerBlock>;\r\n    }\r\n\r\n    //로딩 중이거나 아직 포스트 데이터가 없을 때\r\n    if(loading || !post){\r\n        return null;\r\n    }\r\n    const { publishedDate, user, tags, imgUrlList, body, _id}=post;\r\n    return (\r\n        <>\r\n            <StyledCardHeader>\r\n                <StyledAvatar aria-label=\"recipe\">\r\n                    R\r\n                </StyledAvatar>\r\n                <HeaderTextBox>\r\n                    <HeaderText>{user.username}</HeaderText>\r\n                    <HeaderText>{new Date(publishedDate).toLocaleDateString()}</HeaderText>\r\n                </HeaderTextBox>\r\n                <IconWrapper>\r\n                    <MoreVertIcon/>\r\n                </IconWrapper>\r\n            </StyledCardHeader>\r\n\r\n            <StyledCardContent>\r\n                <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                    {body}\r\n                </Typography>\r\n            </StyledCardContent>\r\n            <CommentListBlock>\r\n                {comments && <CommentList variant=\"body2\" color=\"textSecondary\" component=\"p\" />}\r\n            </CommentListBlock>\r\n            <IconButtonBlock>\r\n                <IconButton aria-label=\"add to favorites\">\r\n                    <FavoriteIcon />\r\n                </IconButton>\r\n                <IconButton aria-label=\"share\">\r\n                    <ShareIcon />\r\n                </IconButton>\r\n            </IconButtonBlock>\r\n            { imgUrlList.length > 0 && (\r\n                <CarouselWrapper>\r\n                    <Carousel\r\n                        imgUrlList={imgUrlList}\r\n                        title=\"Paella dish\"\r\n                    />\r\n                </CarouselWrapper>\r\n            )}\r\n        </>\r\n    );\r\n}","import React, {useEffect} from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {withRouter} from 'react-router-dom';\r\nimport {readPost, unloadPost} from '../../../modules/post';\r\nimport PostViewer from '../../../components/community/postViewer/PostViewer';\r\n//import {removePost} from \"../../lib/api/posts\";\r\n\r\nconst PostViewerContainer=({match, history})=>{\r\n    //처음 마운트될 때 포스트 읽기 api 요청\r\n    console.log(match.params)\r\n    const {postId} = match.params;\r\n    const dispatch=useDispatch();\r\n    const {post, error, loading, user}=useSelector(({post, loading, user})=>({\r\n        post: post.post,\r\n        error: post.error,\r\n        loading: loading['post/READ_POST'],\r\n        user: user.user,\r\n    }));\r\n\r\n    useEffect(()=>{\r\n        dispatch(readPost(postId));\r\n        //언마운트 될 때 리덕스에서 포스트 데이터 없애기\r\n        return ()=>{\r\n            dispatch(unloadPost());\r\n        };\r\n    }, [dispatch, postId]);\r\n\r\n\r\n    const ownPost = (user && user._id) === (post && post.user._id);\r\n\r\n    return (\r\n        <PostViewer\r\n            post={post}\r\n            loading={loading}\r\n            error={error}\r\n            ownPost={ownPost}\r\n        />\r\n    );\r\n};\r\n\r\nexport default withRouter(PostViewerContainer);","import React from 'react';\r\nimport Card from '@material-ui/core/Card';\r\nimport styled from 'styled-components';\r\n\r\nconst PostViewerTemplateBlock=styled.div`\r\n    display: flex;\r\n    margin: 5rem auto;\r\n    width: 90%;\r\n    background-color: darkgrey;\r\n    max-width: 1000px;\r\n    @media(min-width: 1200px){\r\n        width: 70%;\r\n    }\r\n`\r\nconst StyledCard=styled(Card)`\r\n    border: 1.5px solid transparent;\r\n    border-image: linear-gradient(to left, #77a1d3, #79cbca, #e684ae);\r\n    border-image-slice: 1;\r\n    border-image-width: 1.5px;\r\n    flex: 1;\r\n    display: flex;\r\n    flex-flow:column wrap-reverse;\r\n   @media(min-width: 800px){\r\n        &>:nth-child(6) {order: 3};\r\n        &>:nth-child(1) {order: 2}; //댓글 인풋\r\n    }\r\n    @media(max-width: 800px){\r\n        &>:nth-child(2) {order: -2};\r\n        &>:nth-child(6) {order: -1};\r\n        &>:nth-child(1) {order: 3}; //댓글 인풋\r\n    }\r\n`;\r\n\r\n\r\nexport default function PostViewerTemplate({post, children}) {\r\n\r\n    return (\r\n        <PostViewerTemplateBlock>\r\n            <StyledCard >\r\n                {children}\r\n            </StyledCard>\r\n        </PostViewerTemplateBlock>\r\n\r\n    );\r\n}","import Input from \"@material-ui/core/Input/Input\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport React from \"react\";\r\nimport styled from 'styled-components';\r\n\r\nconst CommentInputBlock=styled.div`\r\n    width: 100%;\r\n    padding: 8px;\r\n    border-top: 1px solid #959593;\r\n    @media(min-width: 800px){\r\n        width: 50%;\r\n    }\r\n`;\r\nconst CommentForm=styled.form`\r\n    width: 100%;\r\n    display: flex;\r\n`;\r\nconst StyledInput=styled(Input)`\r\n    flex: 1;\r\n    margin: 0 10px 0 10px;\r\n`;\r\nconst StyledButton=styled(Button)`\r\n\r\n`;\r\nexport default function CommentInput({comment, reaction, onChangeField, post, onSubmit}) {\r\n    return (\r\n        <CommentInputBlock>\r\n            <CommentForm noValidate autoComplete=\"off\">\r\n                <StyledInput\r\n                    placeholder=\"댓글 달기...\"\r\n                    reaction={reaction}\r\n                    onChange={onChangeField}\r\n                    name=\"comment\"\r\n                    value={reaction &&reaction.comment && reaction.comment[post._id]}\r\n                />\r\n                <StyledButton variant=\"outlined\" color=\"secondary\" disabled={false} onClick={onSubmit}>\r\n                    게시\r\n                </StyledButton>\r\n            </CommentForm>\r\n        </CommentInputBlock>\r\n    );\r\n}","import React, {useCallback, useEffect, useRef} from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {changeField} from '../../../modules/post';\r\nimport CommentInput from '../../../components/community/postViewer/CommentInput';\r\nimport {writeComment} from \"../../../modules/post\";\r\n\r\nconst CommentInputContainer=()=> {\r\n    const dispatch=useDispatch();\r\n    const loader=useRef();\r\n    const containerRef=useRef();\r\n\r\n    const { post, error, postLoading, user, reaction}=useSelector(\r\n        ({ post, loading, user})=> ({\r\n            post: post.post,\r\n            reaction: post.reaction,\r\n            error: post.error,\r\n            postLoading: loading['post/READ_POST'],\r\n            user: user.user,\r\n        }),\r\n    );\r\n    useEffect(()=>{\r\n        console.log('current reaction: ', reaction);\r\n    }, [reaction]);\r\n    const onChangeField=useCallback(e=> {\r\n        console.log('current onChangeField: ', e.target);\r\n        return dispatch(changeField({ key: e.target.name, value: e.target.value}));\r\n    }, [dispatch, post]);\r\n\r\n    useEffect(()=>{\r\n        console.log('current reaction state: ', reaction);\r\n        console.log('current reaction state2: ', reaction.comment);\r\n    }, [reaction]);\r\n\r\n    //const postId=post._id;\r\n    const onSubmit = (e)=> {\r\n        e.preventDefault();\r\n        console.log('onSubmit called');\r\n        if(!reaction.comment){\r\n            console.log('comment nono');\r\n            return;\r\n        }\r\n        dispatch(\r\n            writeComment({\r\n                postId: post._id,\r\n                comment: reaction.comment,\r\n            }),\r\n        );\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <CommentInput\r\n                error={error}\r\n                post={post}\r\n                user={user}\r\n                onChangeField={onChangeField}\r\n                reaction={reaction}\r\n                onSubmit={onSubmit}\r\n\r\n            />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default CommentInputContainer;","import React from 'react';\r\nimport HeaderContainer from \"../../containers/common/HeaderContainer\";\r\nimport PostViewerContainer from \"../../containers/community/readPost/PostViewerContainer\";\r\nimport PostViewerTemplate from '../../components/community/postViewer/PostViewerTemplate'\r\nimport CommentInputContainer from \"../../containers/community/readPost/CommentInputContainer\";\r\nconst PostPage=({match})=>{\r\n    console.log(match.params);\r\n    return (\r\n        <>\r\n            <HeaderContainer/>\r\n            <PostViewerTemplate>\r\n                <CommentInputContainer/>\r\n                <PostViewerContainer/>\r\n            </PostViewerTemplate>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default PostPage;","import React from 'react';\r\nimport CommunityTemplate from '../../components/community/postList/CommunityTemplate';\r\nimport HeaderContainer from \"../../containers/common/HeaderContainer\";\r\nimport PostListContainer from \"../../containers/community/readPost/PostListContainer\";\r\nimport CategoryTabContainer from \"../../containers/community/readPost/CategoryTabContainer\";\r\nimport {Route, Router, withRouter, Link} from 'react-router-dom';\r\nimport PostPage from '../../pages/community/PostPage';\r\n\r\nconst CommunityPage=({match})=>{\r\n    console.log(match.path)\r\n    return (\r\n        <>\r\n            <HeaderContainer/>\r\n            <CommunityTemplate CategoryTabContainer={CategoryTabContainer}>\r\n                <CategoryTabContainer/>\r\n                <PostListContainer/>\r\n\r\n                <Route path={`${match.path}/@:username/:postId`} component={PostPage}/>\r\n            </CommunityTemplate>\r\n        </>\r\n\r\n    );\r\n};\r\nexport default withRouter(CommunityPage);","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\n\r\nimport Container from \"@material-ui/core/Container\";\r\n/*화면 전체를 채움*/\r\nconst WriteTemplateBlock=styled.div`\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n    right: 0;\r\n    \r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    \r\n    background: #2BC0E4;  /* fallback for old browsers */\r\n    background: -webkit-linear-gradient(to bottom, #EAECC6, #2BC0E4);  /* Chrome 10-25, Safari 5.1-6 */\r\n    background: linear-gradient(to bottom, #EAECC6, #2BC0E4); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\r\n    \r\n    .LogoImage{\r\n        width: 200px;\r\n        margin: 20px;\r\n    }\r\n\r\n`;\r\n\r\n/*흰색 박스*/\r\nconst WhiteBox=styled(Container)`\r\n    box-shadow: 0 0 8px rgba(0, 0, 0, 0.025);\r\n    padding: 2rem;\r\n    background: white;\r\n    border-radius: 2px;\r\n    display: flex;\r\n    //flex-wrap: wrap;\r\n    justify-content: space-between;\r\n    flex-direction: column;\r\n    width: 80%;\r\n   \r\n    \r\n    @media(max-width: 400px) {\r\n        width: 95%;\r\n    }\r\n    @media(min-width: 900px) {\r\n        width: 60%;\r\n        max-width: 600px;\r\n    }\r\n`;\r\nconst WriteTemplate=( {children} )=>{\r\n    return(\r\n        <WriteTemplateBlock>\r\n            <WhiteBox >\r\n                {children}\r\n            </WhiteBox>\r\n        </WriteTemplateBlock>\r\n    );\r\n};\r\n\r\nexport default WriteTemplate;\r\n","import React, {useEffect, useRef} from 'react';\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport styled from 'styled-components';\r\nimport InsertPhotoIcon from '@material-ui/icons/InsertPhoto';\r\nimport Fab from \"@material-ui/core/Fab\";\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport Done from '@material-ui/icons/Done';\r\n\r\nconst PreviewBox=styled.div`\r\n    display: flex;\r\n    flex-wrap: nowrap;\r\n    white-space: nowrap;\r\n    overflow-x: auto;\r\n    width: 100%;\r\n    & > * {\r\n      flex: 0 0 auto;\r\n    }\r\n`;\r\n\r\nconst PreviewItem=styled.div`\r\n    width: 150px;\r\n    height: 150px;\r\n    position: relative;\r\n    margin: 3px;\r\n`;\r\nconst ImgFilter=styled.div`\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: black;\r\n    z-index: 2;\r\n    position: absolute;\r\n    opacity: 0.5;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n`;\r\nconst ImgPreview=styled.img`\r\n    width: 100%;\r\n    height: 100%;\r\n    z-index: 1;\r\n    top: 0;\r\n    position: absolute;\r\n`;\r\nconst ImgSelector=styled.div`\r\n    width: 150px;\r\n    height: 150px;\r\n    display: flex;\r\n    border-style: dashed; \r\n    align-items: center;\r\n    justify-content: center;\r\n`;\r\nconst Input=styled.input`\r\n    overflow: hidden;\r\n    width: 0;\r\n    height: 0;\r\n    position: absolute;\r\n    top: 0;\r\n`;\r\nconst useStyles = makeStyles(theme => ({\r\n    extendedIcon: {\r\n        marginRight: theme.spacing(1),\r\n    },\r\n    doneIcon: {\r\n        color: 'white',\r\n        zIndex: 3,\r\n        fontSize: '5rem',\r\n\r\n    },\r\n    fab:{\r\n        margin: '0.5rem',\r\n    },\r\n    addIcon: {\r\n        fontSize: '5rem',\r\n    }\r\n}));\r\nconst ImageForm=({ hasImages, imgList, onChange })=>{\r\n    const classes = useStyles();\r\n    const previewBoxRef=useRef();\r\n\r\n    useEffect(()=>{\r\n        //이미지 추가 시 horizontal scroll 위치 맨 오른쪽으로 이동\r\n        if(previewBoxRef.current && hasImages){\r\n            const width=previewBoxRef.current.scrollWidth;\r\n            console.dir(width);\r\n            previewBoxRef.current.scrollLeft=width;\r\n        }\r\n    }, [imgList]);\r\n\r\n    return (\r\n        <>\r\n            { !hasImages ? (\r\n                <div className=\"form-group\">\r\n                    <input\r\n                        accept=\"image/*\"\r\n                        className={classes.input}\r\n                        style={{ display: 'none' }}\r\n                        id=\"raised-button-file\"\r\n                        multiple\r\n                        type=\"file\"\r\n                        onChange={onChange}\r\n                    />\r\n                    <label htmlFor=\"raised-button-file\">\r\n                        <Fab color=\"primary\" aria-label=\"add\" component=\"span\" variant=\"extended\" className={classes.fab} >\r\n                            <InsertPhotoIcon className={classes.extendedIcon}/>\r\n                            사진/동영상\r\n                        </Fab>\r\n                    </label>\r\n                </div>\r\n            ):(\r\n                <PreviewBox ref={previewBoxRef}>\r\n                    {imgList.map(object => {\r\n                        const url=URL.createObjectURL(object.file);\r\n                        return (\r\n                            <PreviewItem key={object.id}>\r\n                                {object.done ? (\r\n                                    <ImgFilter>\r\n                                        <Done className={classes.doneIcon}/>\r\n                                    </ImgFilter>\r\n                                ): (undefined)}\r\n\r\n                                <ImgPreview src={url} alt=\"preview\" />\r\n                            </PreviewItem>\r\n                        );\r\n                    })}\r\n                    <PreviewItem>\r\n                        <label>\r\n                            <ImgSelector>\r\n                                <AddIcon className={classes.addIcon}/>\r\n                            </ImgSelector>\r\n                            <Input\r\n                                accept=\"image/*\"\r\n                                type=\"file\"\r\n                                name=\"imgCollection\"\r\n                                multiple onChange={onChange}\r\n                            />\r\n                        </label>\r\n                    </PreviewItem>\r\n                </PreviewBox>\r\n            )}\r\n        </>\r\n    )\r\n};\r\n\r\nexport default ImageForm;","import {createAction, handleActions} from 'redux-actions';\r\nimport createRequestSaga, {\r\n    createRequestActionTypes,\r\n} from \"../lib/createRequestSaga\";\r\nimport { takeLatest, takeEvery, take, call, put, select } from 'redux-saga/effects';\r\nimport {finishLoading, startLoading} from \"./loading\";\r\nimport * as postsAPI from \"../lib/api/community/posts\";\r\nimport produce from \"immer\";\r\n\r\nconst INITIALIZE='write/INITIALIZE';\r\nconst SELECT_IMAGE='write/SELECT_IMAGE';\r\nconst CHANGE_FIELD='write/CHANGE_FIELD';\r\n\r\nconst [\r\n    UPLOAD_QUEUE,\r\n    UPLOAD_QUEUE_SUCCESS,\r\n    UPLOAD_QUEUE_FAILURE,\r\n] = createRequestActionTypes('write/UPLOAD_QUEUE');\r\n/*포스트 폼 전체를 담당*/\r\nconst [\r\n    WRITE_POST,\r\n    WRITE_POST_SUCCESS,\r\n    WRITE_POST_FAILURE,\r\n] = createRequestActionTypes('write/WRITE_POST');\r\n\r\n\r\n/*개별 이미지 파일 업로드 담당*/\r\nconst [\r\n    SAVE_FILE,\r\n    SAVE_FILE_SUCCESS,\r\n    SAVE_FILE_FAILURE,\r\n]= createRequestActionTypes('write/SAVE_FILE');\r\n\r\nexport const initialize=createAction(INITIALIZE);\r\n\r\nexport const selectImage = createAction(SELECT_IMAGE, selectedImg => selectedImg);\r\n\r\nexport const changeField=createAction(CHANGE_FIELD, ({key, value}) => ({\r\n    key,\r\n    value,\r\n}));\r\n\r\nexport const writePost=createAction(WRITE_POST, ({imgList, body, tags , centerTag, category})=> ({\r\n    imgList,\r\n    body,\r\n    tags,\r\n    centerTag,\r\n    category,\r\n}));\r\n//이미지 파일 리스트 업로드를 위한 큐\r\nfunction* uploadQueueSaga(imgList){\r\n    console.log(\"큐 시작\");\r\n\r\n    for(let i=0; i< imgList.length; i++){\r\n        console.dir(imgList[i]);\r\n        const response=yield call (saveFileSaga, {\r\n            type: SAVE_FILE,\r\n            payload: {\r\n                fileObject: imgList[i].file,\r\n                curOrder: i,\r\n            },\r\n        });\r\n        if(!response){\r\n            yield put({\r\n                type: UPLOAD_QUEUE_FAILURE\r\n            });\r\n            return false;\r\n        }\r\n    }\r\n    yield put({\r\n        type: UPLOAD_QUEUE_SUCCESS\r\n    });\r\n    return true;\r\n}\r\n//개별 파일 업로드\r\nfunction* saveFileSaga(action) {\r\n\r\n    try{\r\n        const response = yield call(postsAPI.imageUpload, action.payload);\r\n        console.dir(response);console.dir(response.data.url);\r\n        yield put({\r\n            type: SAVE_FILE_SUCCESS,\r\n            payload: {\r\n                url: response.data.url,\r\n                curOrder: action.payload.curOrder,\r\n            },\r\n        });\r\n        return true;\r\n\r\n    }catch(e){\r\n        console.error(e);\r\n        yield put({\r\n            type: SAVE_FILE_FAILURE,\r\n            payload: e,\r\n            error: true,\r\n        });\r\n        return false;\r\n    }\r\n}\r\n\r\nfunction* writePostSaga(action){\r\n    console.dir(action)\r\n    yield put(startLoading(WRITE_POST));\r\n    const { imgList, body, tags, centerTag, category } = action.payload;\r\n\r\n    if(imgList.length !== 0){\r\n        const isUploaded=yield call (uploadQueueSaga, imgList);\r\n        if(!isUploaded) {\r\n            yield put({\r\n                type: WRITE_POST_FAILURE,\r\n                payload: 'IMAGE UPLOAD QUEUE ERROR'\r\n            });\r\n            return -1;\r\n        }\r\n    }\r\n    const imgUrlList=yield select(state=> state.write.imgUrlList);\r\n    //for(let i=0; i<20; i++){//createDummy\r\n    try{\r\n        const response=yield call (postsAPI.writePost, {\r\n            imgUrlList,\r\n            body,\r\n            tags,\r\n            centerTag,\r\n            category,\r\n        });\r\n        console.dir(response);\r\n        yield put({\r\n            type: WRITE_POST_SUCCESS,\r\n            payload: response.data,\r\n        });\r\n    }catch(e){\r\n        yield put({\r\n            type: WRITE_POST_FAILURE,\r\n            payload: e,\r\n            error: true,\r\n        })\r\n    }\r\n    yield put(finishLoading(WRITE_POST));\r\n    //}//createDummy\r\n}\r\n\r\nexport function* writeSaga() {\r\n    yield takeLatest(WRITE_POST, writePostSaga);\r\n    yield takeLatest(UPLOAD_QUEUE, uploadQueueSaga);\r\n\r\n}\r\n\r\nconst initialState={\r\n    imgQueue: {\r\n        imgList: [],\r\n        listToUpload: [], //Todo: 실패시 다시 업로드 시도\r\n        imgCount: 0, //temp\r\n        uploadedCount: 0,\r\n        selectedImg: null,\r\n        status: 'initial', //initial, pending, ready, complete, failure,\r\n        queueError: null,\r\n    },\r\n    body: '',\r\n    category: '일상',\r\n    tags: [],\r\n    imgUrlList: [],\r\n    hasImages: false, //선택된 이미지 파일이 있는지\r\n    post: null,\r\n    postError: null,\r\n};\r\n\r\nconst write=handleActions(\r\n    {\r\n        [INITIALIZE]: state=> initialState,\r\n        [CHANGE_FIELD]: (state, {payload: {key, value}})=>({\r\n            ...state,\r\n            [key]: value, //특정 key 값을 업데이트\r\n        }),\r\n        [SELECT_IMAGE]: (state, { payload: selectedImg }) =>\r\n            produce(state, draft => {\r\n                console.dir(selectedImg);\r\n                if (selectedImg.file.name && selectedImg.file.name.match(/.(jpg|jpeg|png|gif)$/i)) {\r\n                    //파일 확장자 검증\r\n                    draft.imgQueue.imgList.push(selectedImg);\r\n                    draft.imgQueue.imgCount++;\r\n                    draft.hasImages=true;\r\n                }else{\r\n                    //Todo: 이미지 파일이 아닌 파일 선택하면 에러 메세지 보여주기\r\n                    console.log(\"ONLY IMAGE FILE ACCECPTED\");\r\n                }\r\n            }),\r\n        [SAVE_FILE_SUCCESS]: (state, {payload: {url, curOrder}})=>\r\n            produce(state, draft => {\r\n                const queue=draft.imgQueue;\r\n                queue.uploadedCount++;\r\n                queue.imgList[curOrder].done=true;\r\n                queue.listToUpload.splice(\r\n                    queue.listToUpload.findIndex(item => item.id === curOrder),\r\n                    1\r\n                );\r\n                draft.imgUrlList[curOrder]=url;\r\n            }),\r\n        [WRITE_POST]: (state, {payload: {imgList}})=>\r\n            produce(state, draft=> {\r\n                const queue=draft.imgQueue;\r\n                queue.status='ready';\r\n                queue.listToUpload=imgList;\r\n                //post, postError을 초기화\r\n                draft.post=null;\r\n                draft.postError=null;\r\n            }),\r\n        [WRITE_POST_SUCCESS]: (state, {payload: post})=>\r\n            produce(state, draft=> {\r\n                draft.post=post;\r\n            }),\r\n        [WRITE_POST_FAILURE]: (state, {payload: postError}) => produce(state, draft=> {\r\n            draft.postError=postError;\r\n        }),\r\n        [UPLOAD_QUEUE_SUCCESS]: (state)=>\r\n            produce(state, draft=> {\r\n                draft.imgQueue.status='complete';\r\n            }),\r\n        [UPLOAD_QUEUE_FAILURE]: (state)=>\r\n            produce(state, draft=> {\r\n                draft.imgQueue.status='failure';\r\n            }),\r\n    },\r\n    initialState,\r\n);\r\n\r\nexport default write;","import React, {useEffect} from 'react';\r\nimport ImageForm from '../../../components/community/writePost/ImageForm';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {selectImage} from \"../../../modules/write\";\r\n\r\nconst ImageContainer=()=>{\r\n\r\n\r\n    const { hasImages, imgList, imgCount } = useSelector(({ write }) => ({\r\n        hasImages: write.hasImages,\r\n        imgList: write.imgQueue.imgList, //type: Array [{file: File, id: number, done: boolean}]\r\n        imgCount: write.imgQueue.imgCount,\r\n    }));\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(()=>{\r\n        console.dir(imgList);\r\n    }, [imgList]);\r\n\r\n    const onFileChange = e => {\r\n        console.dir(e.target.files);\r\n        dispatch(\r\n            selectImage({\r\n                file: e.target.files[0], //type: File\r\n                id: imgCount,\r\n                done: false,\r\n            })\r\n        );\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <ImageForm\r\n                hasImages={hasImages}\r\n                onChange={onFileChange}\r\n                imgList={imgList}\r\n            />\r\n\r\n        </>\r\n    )\r\n};\r\nexport default ImageContainer;","import React from 'react';\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nconst useStyles = makeStyles(theme => ({\r\n    paper: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n\r\n    },\r\n    avatar: {\r\n        margin: theme.spacing(1),\r\n        backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    form: {\r\n        width: '100%', // Fix IE 11 issue.\r\n        marginTop: theme.spacing(1),\r\n    },\r\n    submit: {\r\n        margin: theme.spacing(3, 0, 2),\r\n    },\r\n    margin: {\r\n\r\n    },\r\n}));\r\nconst TextForm=({onChangeField, body})=>{\r\n    const classes = useStyles();\r\n    return (\r\n        <>\r\n                <TextField\r\n                    margin=\"normal\"\r\n                    fullWidth\r\n                    id=\"postText\"\r\n                    label=\"공유할 텍스트\"\r\n                    name=\"postText\"\r\n                    autoFocus\r\n                    onChange={onChangeField}\r\n                    value={body}\r\n                    multiline\r\n                />\r\n        </>\r\n    )\r\n};\r\n\r\nexport default TextForm;","import React, {useEffect, useCallback} from 'react';\r\nimport TextForm from '../../../components/community/writePost/TextForm';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {changeField, initialize} from \"../../../modules/write\";\r\n\r\nconst TextContainer=()=>{\r\n    const dispatch = useDispatch();\r\n    const { body } = useSelector(({ write }) => ({\r\n        body: write.body,\r\n    }));\r\n\r\n    const onChangeField=useCallback(e=> {\r\n        console.dir(e);\r\n        console.dir(e.target.value);\r\n        return dispatch(changeField({key: 'body', value: e.target.value}));\r\n    }, [\r\n        dispatch,\r\n    ]);\r\n\r\n\r\n    //언마운트 될 때 초기화\r\n    useEffect(()=> {\r\n        return() => {\r\n            dispatch(initialize());\r\n        };\r\n    }, [dispatch]);\r\n    return (\r\n        <>\r\n            <TextForm onChangeField={onChangeField} body={body} />\r\n        </>\r\n    )\r\n};\r\nexport default TextContainer;","import React from 'react';\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nconst WriteActionButton=({onPublish})=>{\r\n\r\n    return (\r\n        <>\r\n            <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                color=\"primary\"\r\n                variant=\"contained\"\r\n                onClick={onPublish}\r\n            >게시</Button>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default WriteActionButton;","import React, {useEffect} from 'react';\r\nimport WriteActionButton from '../../../components/community/writePost/WriteActionButton';\r\nimport {useSelector, useDispatch} from \"react-redux\";\r\nimport {withRouter} from 'react-router-dom';\r\nimport {writePost} from '../../../modules/write';\r\n\r\nconst WriteActionButtonContainer= ({history}) => {\r\n    const dispatch=useDispatch();\r\n    const { imgList, body, tags, centerTag, category, post, postError}=useSelector(({write})=> ({\r\n        imgList: write.imgQueue.imgList,\r\n        body: write.body,\r\n        tags: write.tags,\r\n        centerTag: write.centerTag,\r\n        category: write.category,\r\n        post: write.post,\r\n        postError: write.postError,\r\n    }));\r\n\r\n    const onPublish = (e)=> {\r\n        e.preventDefault();\r\n        dispatch(\r\n            writePost({\r\n                imgList,\r\n                body,\r\n                tags,\r\n                centerTag,\r\n                category,\r\n            }),\r\n        );\r\n    };\r\n\r\n    const onCancel=()=> {\r\n        history.goBack();\r\n    };\r\n\r\n    useEffect(()=> {\r\n        if(post) {\r\n            history.push('/community');\r\n        }else{\r\n            console.log('no post');\r\n        }\r\n        if(postError){\r\n            console.log(postError);\r\n        }\r\n    }, [history, post, postError]);\r\n    return <WriteActionButton onPublish={onPublish} />;\r\n};\r\n\r\nexport default withRouter(WriteActionButtonContainer);","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport palette from '../../../lib/styles/palette';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport Fab from \"@material-ui/core/Fab\";\r\n\r\nconst TagBoxBlock = styled.div`\r\n  width: 50%;\r\n  //background: aquamarine;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  border-top: 1px solid ${palette.gray[2]};\r\n  //padding-top: 2rem;\r\n  h4 {\r\n    color: ${palette.gray[8]}\r\n    margin-top: 0;\r\n    margin-bottom: 0.5rem;\r\n  }\r\n \r\n`;\r\n\r\nconst StyledFab=styled(Fab)`\r\n    background: linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%);\r\n    //width: 30px;\r\n    //height: 30px;\r\n    text-shadow: 1px 1px 1px #5f687b;\r\n    color: white;\r\n    .icon {\r\n        color: white;\r\n    }\r\n    margin-bottom: 20px;\r\n`;\r\n\r\nconst TagBox=()=>{\r\n\r\n    return(\r\n        <>\r\n            <TagBoxBlock>\r\n                <StyledFab size=\"medium\" aria-label=\"like\" variant=\"extended\">\r\n                    <AddIcon className=\"icon\" />암장 태그하기\r\n                </StyledFab>\r\n            </TagBoxBlock>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default TagBox;","import React from 'react';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport TagBox from '../../../components/community/writePost/TagBox';\r\nimport {changeField} from \"../../../modules/write\";\r\n\r\nconst TagBoxContainer = ()=> {\r\n    const dispatch=useDispatch();\r\n    const tags=useSelector(state=> state.write.tags);\r\n\r\n    const onChangeTags= nextTags => {\r\n        dispatch(\r\n            changeField({\r\n                key: 'tags',\r\n                value: nextTags,\r\n            }),\r\n        );\r\n    };\r\n\r\n    return <TagBox onChangeTags={onChangeTags} tags={tags} />;\r\n};\r\n\r\nexport default TagBoxContainer;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    formControl: {\r\n        margin: theme.spacing(1),\r\n        minWidth: 120,\r\n    },\r\n}));\r\nconst CategorySelectorBlock=styled.div`\r\n    margin: 10px 0;\r\n`\r\n\r\nconst StyledFormControl=styled(FormControl)`\r\n    //background: #61dafb;\r\n    //margin: 1rem;\r\n    //height: 20px;\r\n    width: 200px;\r\n    //border: #61dafb;\r\n`;\r\n\r\n\r\nconst CategorySelector=({ name, value, category, onChange})=>{\r\n    const classes = useStyles();\r\n    //const [category, setcategory] = React.useState('');\r\n    const handleChange = (e) => {\r\n        //setcategory(event.target.value);\r\n        onChange(e);\r\n    };\r\n    return (\r\n        <CategorySelectorBlock>\r\n            <StyledFormControl variant=\"outlined\" size=\"small\">\r\n                <InputLabel id=\"simple-select-outlined-label\">Category</InputLabel>\r\n                <Select\r\n                    value={category}\r\n                    onChange={handleChange}\r\n                    label=\"Category\"\r\n                >\r\n                    <MenuItem value=\"일상\">일상</MenuItem>\r\n                    <MenuItem value=\"정보\">정보</MenuItem>\r\n                    <MenuItem value=\"문제\">문제</MenuItem>\r\n                    <MenuItem value=\"유머\">유머</MenuItem>\r\n                </Select>\r\n            </StyledFormControl>\r\n        </CategorySelectorBlock>\r\n    )\r\n\r\n};\r\n\r\nexport default CategorySelector;","import React, {useCallback, useEffect} from 'react';\r\nimport CategorySelector from '../../../components/community/writePost/CategorySelector';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {selectImage} from \"../../../modules/write\";\r\nimport {changeField} from \"../../../modules/write\";\r\n\r\nconst CategorySeletorContainer=()=>{\r\n\r\n\r\n    const { category, imgList, imgCount } = useSelector(({ write }) => ({\r\n        category: write.category,\r\n        imgList: write.imgQueue.imgList, //type: Array [{file: File, id: number, done: boolean}]\r\n        imgCount: write.imgQueue.imgCount,\r\n    }));\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const onChangeField=useCallback(e=> {\r\n        return dispatch(changeField({key: 'category', value: e.target.value}));\r\n    }, [dispatch]);\r\n\r\n\r\n    return (\r\n        <>\r\n            <CategorySelector\r\n                onChange={onChangeField}\r\n                category={category}\r\n            />\r\n\r\n        </>\r\n    )\r\n};\r\nexport default CategorySeletorContainer;","import React, {useEffect} from \"react\";\r\nimport WriteTemplate from \"../../components/community/writePost/WriteTemplate\";\r\nimport ImageContainer from \"../../containers/community/writePost/ImageContainer\";\r\nimport TextContainer from \"../../containers/community/writePost/TextContainer\";\r\nimport WriteActionButtonContainer from \"../../containers/community/writePost/WriteActionButtonContainer\";\r\nimport TagBoxContainer from \"../../containers/community/writePost/TagBoxContainer\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {withRouter} from 'react-router-dom';\r\nimport CategorySelectorContainer from \"../../containers/community/writePost/CategorySelectorContainer\";\r\n\r\nconst WritePage=({history})=>{\r\n\r\n    const { user } = useSelector(({ user }) => ({ user: user.user }));\r\n    //Todo: login 페이지 모달 창으로 구현하기\r\n    useEffect(()=>{\r\n        if(!user)\r\n        {\r\n            history.push('/login');\r\n        }\r\n    }, [user]);\r\n\r\n    return (\r\n        <WriteTemplate>\r\n            <ImageContainer/>\r\n            <TextContainer/>\r\n            <CategorySelectorContainer/>\r\n            <TagBoxContainer/>\r\n            <WriteActionButtonContainer/>\r\n        </WriteTemplate>\r\n    );\r\n};\r\n\r\nexport default withRouter(WritePage);","import React from 'react';\r\nimport {Route, Switch} from 'react-router-dom';\r\nimport CommunityPage from \"./CommunityPage\";\r\nimport PostPage from \"./PostPage\";\r\nimport WritePage from \"./WritePage\";\r\n\r\nconst Community=({match})=>{\r\n    return (\r\n        <Switch>\r\n            <Route component={CommunityPage} path={`${match.path}`} exact/>\r\n            <Route component={PostPage} path={`${match.path}/@:username/:postId`}/>\r\n            <Route component={WritePage} path={`${match.path}/write`} />\r\n            <Route\r\n                render={({location})=>(\r\n                    <div>\r\n                        <h2>이 페이지는 존재하지 않습니다.</h2>\r\n                        <p>{location.pathname}</p>\r\n                    </div>\r\n                )}\r\n            />\r\n        </Switch>\r\n    );\r\n};\r\nexport default Community;","import React from 'react';\r\nimport styled from 'styled-components';\r\nconst FullScreen=styled.div`\r\n    position: absolute;\r\n    display: flex;\r\n    top: 0;\r\n    bottom: 0;\r\n    right: 0;\r\n    left: 0;\r\n    justify-content: center;\r\n    align-items: center;\r\n    background: #f4f4f4;\r\n    margin-top: 4rem;\r\n`;\r\nconst FormTemplate=styled.div`\r\n    display: flex;\r\n    position: absolute;\r\n    background-color: #ff8be6;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    //max-width: 500px;\r\n    width: 600px;\r\n    @media(max-width: 600px){\r\n        width: 95%;\r\n    }\r\n`;\r\nconst FormHeader=styled.div`\r\n    border-bottom: 0.1px solid #c7c7c7;\r\n    width: 100%;\r\n    text-align: center;\r\n    margin-bottom: 1rem;\r\n`;\r\n\r\nconst EditTemplate=({children})=>{\r\n    return (\r\n        <FullScreen>\r\n            <FormTemplate>\r\n                <FormHeader>\r\n                    <p>프로필 편집</p>\r\n                </FormHeader>\r\n                {children}\r\n            </FormTemplate>\r\n        </FullScreen>\r\n    );\r\n};\r\nexport default EditTemplate;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Button from \"@material-ui/core/Button\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Select from \"@material-ui/core/Select/Select\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        flexGrow: 1,\r\n        backgroundColor: theme.palette.background.paper,\r\n    },\r\n    paper: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        background: 'skyblue',\r\n        width: '100%',\r\n    },\r\n    form: {\r\n        width: '90%',\r\n    },\r\n    label:{\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        justifyContent:'center',\r\n        alignItems: 'center',\r\n    }\r\n}));\r\n\r\nconst StyledButton=styled(Button)`\r\n    margin: 10px;\r\n`;\r\nconst InputLabelBox=styled.label`\r\n    display: grid;\r\n    grid-template-columns: 1fr 2fr;\r\n    //background: #ebb263;\r\n    width: 100%;\r\n    align-items: center;\r\n    \r\n    h3{\r\n      //background: red;\r\n      text-align: right;\r\n      margin-right: 1rem;\r\n    }\r\n`;\r\n\r\nconst SelectBox=({ name, value, label, onChange, list})=>{\r\n    const [selectedValue, setSelectedValue] = React.useState(value);\r\n\r\n    const handleChange = (event) => {\r\n        setSelectedValue(event.target.value);\r\n        onChange(event)\r\n    };\r\n    return (\r\n        <>\r\n            <InputLabelBox>\r\n                <h3>{label}</h3>\r\n                    <Select\r\n                        value={selectedValue}\r\n                        onChange={handleChange}\r\n                        name={name}\r\n                    >\r\n                        {list.map(item=> (\r\n                            <MenuItem value={item} key={item}>{item}</MenuItem>\r\n                        ))}\r\n                    </Select>\r\n            </InputLabelBox>\r\n        </>\r\n    )\r\n};\r\nconst LabelTextField=({ name, value, label, onChange, disabled})=>{\r\n    return (\r\n        <>\r\n            <InputLabelBox>\r\n                <h3>{label}</h3>\r\n                <TextField\r\n                    variant=\"outlined\"\r\n                    margin=\"normal\"\r\n                    required\r\n                    fullWidth\r\n                    name={name}\r\n                    onChange={onChange}\r\n                    disabled={disabled}\r\n                    value={value}\r\n                />\r\n            </InputLabelBox>\r\n        </>\r\n    )\r\n};\r\n\r\nconst EditForm=({onChange, form, onSubmit, profileInfo, username, lv})=>{\r\n    const classes = useStyles();\r\n\r\n    const selectListSex=[\"남성\", \"여성\", \"기타\", \"비공개\"];\r\n    const selectListLv=[\"V0\", \"V1\", \"V2\", \"V3\", \"V4\", \"V5\", \"V6\", \"V7\", \"pro\"];\r\n    return (\r\n        <>\r\n            <div className={classes.paper}>\r\n\r\n                <form className={classes.form} noValidate onSubmit={onSubmit}>\r\n                    <LabelTextField\r\n                        label=\"이름\"\r\n                        name=\"name\"\r\n                        onChange={onChange}\r\n                    />\r\n                    <LabelTextField\r\n                        label=\"사용자 이름\"\r\n                        name=\"username\"\r\n                        onChange={onChange}\r\n                        disabled={true}\r\n                        value={username}\r\n                    />\r\n                    <LabelTextField\r\n                        label=\"전화번호\"\r\n                        name=\"phone\"\r\n                        onChange={onChange}\r\n                    />\r\n\r\n                    <SelectBox\r\n                        label=\"성별\"\r\n                        name=\"sex\"\r\n                        onChange={onChange}\r\n                        list={selectListSex}\r\n                        value={lv}\r\n                    />\r\n                    <SelectBox\r\n                        label=\"레벨\"\r\n                        name=\"lv\"\r\n                        onChange={onChange}\r\n                        list={selectListLv}\r\n                        value={lv}\r\n                    />\r\n                    <StyledButton\r\n                        type=\"submit\"\r\n                        fullWidth\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        className={classes.submit}\r\n                        onClick={onSubmit}\r\n                    >\r\n                        저장\r\n                    </StyledButton>\r\n                </form>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\nexport default EditForm;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\n\r\n\r\nconst Input=styled.input`\r\n    overflow: hidden;\r\n    width: 0;\r\n    height: 0;\r\n    position: absolute;\r\n    top: 0;\r\n`;\r\n\r\n\r\nconst UserImage=styled(Avatar)`\r\n    width: 100px;\r\n    height: 100px;\r\n    @media(max-width: 600px){\r\n        width: 70px;\r\n        height: 70px;\r\n    }\r\n`;\r\nconst FormTemplate=styled.div`\r\n    display: flex;\r\n    position: absolute;\r\n    background-color: white;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    max-width: 500px;\r\n    @media(max-width: 600px){\r\n        width: 95%;\r\n    }\r\n`;\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    avatar: {\r\n        width: '100px',\r\n        height: '100px',\r\n    },\r\n    root: {\r\n        flexGrow: 1,\r\n        backgroundColor: theme.palette.background.paper,\r\n    },\r\n    paper: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n    },\r\n    label:{\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        justifyContent:'center',\r\n        alignItems: 'center',\r\n    }\r\n}));\r\n\r\n\r\n\r\n\r\nconst ImageSelector=({onChange, form, onSubmit})=>{\r\n    const classes = useStyles();\r\n    const [value, setValue] = React.useState(0);\r\n    const handleChange = (event, newValue) => {\r\n        setValue(newValue);\r\n    };\r\n    return (\r\n        <>\r\n            <>\r\n                <label className={classes.label}>\r\n                    <UserImage  alt=\"profile-image\"  />\r\n                    <p>프로필 사진 바꾸기</p>\r\n                    <Input\r\n                        accept=\"image/*\"\r\n                        type=\"file\"\r\n                        name=\"imgCollection\"\r\n                        onChange={onChange}\r\n                    />\r\n                </label>\r\n            </>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default ImageSelector;","import {createAction, handleActions} from 'redux-actions';\r\nimport createRequestSaga, {\r\n    createRequestActionTypes,\r\n} from \"../../lib/createRequestSaga\";\r\nimport { takeLatest, takeEvery, take, call, put, select } from 'redux-saga/effects';\r\nimport {finishLoading, startLoading} from \"../loading\";\r\nimport * as authAPI from \"../../lib/api/auth\";\r\nimport produce from \"immer\";\r\n\r\nconst INITIALIZE='userProfileEdit/INITIALIZE';\r\nconst SELECT_IMAGE='userProfileEdit/SELECT_IMAGE';\r\nconst CHANGE_FIELD='userProfileEdit/CHANGE_FIELD';\r\n\r\nconst [\r\n    LOAD_PROFILE,\r\n    LOAD_PROFILE_SUCCESS,\r\n    LOAD_PROFILE_FAILURE,\r\n] = createRequestActionTypes('userProfileEdit/LOAD_PROFILE');\r\nconst [\r\n    UPLOAD_QUEUE,\r\n    UPLOAD_QUEUE_SUCCESS,\r\n    UPLOAD_QUEUE_FAILURE,\r\n] = createRequestActionTypes('userProfileEdit/UPLOAD_QUEUE');\r\n/*포스트 폼 전체를 담당*/\r\nconst [\r\n    UPDATE_PROFILE,\r\n    UPDATE_PROFILE_SUCCESS,\r\n    UPDATE_PROFILE_FAILURE,\r\n] = createRequestActionTypes('userProfileEdit/UPDATE_PROFILE');\r\n\r\n\r\n/*개별 이미지 파일 업로드 담당*/\r\nconst [\r\n    SAVE_FILE,\r\n    SAVE_FILE_SUCCESS,\r\n    SAVE_FILE_FAILURE,\r\n]= createRequestActionTypes('userProfileEdit/SAVE_FILE');\r\n\r\nexport const initialize=createAction(INITIALIZE);\r\n\r\nexport const selectImage = createAction(SELECT_IMAGE, selectedImg => selectedImg);\r\n\r\nexport const loadProfile=createAction(LOAD_PROFILE);\r\n\r\nexport const changeField=createAction(CHANGE_FIELD, ({key, value}) => ({\r\n    key,\r\n    value,\r\n}));\r\n\r\nexport const writePost=createAction(UPDATE_PROFILE, ({imgList, body, tags , centerTag, category})=> ({\r\n    imgList,\r\n    body,\r\n    tags,\r\n    centerTag,\r\n    category,\r\n}));\r\n//이미지 파일 리스트 업로드를 위한 큐\r\nfunction* uploadQueueSaga(selectedImg){\r\n    console.log(\"큐 시작\");\r\n\r\n        console.dir(selectedImg);\r\n        const response=yield call (saveFileSaga, {\r\n            type: SAVE_FILE,\r\n            payload: {\r\n                fileObject: selectedImg.file,\r\n            },\r\n        });\r\n        if(!response){\r\n            yield put({\r\n                type: UPLOAD_QUEUE_FAILURE\r\n            });\r\n            return false;\r\n        }\r\n    yield put({\r\n        type: UPLOAD_QUEUE_SUCCESS\r\n    });\r\n    return true;\r\n}\r\n//개별 파일 업로드\r\nfunction* saveFileSaga(action) {\r\n    try{\r\n        const response = yield call(authAPI.updateProfileImg, action.payload);\r\n        console.dir(response);console.dir(response.data.url);\r\n        yield put({\r\n            type: SAVE_FILE_SUCCESS,\r\n            payload: {\r\n                url: response.data.url,\r\n                //curOrder: action.payload.curOrder,\r\n            },\r\n        });\r\n        return true;\r\n\r\n    }catch(e){\r\n        console.error(e);\r\n        yield put({\r\n            type: SAVE_FILE_FAILURE,\r\n            payload: e,\r\n            error: true,\r\n        });\r\n        return false;\r\n    }\r\n}\r\n\r\nfunction* updateProfileSaga(action){\r\n    console.dir(action)\r\n    yield put(startLoading(UPDATE_PROFILE));\r\n    const { imgList, body, tags, centerTag, category } = action.payload;\r\n\r\n    if(imgList.length !== 0){\r\n        const isUploaded=yield call (uploadQueueSaga, imgList);\r\n        if(!isUploaded) {\r\n            yield put({\r\n                type: UPDATE_PROFILE_FAILURE,\r\n                payload: 'IMAGE UPLOAD QUEUE ERROR'\r\n            });\r\n            return -1;\r\n        }\r\n    }\r\n    const imgUrlList=yield select(state=> state.write.imgUrlList);\r\n\r\n    try{\r\n        const response=yield call (authAPI.updateProfile, {\r\n            imgUrlList,\r\n            body,\r\n            tags,\r\n            centerTag,\r\n            category,\r\n        });\r\n        console.dir(response);\r\n        yield put({\r\n            type: UPDATE_PROFILE_SUCCESS,\r\n            payload: response.data,\r\n        });\r\n    }catch(e){\r\n        yield put({\r\n            type: UPDATE_PROFILE_FAILURE,\r\n            payload: e,\r\n            error: true,\r\n        })\r\n    }\r\n    yield put(finishLoading(UPDATE_PROFILE));\r\n\r\n}\r\nconst loadProfileSaga=createRequestSaga(LOAD_PROFILE, authAPI.loadProfile);\r\n\r\nexport function* userProfileEditSaga() {\r\n    yield takeLatest(LOAD_PROFILE, loadProfileSaga);\r\n    yield takeLatest(UPLOAD_QUEUE, uploadQueueSaga);\r\n\r\n}\r\n\r\nconst initialState={\r\n    imgQueue: {\r\n        selectedImg: null,\r\n        imageToUpload: null,\r\n        selectError: null,\r\n        status: 'initial', //initial, pending, ready, complete, failure,\r\n        queueError: null,\r\n    },\r\n    username: '',\r\n    phone: '',\r\n    name: '',\r\n    sex: '',\r\n    lv: '',\r\n    introduction: '',\r\n    location: '',\r\n    profileImgUrl: null,\r\n    profile: null,\r\n    profileError: null,\r\n};\r\n\r\nconst userProfileEdit=handleActions(\r\n    {\r\n        [INITIALIZE]: state=> initialState,\r\n        [LOAD_PROFILE_SUCCESS]: (state, {payload: profile})=>({\r\n            ...state,\r\n            phone: profile.phone,\r\n            name: profile.name,\r\n            sex: profile.sex,\r\n            lv: profile.lv,\r\n            introduction: profile.introduction,\r\n            location: profile.location,\r\n            profileImgUrl: profile.profileImgUrl,\r\n        }),\r\n        [CHANGE_FIELD]: (state, {payload: {key, value}})=>({\r\n            ...state,\r\n            [key]: value, //특정 key 값을 업데이트\r\n        }),\r\n        [SELECT_IMAGE]: (state, { payload: selectedImg }) =>\r\n            produce(state, draft => {\r\n                console.dir(selectedImg);\r\n                if (selectedImg.file.name && selectedImg.file.name.match(/.(jpg|jpeg|png|gif)$/i)) {\r\n                    //파일 확장자 검증\r\n                    //draft.imgQueue.imgList.push(selectedImg);\r\n                    //draft.imgQueue.imgCount++;\r\n                    //draft.hasImages=true;\r\n                    draft.imgQueue.imageToUpload=selectedImg;\r\n                }else{\r\n                    //Todo: 이미지 파일이 아닌 파일 선택하면 에러 메세지 보여주기\r\n                    console.log(\"ONLY IMAGE FILE ACCECPTED\");\r\n                    draft.imgQueue.selectError=true;\r\n                }\r\n            }),\r\n        [SAVE_FILE_SUCCESS]: (state, {payload: {url, curOrder}})=>\r\n            produce(state, draft => {\r\n                const queue=draft.imgQueue;\r\n                queue.status='complete';\r\n                queue.uploadedCount++;\r\n                //queue.imgList[curOrder].done=true;\r\n                /*\r\n                queue.listToUpload.splice(\r\n                    queue.listToUpload.findIndex(item => item.id === curOrder),\r\n                    1\r\n                );\r\n                draft.imgUrlList[curOrder]=url;*/\r\n            }),\r\n        [UPDATE_PROFILE]: (state, {payload: {imgList}})=>\r\n            produce(state, draft=> {\r\n                const queue=draft.imgQueue;\r\n                queue.status='ready';\r\n                queue.listToUpload=imgList;\r\n                //post, postError을 초기화\r\n                draft.post=null;\r\n                draft.postError=null;\r\n            }),\r\n        [UPDATE_PROFILE_SUCCESS]: (state, {payload: post})=>\r\n            produce(state, draft=> {\r\n                draft.post=post;\r\n            }),\r\n        [UPDATE_PROFILE_FAILURE]: (state, {payload: postError}) => produce(state, draft=> {\r\n            draft.postError=postError;\r\n        }),\r\n        [UPLOAD_QUEUE_SUCCESS]: (state)=>\r\n            produce(state, draft=> {\r\n                draft.imgQueue.status='complete';\r\n            }),\r\n        [UPLOAD_QUEUE_FAILURE]: (state)=>\r\n            produce(state, draft=> {\r\n                draft.imgQueue.status='failure';\r\n            }),\r\n    },\r\n    initialState,\r\n);\r\n\r\nexport default userProfileEdit;","import React, {useEffect} from 'react';\r\nimport ImageSelector from '../../../components/account/edit/ImageSelector';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {selectImage, loadProfile} from \"../../../modules/accounts/userProfileEdit\";\r\n\r\nconst ImageSelectorContainer=()=>{\r\n\r\n    const {\r\n        user,\r\n        imgQueue,\r\n        selectedImg,\r\n        imageToUpload\r\n    } = useSelector(({ user, userProfileEdit }) => ({\r\n        user: user.user,\r\n        imgQueue: userProfileEdit.imgQueue,\r\n        selectedImg: userProfileEdit.imgQueue.selectedImg, //type: Array [{file: File, id: number, done: boolean}]\r\n        imageToUpload: userProfileEdit.imgQueue.imageToUpload,\r\n    }));\r\n\r\n    const dispatch = useDispatch();\r\n    useEffect(()=>{\r\n        if(user){\r\n            const {_id} = user;\r\n            dispatch(loadProfile(_id));\r\n        }\r\n\r\n        //언마운트 될 때 리덕스에서 form 데이터 없애기\r\n        return ()=>{\r\n            //dispatch(unloadPost());\r\n        };\r\n    }, [dispatch, user]);\r\n\r\n\r\n    const onFileChange = e => {\r\n        console.dir(e.target.files);\r\n        dispatch(\r\n            selectImage({\r\n                file: e.target.files[0], //type: File\r\n            })\r\n        );\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <ImageSelector\r\n                imgQueue={imgQueue}\r\n                onChange={onFileChange}\r\n            />\r\n\r\n        </>\r\n    )\r\n};\r\nexport default ImageSelectorContainer;","import React, {useEffect, useCallback} from 'react';\r\nimport EditForm from '../../../components/account/edit/EditForm';\r\nimport {withRouter} from 'react-router-dom';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport { loadProfile, changeField} from \"../../../modules/accounts/userProfileEdit\";\r\n\r\nconst EditProfileContainer=({history})=>{\r\n    const dispatch = useDispatch();\r\n    const {\r\n        user,\r\n        name,\r\n        username,\r\n        lv,\r\n        introduction,\r\n        location\r\n    } = useSelector(({ user, userProfile }) => ({\r\n        user: user.user,\r\n        name: userProfile.name,\r\n        username: userProfile.username,\r\n        lv: userProfile.lv,\r\n        introduction: userProfile.introduction,\r\n        location: userProfile.location,\r\n    }));\r\n\r\n    //로그인 되어 있지 않으면 홈으로\r\n    useEffect(()=>{\r\n        if(user){\r\n            console.dir(user);\r\n            dispatch(loadProfile());\r\n        }else {\r\n            history.push('/');\r\n        }\r\n    }, [dispatch]);\r\n\r\n\r\n    const onPublish = (e)=> {\r\n        e.preventDefault();\r\n    };\r\n\r\n    const onCancel=()=> {\r\n        history.goBack();\r\n    };\r\n\r\n\r\n    //인풋 변경 이벤트 핸들러\r\n    const onChange = useCallback(e => {\r\n        const { value, name } = e.target;\r\n        dispatch(\r\n            changeField({\r\n                key: name,\r\n                value\r\n            })\r\n        )\r\n    }, [dispatch]);\r\n\r\n    return (\r\n        <>\r\n            <EditForm\r\n                user={user}\r\n                onChange={onChange}\r\n                name={name}\r\n                username={user && user.username}\r\n                lv={lv}\r\n            />\r\n\r\n        </>\r\n    )\r\n};\r\nexport default withRouter(EditProfileContainer);","import React from 'react';\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nconst WriteActionButton=({onClick, label})=>{\r\n\r\n    return (\r\n        <>\r\n            <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                color=\"primary\"\r\n                variant=\"contained\"\r\n                onClick={onClick}\r\n            >{label}</Button>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default WriteActionButton;","import React from 'react';\r\nimport HeaderContainer from \"../../containers/common/HeaderContainer\";\r\nimport EditTemplate from '../../components/account/edit/EditTemplate';\r\nimport EditForm from '../../components/account/edit/EditForm';\r\nimport ImageSelectorContainer from '../../containers/account/edit/ImageSelectorContainer';\r\nimport EditProfileContainer from '../../containers/account/edit/EditProfileContainer';\r\nimport WriteActionButtonContainer from '../../containers/account/edit/WriteActionButtonContainer';\r\nconst EditAccountPage=()=>{\r\n    return (\r\n        <>\r\n            <HeaderContainer/>\r\n            <EditTemplate>\r\n                <ImageSelectorContainer />\r\n                <EditProfileContainer />\r\n            </EditTemplate>\r\n        </>\r\n\r\n    );\r\n};\r\nexport default EditAccountPage;","import React, {useEffect} from 'react';\r\nimport WriteActionButton from '../../../components/common/WriteActionButton';\r\nimport {useSelector, useDispatch} from \"react-redux\";\r\nimport {withRouter} from 'react-router-dom';\r\nimport {writePost} from '../../../modules/write';\r\n\r\nconst WriteActionButtonContainer= ({history}) => {\r\n    const dispatch=useDispatch();\r\n    const { imgList, body, tags, centerTag, category, post, postError}=useSelector(({write})=> ({\r\n        imgList: write.imgQueue.imgList,\r\n        body: write.body,\r\n        tags: write.tags,\r\n        centerTag: write.centerTag,\r\n        category: write.category,\r\n        post: write.post,\r\n        postError: write.postError,\r\n    }));\r\n\r\n    const onPublish = (e)=> {\r\n        e.preventDefault();\r\n        dispatch(\r\n            writePost({\r\n                imgList,\r\n                body,\r\n                tags,\r\n                centerTag,\r\n                category,\r\n            }),\r\n        );\r\n    };\r\n\r\n    const onCancel=()=> {\r\n        history.goBack();\r\n    };\r\n\r\n    useEffect(()=> {\r\n        if(post) {\r\n            history.push('/community');\r\n        }else{\r\n            console.log('no post');\r\n        }\r\n        if(postError){\r\n            console.log(postError);\r\n        }\r\n    }, [history, post, postError]);\r\n    return <WriteActionButton onClick={onPublish} label=\"저장\" />;\r\n};\r\n\r\nexport default withRouter(WriteActionButtonContainer);","import React from 'react';\r\nimport HeaderContainer from \"../../containers/common/HeaderContainer\";\r\nimport EditTemplate from \"../../components/account/edit/EditTemplate\";\r\nimport EditForm from \"../../components/account/edit/EditForm\";\r\n\r\n\r\nconst EditPasswordPage=()=>{\r\n    return (\r\n        <>\r\n            <HeaderContainer/>\r\n            <EditTemplate>\r\n                <EditForm />\r\n            </EditTemplate>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default EditPasswordPage;","import React from 'react';\r\nimport {Route, Switch} from 'react-router-dom';\r\nimport EditAccountPage from \"./EditAccountPage\";\r\nimport EditPasswordPage from \"./EditPasswordPage\";\r\n\r\nconst Account=({match})=>{\r\n    return (\r\n        <Switch>\r\n            <Route component={EditPasswordPage} path={`${match.path}/password`}/>\r\n            <Route component={EditAccountPage} path={`${match.path}/edit`}/>\r\n        </Switch>\r\n\r\n    );\r\n};\r\nexport default Account;","import React from 'react';\r\nimport styled, {createGlobalStyle} from 'styled-components';\r\n\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n\tbody {\r\n\t\tpadding: 0;\r\n\t\tmargin: 0;\r\n\t\t//background-color: #191919;\r\n\t}\r\n`;\r\n\r\nconst UserProfileTemplateBlock=styled.div`\r\n    width: 100%;\r\n    margin: 4rem auto 0 auto;\r\n    padding-top: 1rem;\r\n    //background-color: #315ced;\r\n    justify-content: center;\r\n    display: flex;\r\n    flex-direction: column;\r\n    //flex-wrap: wrap;\r\n    @media(max-width: 600px){\r\n      align-items: center;\r\n      margin-top: 3rem;\r\n      justify-content: center;\r\n    }\r\n    @media(min-width: 900px){\r\n      width: 80%;\r\n    }\r\n    @media(min-width: 1200px){\r\n      width: 1000px;\r\n    }\r\n`;\r\nexport default function UserProfileTemplate({center, loading, error, children, post}){\r\n\r\n    return (\r\n        <>\r\n            <GlobalStyle/>\r\n            <UserProfileTemplateBlock>\r\n                {children}\r\n            </UserProfileTemplateBlock>\r\n        </>\r\n    )\r\n}\r\n","import {makeStyles} from \"@material-ui/core/styles\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport React from \"react\";\r\nimport styled from 'styled-components';\r\n\r\nconst LabelTypographyBlock=styled.div`\r\n    display: flex;\r\n    margin-right: 2rem;\r\n    align-items: center;\r\n    @media(max-width: 500px){\r\n        flex-direction: column;\r\n        margin: 0;\r\n    }\r\n`;\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: 'flex',\r\n        marginRight: '2rem',\r\n        alignItems: 'center',\r\n    },\r\n    labelText: {\r\n        marginRight: '2px',\r\n        fontSize: 'inherit'\r\n    },\r\n    stateText: {\r\n\r\n    },\r\n}));\r\nexport default function LabelTypography({label, value}){\r\n    const classes = useStyles();\r\n    return(\r\n        <LabelTypographyBlock>\r\n            <Typography className={classes.labelText}>\r\n                {label}\r\n            </Typography>\r\n            <Typography className={classes.stateText}>\r\n                {value}\r\n            </Typography>\r\n        </LabelTypographyBlock>\r\n    )\r\n};","import React from 'react';\r\nimport LabelTypography from './molecules/LabelTypography';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport styled from 'styled-components';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Chip from '@material-ui/core/Chip';\r\nimport Button from '@material-ui/core/Button';\r\nimport Skeleton from '@material-ui/lab/Skeleton';\r\n\r\nconst UserProfileBlock=styled.div`\r\n    display: grid;\r\n    //background: #f4a0ce;\r\n    grid-template-columns: 1fr 1fr;\r\n    width: 95%;\r\n    //margin: 2rem;\r\n    @media(max-width: 450px){\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n        flex-wrap: wrap;\r\n    }\r\n`;\r\nconst UserInfoBox=styled.div`\r\n    margin: 2rem 0;\r\n    display: flex;\r\n    width: 100%;\r\n    flex-direction: column;\r\n    @media(max-width: 450px){\r\n        margin: 0;\r\n    }\r\n`;\r\nconst InfoItemWrapper=styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n    margin-bottom: 1.5rem;\r\n    //background-color: aqua;\r\n    .chip {\r\n      margin: 0 1rem;\r\n      background: linear-gradient(to bottom, #EAECC6, #2BC0E4);\r\n    }\r\n    .textSkeleton {\r\n        flex: 1;\r\n        height: 30px;\r\n        margin: 0 1rem;\r\n    }\r\n    @media(max-width: 450px){\r\n        justify-content: space-between;\r\n        flex-wrap: wrap;\r\n    }\r\n`;\r\nconst UserImageWrapper=styled.div`\r\n     .userImage {\r\n          margin: 4rem auto;\r\n          //padding: 10px;\r\n          width: 150px;\r\n          height: 150px;\r\n          @media(max-width: 450px){\r\n              margin: 1rem auto;\r\n              width: 100px;\r\n              height: 100px;\r\n          }\r\n     }\r\n`;\r\n\r\nfunction UserProfile({userProfile, loading}){\r\n    return (\r\n        <UserProfileBlock>\r\n            { (!userProfile || loading) ? <ProfileSkeleton/> : (\r\n                <>\r\n                    <UserImageWrapper>\r\n                        <Avatar className=\"userImage\"/>\r\n                    </UserImageWrapper>\r\n                    <UserInfoBox>\r\n                        <InfoItemWrapper>\r\n                            <Typography variant=\"h5\" component=\"h1\">\r\n                                {userProfile.username}\r\n                            </Typography>\r\n                            <Chip className=\"chip\" size=\"small\" label=\"Lv.1\"/>\r\n                            <Button variant=\"contained\" size=\"small\" color=\"primary\">follow</Button>\r\n                        </InfoItemWrapper>\r\n                        <InfoItemWrapper>\r\n                            <LabelTypography\r\n                                label=\"게시물\"\r\n                                value={userProfile.postCount}\r\n                            />\r\n                            <LabelTypography\r\n                                label=\"팔로워\"\r\n                                value={userProfile.follower.length}\r\n                            />\r\n                            <LabelTypography\r\n                                label=\"팔로우\"\r\n                                value={userProfile.following.length}\r\n                            />\r\n                        </InfoItemWrapper>\r\n                        <Typography variant=\"subtitle1\">\r\n                            {userProfile.name}\r\n                        </Typography>\r\n                    </UserInfoBox>\r\n                </>\r\n            )}\r\n\r\n        </UserProfileBlock>\r\n    )\r\n}\r\n\r\nfunction ProfileSkeleton() {\r\n    return (\r\n        <>\r\n            <UserImageWrapper>\r\n                <Skeleton className=\"userImage\" variant=\"circle\" />\r\n            </UserImageWrapper>\r\n            <UserInfoBox>\r\n                <InfoItemWrapper>\r\n                    <Skeleton className=\"textSkeleton\" variant=\"text\" />\r\n                </InfoItemWrapper>\r\n                <InfoItemWrapper>\r\n                    <Skeleton className=\"textSkeleton\" variant=\"text\" />\r\n                    <Skeleton className=\"textSkeleton\" variant=\"text\" />\r\n                    <Skeleton className=\"textSkeleton\" variant=\"text\" />\r\n                </InfoItemWrapper>\r\n                <InfoItemWrapper>\r\n                    <Skeleton className=\"textSkeleton\" variant=\"text\" />\r\n                </InfoItemWrapper>\r\n            </UserInfoBox>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default UserProfile;","import React from 'react';\r\nimport styled from \"styled-components\";\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\n\r\nconst StyledTab=styled(Tab)`\r\n    color: rgb(82,82,82);\r\n`;\r\nconst StyledTabs=styled(Tabs)`\r\n  \r\n    margin-bottom: 10px;\r\n    border-bottom: 1px solid #8c8c8c;\r\n    @media(max-width: 600px){\r\n        width: 100%;\r\n    }\r\n`;\r\nexport default function HorizontalTab({center, loading, error, children, post}){\r\n    const [value, setValue] = React.useState(0);\r\n    const handleChange = (event, newValue) => {\r\n        console.log(newValue)\r\n        setValue(newValue);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <StyledTabs\r\n                value={value}\r\n                onChange={handleChange}\r\n                indicatorColor='secondary'\r\n                textColor='secondary'\r\n                centered\r\n            >\r\n                <StyledTab label=\"게시물\" />\r\n                <StyledTab label=\"푼 문제\" />\r\n                <StyledTab label=\"방문한 암장\" />\r\n            </StyledTabs>\r\n        </>\r\n    )\r\n}","import client from './client';\r\nimport qs from 'qs';\r\n/* 유저 프로필 api */\r\n\r\n//이미지 업로드\r\nexport const imageUpload=({fileObject}) => {\r\n    console.dir(fileObject);\r\n    //fileObject -> type:File\r\n    const formData=new FormData();\r\n    formData.append('img', fileObject);\r\n    //note: ex)http://localhost:5000/api/community/upload-image 으로 하니 쿠키가 제대로 안넘어감\r\n    return client.post(\"/api/community/upload-image\", formData);\r\n};\r\n\r\n//포스트 전체 업로드\r\nexport const writePost=({imgUrlList, body, tags, centerTag, category})=>\r\n    client.post('/api/community/post', {imgUrlList, body, tags, centerTag, category});\r\n\r\nexport const writeComment=({postId, comment})=>\r\n    client.post(`/api/community/${postId}/comment`, {comment});\r\n\r\n//Get post list\r\nexport const listPosts=({page, username, tag, category})=> {\r\n    const queryString = qs.stringify({\r\n        page,\r\n        username,\r\n        tag,\r\n        category,\r\n    });\r\n    console.log(queryString)\r\n    return client.get(`/api/community?${queryString}`);\r\n};\r\n\r\n//Get single user profile\r\nexport const loadProfile= id => client.get(`/api/users/${id}`);\r\n\r\n//Get single user profile\r\nexport const loadProfileByUsername= username => client.get(`/api/users/${username}`);\r\n","import {createAction, handleActions} from 'redux-actions';\r\nimport createRequestSaga, {\r\n    createRequestActionTypes,\r\n} from \"../../lib/createRequestSaga\";\r\nimport { takeLatest, takeEvery, take, call, put, select } from 'redux-saga/effects';\r\nimport {finishLoading, startLoading} from \"../loading\";\r\nimport * as usersAPI from \"../../lib/api/user\";\r\nimport produce from \"immer\";\r\n\r\nconst INITIALIZE='userProfile/INITIALIZE';\r\nconst SELECT_IMAGE='userProfile/SELECT_IMAGE';\r\nconst CHANGE_FIELD='userProfile/CHANGE_FIELD';\r\n\r\nconst [\r\n    READ_PROFILE,\r\n    READ_PROFILE_SUCCESS,\r\n    READ_PROFILE_FAILURE,\r\n] = createRequestActionTypes('userProfile/READ_PROFILE');\r\nconst [\r\n    UPLOAD_QUEUE,\r\n    UPLOAD_QUEUE_SUCCESS,\r\n    UPLOAD_QUEUE_FAILURE,\r\n] = createRequestActionTypes('userProfile/UPLOAD_QUEUE');\r\n\r\nconst UNLOAD_PROFILE='userProfile/UNLOAD_PROFILE'; //포스트 페이지에서 벗어날 때 데이터 비우기\r\n\r\nexport const initialize=createAction(INITIALIZE);\r\n\r\nexport const readProfile=createAction(READ_PROFILE, username => username);\r\n\r\nexport const unloadProfile=createAction(UNLOAD_PROFILE);\r\n\r\nexport const changeField=createAction(CHANGE_FIELD, ({key, value}) => ({\r\n    key,\r\n    value,\r\n}));\r\n\r\nconst readProfileSaga=createRequestSaga(READ_PROFILE, usersAPI.loadProfileByUsername);\r\n\r\nexport function* userProfileSaga() {\r\n    yield takeLatest(READ_PROFILE, readProfileSaga);\r\n}\r\n\r\nconst initialState={\r\n    userProfile: null,\r\n    profileError: null,\r\n};\r\n\r\nconst userProfile=handleActions(\r\n    {\r\n        [INITIALIZE]: state=> initialState,\r\n        [READ_PROFILE_SUCCESS]: (state, {payload: userProfile})=>({\r\n            ...state,\r\n            userProfile: userProfile, //특정 key 값을 업데이트\r\n        }),\r\n        [UNLOAD_PROFILE]: ()=>initialState,\r\n    },\r\n    initialState,\r\n);\r\n\r\nexport default userProfile;","import React, {useEffect} from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {withRouter} from 'react-router-dom';\r\nimport {readProfile, unloadProfile} from '../../../modules/accounts/userProfile';\r\nimport UserProfile from '../../../components/account/user/UserProfile';\r\n\r\nconst UserProfileContainer=({match})=>{\r\n    //처음 마운트될 때 포스트 읽기 api 요청\r\n    const { username } = match.params;\r\n    const dispatch=useDispatch();\r\n    const {userProfile, error, loading, }=useSelector(({userProfile, loading})=>({\r\n        userProfile: userProfile.userProfile,\r\n        error: userProfile.profileError,\r\n        loading: loading['userProfile/READ_PROFILE'],\r\n    }));\r\n\r\n    useEffect(()=>{\r\n        dispatch(readProfile(username));\r\n        //언마운트 될 때 리덕스에서 포스트 데이터 없애기\r\n        return ()=>{\r\n            dispatch(unloadProfile());\r\n        };\r\n    }, [dispatch, username]);\r\n\r\n\r\n    return (\r\n        <UserProfile\r\n            userProfile={userProfile}\r\n            loading={loading}\r\n            error={error}\r\n        />\r\n    );\r\n};\r\n\r\nexport default withRouter(UserProfileContainer);","import React from 'react';\r\nimport HeaderContainer from \"../../containers/common/HeaderContainer\";\r\nimport UserProfileTemplate from '../../components/account/user/UserProfileTemplate'\r\nimport UserProfile from '../../components/account/user/UserProfile'\r\nimport HorizontalTab from '../../components/account/user/molecules/HorizontalTab'\r\nimport UserProfileContainer from '../../containers/account/user/UserProfileContainer'\r\n\r\nfunction UserProfilePage(){\r\n    return (\r\n        <>\r\n            <HeaderContainer/>\r\n            <UserProfileTemplate>\r\n                <UserProfileContainer />\r\n                <HorizontalTab/>\r\n            </UserProfileTemplate>\r\n        </>\r\n    );\r\n};\r\nexport default UserProfilePage;","import React from 'react';\r\nimport {Route, Switch} from 'react-router-dom';\r\nimport UserProfilePage from \"./UserProfilePage\";\r\n\r\nconst User=({match})=>{\r\n    return (\r\n        <Switch>\r\n            <Route component={UserProfilePage} path={`${match.path}/:username`} exact/>\r\n        </Switch>\r\n\r\n    );\r\n};\r\nexport default User;","import styled from \"styled-components\";\r\nimport React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nconst CenterListTemplateBlock=styled.div`\r\n    display: flex;\r\n   \r\n    flex-direction: column;\r\n    min-height: 100vh;\r\n    width: 100%;\r\n    background: #ECE9E6;  /* fallback for old browsers */\r\n    background: -webkit-linear-gradient(to bottom, #FFFFFF, #ECE9E6);  /* Chrome 10-25, Safari 5.1-6 */\r\n    background: linear-gradient(to bottom, #FFFFFF, #ECE9E6); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\r\n    margin-top: 4rem;\r\n    @media(max-width: 600px){\r\n      margin-top: 3rem;\r\n    }\r\n    align-items: center;\r\n    //overflow: scroll;\r\n`;\r\nconst Responsive=styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    width: 90%;\r\n    @media(min-width: 960px) {\r\n      width: 80%;\r\n    }\r\n    @media(min-width: 1280px) {\r\n      max-width: 1100px;\r\n    }\r\n`;\r\nconst SortingButtonBlock=styled.div`\r\n    margin: 1rem 0 1rem 0;\r\n    align-self: flex-start;\r\n    display: flex;\r\n    \r\n`;\r\nconst StyledTextField=styled(TextField)`\r\n    margin: 0 1rem;\r\n`;\r\nexport default function CenterListTemplate({children}) {\r\n    return (\r\n        <CenterListTemplateBlock>\r\n            <Responsive>\r\n                <SortingButtonBlock>\r\n                    <Button size=\"small\" variant=\"outlined\" color=\"primary\">\r\n                        지역 설정\r\n                    </Button>\r\n                    <form noValidate autoComplete=\"off\">\r\n                        <StyledTextField id=\"outlined-basic\" size=\"small\" label=\"센터 이름으로 검색\" variant=\"outlined\" />\r\n                    </form>\r\n                </SortingButtonBlock>\r\n                {children}\r\n            </Responsive>\r\n        </CenterListTemplateBlock>\r\n    )\r\n}","import {createAction, handleActions} from 'redux-actions';\r\nimport createRequestSaga, {\r\n    createRequestActionTypes\r\n} from \"../../lib/createRequestSaga\";\r\nimport * as centersAPI from '../../lib/api/centers';\r\nimport {takeLatest, call, put, select} from 'redux-saga/effects';\r\n\r\nconst [\r\n    LIST_CENTERS,\r\n    LIST_CENTERS_SUCCESS,\r\n    LIST_CENTERS_FAILURE,\r\n]=createRequestActionTypes('centerList/LIST_CENTERS');\r\n\r\nconst [\r\n    READ_MORE,\r\n    READ_MORE_SUCCESS,\r\n    READ_MORE_FAILURE,\r\n]=createRequestActionTypes('centerList/READ_MORE');\r\n\r\nconst SCROLL_BOTTOM='centerList/SCROLL_BOTTOM';\r\n\r\nexport const listCenters=createAction(\r\n    LIST_CENTERS,\r\n    ({sido, sigungu, page}) => ({sido, sigungu, page}),\r\n);\r\n\r\nexport const scrollBottom=createAction(SCROLL_BOTTOM,\r\n    ({sido, sigungu}) => ({sido, sigungu}),\r\n);\r\n\r\nconst listCentersSaga=createRequestSaga(LIST_CENTERS, centersAPI.listCenters);\r\nconst readMoreCentersSaga=createRequestSaga(READ_MORE, centersAPI.listCenters);\r\n\r\nfunction* scrollBottomSaga(action) {\r\n    console.dir(action);\r\n    const state=yield select();\r\n\r\n    console.dir(state);\r\n    const isLoading=state.loading['centerList/LIST_CENTERS'];\r\n    const centersState=state.centerList;\r\n    if(!isLoading && centersState.centers && centersState.lastPage!==centersState.page) {\r\n        //Todo: lastPage 인 경우 다 읽었다고 띄우기, 스크롤 감지 멈추기\r\n        console.dir(centersState.lastPage);\r\n        console.dir(centersState.page);\r\n        console.dir(action.payload);\r\n\r\n        yield call(readMoreCentersSaga, {\r\n            payload: {\r\n                ...action.payload,\r\n                page: centersState.page+1,\r\n            }\r\n        });\r\n    }else {\r\n        console.log('로딩 중');\r\n    }\r\n}\r\nexport function* centerListSaga(){\r\n    yield takeLatest(LIST_CENTERS, listCentersSaga);\r\n    yield takeLatest(SCROLL_BOTTOM, scrollBottomSaga);\r\n}\r\n\r\nconst initialState={\r\n    sido: null, //시도\r\n    sigungu: null, //시군구\r\n    centers: null,\r\n    search: '', //암장 이름 검색\r\n    error: null,\r\n    lastPage: 1,\r\n    page: 1, //Todo: backend api response 값으로 읽은 페이지 수 가져오기\r\n};\r\n\r\nconst centerList=handleActions(\r\n    {\r\n        [LIST_CENTERS_SUCCESS]: (state, {payload: centers, meta: response}) => ({\r\n            ...state,\r\n            centers,\r\n            lastPage: parseInt(response.headers['last-page'], 10), //문자열을 숫자로 변환\r\n        }),\r\n        [LIST_CENTERS_FAILURE]: (state, {payload: error}) => ({\r\n            ...state,\r\n            error,\r\n        }),\r\n        [READ_MORE_SUCCESS]: (state, {payload: centers, meta: response}) => ({\r\n            ...state,\r\n            centers: state.centers.concat(centers),\r\n            page: state.page+1, //test\r\n            lastPage: parseInt(response.headers['last-page'], 10), //문자열을 숫자로 변환\r\n        }),\r\n    },\r\n    initialState,\r\n);\r\n\r\nexport default centerList;","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CenterCard from \"../../common/CenterCard\";\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport styled from 'styled-components';\r\nconst LoaderBlock=styled.div`\r\n    //background: blue;\r\n    display: flex;\r\n    flex-direction: column;\r\n    //justify-content: center;\r\n    align-items: center;\r\n    width: 100%;\r\n`;\r\nconst CenterListBlock=styled.div`\r\n    display: grid;\r\n    column-gap: 10px;\r\n    row-gap: 10px;\r\n    //background: skyblue;\r\n    width: 100%;\r\n    @media(max-width: 500px) {\r\n      grid-template-columns: repeat(2, 1fr);\r\n    }\r\n    @media(min-width: 500px) {\r\n      grid-template-columns: repeat(3, 1fr);\r\n    }\r\n    @media(min-width: 725px) {\r\n      grid-template-columns: repeat(4, 1fr);\r\n    }\r\n    @media(min-width: 900px) {\r\n      row-gap: 30px;\r\n      column-gap: 15px\r\n    }\r\n    @media(min-width: 1200px) {\r\n      row-gap: 40px;\r\n      column-gap: 15px;\r\n     \r\n    }\r\n`;\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    loaderBox: {\r\n        //background: 'red',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        minHeight: '80px'\r\n    },\r\n}));\r\n\r\nconst CenterList=({initialLoading, readMoreLoading, error, centers, loader,containerRef})=>{\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <LoaderBlock>\r\n            <CenterListBlock ref={containerRef}>\r\n                {!initialLoading && centers && (\r\n                    centers.map(center => (\r\n                        <CenterCard\r\n                            center={center}\r\n                            key={center._id}\r\n                            coloredborder\r\n                        />\r\n                    ))\r\n                )}\r\n            </CenterListBlock>\r\n            <div className={classes.loaderBox}\r\n                 ref={loader}\r\n            >\r\n                {initialLoading && (\r\n                    <>\r\n                        <CircularProgress/>\r\n                    </>\r\n                )}\r\n\r\n                {readMoreLoading && (\r\n                    <CircularProgress />\r\n                )}\r\n\r\n            </div>\r\n        </LoaderBlock>\r\n    )\r\n};\r\n\r\nexport default CenterList;","import React, {useEffect, useRef} from 'react';\r\nimport qs from 'qs';\r\nimport {withRouter} from 'react-router-dom';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {listCenters, scrollBottom} from '../../modules/centers/centerList';\r\nimport CenterList from '../../components/centers/centerList/CenterList';\r\n\r\nconst CenterListContainer=({location})=> {\r\n    const dispatch=useDispatch();\r\n    const loader=useRef();\r\n    const containerRef=useRef();\r\n    const currentPage=useRef(1);\r\n    const {centers, error, centersLoading, user, moreCentersLoading, page}=useSelector(\r\n        ({ centerList, loading, user })=> ({\r\n            centers: centerList.centers,\r\n            error: centerList.error,\r\n            centersLoading: loading['centerList/LIST_CENTERS'],\r\n            user: user.user,\r\n            moreCentersLoading: loading['centerList/READ_MORE'],\r\n            page: centerList.page,\r\n        }),\r\n    );\r\n\r\n    useEffect(()=> {\r\n        const {sido, sigungu, page}=qs.parse(location.search, {\r\n            ignoreQueryPrefix: true,\r\n        });\r\n        currentPage.current=parseInt(page || '1', 10);\r\n        dispatch(listCenters({sido, sigungu, page}));\r\n    }, [dispatch, location.search]);\r\n\r\n    useEffect(()=>{\r\n        console.log('current page state: ', page);\r\n    }, [page]);\r\n\r\n    const options = {\r\n        root: containerRef.current,\r\n        //root: null,\r\n        rootMargin: \"10px\",\r\n        threshold: 0\r\n    };\r\n\r\n\r\n    useEffect(()=>{\r\n        const io = new IntersectionObserver((entries, observer) => {\r\n            entries.forEach(entry => {\r\n                // 관찰 대상이 viewport 안에 들어온 경우 image 로드\r\n                if (entry.isIntersecting) {\r\n                    console.log(entry);\r\n\r\n                    const {tag, username}=qs.parse(location.search, {\r\n                        ignoreQueryPrefix: true,\r\n                    });\r\n                    dispatch(scrollBottom({tag, username})); //page는 redux 내부에서 state 참조함\r\n                }\r\n            })\r\n        }, options);\r\n\r\n        io.observe(loader.current);\r\n        //return io.unobserve(loader.current);\r\n    }, [dispatch]);\r\n\r\n    return (\r\n        <>\r\n            <CenterList\r\n                initialLoading={centersLoading}\r\n                readMoreLoading={moreCentersLoading}\r\n                error={error}\r\n                centers={centers}\r\n                showWriteButton={user}\r\n                loader={loader}\r\n                containerRef={containerRef}\r\n\r\n            />\r\n        </>\r\n\r\n\r\n    );\r\n};\r\n\r\nexport default withRouter(CenterListContainer);","import React from 'react';\r\nimport HeaderContainer from \"../../containers/common/HeaderContainer\";\r\nimport CenterListTemplate from '../../components/centers/centerList/CenterListTemplate';\r\nimport CenterListContainer from \"../../containers/centers/CenterListContainer\";\r\nconst CenterListPage=()=>{\r\n    return (\r\n        <>\r\n            <HeaderContainer/>\r\n            <CenterListTemplate>\r\n                <CenterListContainer/>\r\n            </CenterListTemplate>\r\n        </>\r\n\r\n    );\r\n};\r\nexport default CenterListPage;","import {createAction, handleActions} from 'redux-actions';\r\nimport createRequestSaga, {\r\n    createRequestActionTypes\r\n} from \"../../lib/createRequestSaga\";\r\nimport * as centersAPI from '../../lib/api/centers';\r\nimport {takeLatest} from 'redux-saga/effects';\r\n\r\nconst [\r\n    READ_CENTER,\r\n    READ_CENTER_SUCCESS,\r\n    READ_CENTER_FAILURE,\r\n]=createRequestActionTypes('center/READ_CENTER');\r\nconst UNLOAD_CENTER='center/UNLOAD_CENTER'; //포스트 페이지에서 벗어날 때 데이터 비우기\r\n\r\n\r\nexport const readCenter=createAction(READ_CENTER, id=>id);\r\nexport const unloadCenter=createAction(UNLOAD_CENTER);\r\n\r\nconst readCenterSaga=createRequestSaga(READ_CENTER, centersAPI.readCenter);\r\nexport function* centerSaga(){\r\n    yield takeLatest(READ_CENTER, readCenterSaga);\r\n}\r\n\r\nconst initialState={\r\n    center: null,\r\n    error: null,\r\n};\r\n\r\nconst center=handleActions(\r\n    {\r\n        [READ_CENTER_SUCCESS]: (state, {payload: center})=>({\r\n            ...state,\r\n            center,\r\n        }),\r\n        [READ_CENTER_FAILURE]: (state, {payload: error})=>({\r\n            ...state,\r\n            error,\r\n        }),\r\n        [UNLOAD_CENTER]: ()=>initialState,\r\n    },\r\n    initialState,\r\n);\r\n\r\nexport default center;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport LocationOnIcon from '@material-ui/icons/LocationOn';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport clsx from 'clsx';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport AvatarGroup from '@material-ui/lab/AvatarGroup';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport EventNoteOutlinedIcon from '@material-ui/icons/EventNoteOutlined';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport CallIcon from '@material-ui/icons/Call';\r\nimport HomeOutlinedIcon from '@material-ui/icons/HomeOutlined';\r\nimport AccessibilityNewOutlinedIcon from '@material-ui/icons/AccessibilityNewOutlined';\r\n\r\nconst CenterInfoBlock=styled.div`\r\n\r\n    padding: 0 10px 0 10px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    \r\n    background: white;\r\n    border-radius: 20px;\r\n    @media(max-width: 600px){\r\n        width: 90%;\r\n        margin-top: 15px;\r\n    }\r\n    @media(min-width: 600px){\r\n        align-self: flex-start;\r\n        width: calc(35% - 10px);\r\n        position: -webkit-sticky; /* 사파리 브라우저 지원 */\r\n        position: sticky;\r\n        right: 0; /* ie test */\r\n        top: 4rem;\r\n    }\r\n`;\r\nconst useStyles = makeStyles((theme) => ({\r\n    expand: {\r\n        //background: 'red',\r\n        transform: 'rotate(0deg)',\r\n        marginLeft: 'auto',\r\n        transition: theme.transitions.create('transform', {\r\n            duration: theme.transitions.duration.shortest,\r\n        }),\r\n    },\r\n    expandOpen: {\r\n        transform: 'rotate(180deg)',\r\n    },\r\n    title: {\r\n        fontSize: 'large',\r\n        fontWeight: 'bold',\r\n    },\r\n    textWrapper:{\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n\r\n    },\r\n    priceList:{\r\n        alignSelf: 'end'\r\n    },\r\n    siteList: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n    },\r\n    memberAvatar: {\r\n        marginBottom: '10px',\r\n        marginLeft: '10px',\r\n    },\r\n}));\r\n\r\n\r\nexport default function CenterInfo({center, loading, error, children}){\r\n    const classes = useStyles();\r\n    const [expanded, setExpanded] = React.useState(false);\r\n\r\n    const handleExpandClick = () => {\r\n        setExpanded(!expanded);\r\n    };\r\n    return (\r\n        <>\r\n            <CenterInfoBlock>\r\n                <p className={classes.title}>{center.title}</p>\r\n\r\n                <div className={classes.textWrapper}>\r\n                    <LocationOnIcon className={classes.icon}/>\r\n                    <p>{ center.location}</p>\r\n                </div>\r\n                <div className={classes.textWrapper}>\r\n                    <CallIcon className={classes.icon}/>\r\n                    <p>{ center.contact}</p>\r\n                </div>\r\n                <div className={classes.textWrapper}>\r\n                    <HomeOutlinedIcon className={classes.icon}/>\r\n                    <div className={classes.siteList}>\r\n                        { center.sites.map((site, index)=>(\r\n                            <a key={index} href={site} >\r\n                                {site}\r\n                            </a>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n                <div className={classes.textWrapper}>\r\n                    <EventNoteOutlinedIcon className={classes.icon}/>\r\n\r\n                    <p>가격</p>\r\n                    <IconButton\r\n                        className={clsx(classes.expand, {\r\n                            [classes.expandOpen]: expanded,\r\n                        })}\r\n                        onClick={handleExpandClick}\r\n                        aria-expanded={expanded}\r\n                        aria-label=\"show more\"\r\n                    >\r\n                        <ExpandMoreIcon />\r\n                    </IconButton>\r\n\r\n                </div>\r\n                <Collapse className={classes.priceList} in={expanded} timeout=\"auto\" unmountOnExit>\r\n                    <ul>\r\n                        { center.prices.map((price, index)=>(\r\n                            <li key={price._id}>\r\n                                {`${price.period}: ${price.price}`}\r\n                            </li>\r\n                        ))}\r\n                    </ul>\r\n                </Collapse>\r\n                <div className={classes.textWrapper}>\r\n                    <AccessibilityNewOutlinedIcon className={classes.icon}/>\r\n                    <p>멤버</p>\r\n                </div>\r\n\r\n                <AvatarGroup className={classes.memberAvatar} max={3}>\r\n                    <Avatar alt=\"Remy Sharp\" src=\"/static/images/avatar/1.jpg\" />\r\n                    <Avatar alt=\"Travis Howard\" src=\"/static/images/avatar/2.jpg\" />\r\n                    <Avatar alt=\"Cindy Baker\" src=\"/static/images/avatar/3.jpg\" />\r\n                    <Avatar alt=\"Cindy Baker\" src=\"/static/images/avatar/3.jpg\" />\r\n                    <Avatar alt=\"Cindy Baker\" src=\"/static/images/avatar/3.jpg\" />\r\n                </AvatarGroup>\r\n            </CenterInfoBlock>\r\n\r\n        </>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Carousel from '../../common/Carousel';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport CenterInfo from './CenterInfo';\r\nimport CommunityContainer from \"../../../containers/community/readPost/PostListContainer\";\r\n\r\nconst CarouselWrapper=styled.div`\r\n    border-radius: 10px;\r\n    overflow: hidden;\r\n    width: 100%;\r\n    @media(min-width: 600px){\r\n        align-self: start;\r\n        width: 65%;\r\n    }\r\n`;\r\nconst PostListBlock=styled.div`\r\n    \r\n    display: flex;\r\n    align-self: flex-start;\r\n    flex-direction: column;\r\n    //background: #4eeb39;\r\n    width: 100%;\r\n    padding: 20px;\r\n    @media(min-width: 600px){\r\n        width: 65%;\r\n        padding: 30px;\r\n        \r\n    }\r\n`;\r\nconst StyledTabs=styled(Tabs)`\r\n    //background-color: rgba(255,255,255,0.46);\r\n    margin-bottom: 10px;\r\n    \r\n`;\r\n\r\nconst StyledTab=styled(Tab)`\r\n    color: rgb(255,255,255);\r\n`;\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        maxWidth: 345,\r\n    },\r\n    media: {\r\n        height: 0,\r\n        paddingTop: '56.25%', // 16:9\r\n    },\r\n}));\r\n\r\n\r\nexport default function CenterViewer({center, loading, error, children, post}){\r\n    const [value, setValue] = React.useState(0);\r\n    const handleChange = (event, newValue) => {\r\n        setValue(newValue);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <CarouselWrapper>\r\n                {center && <Carousel imgUrlList={center.imgUrlList} />}\r\n            </CarouselWrapper>\r\n\r\n            {center && (\r\n                <CenterInfo center={center}/>\r\n            )}\r\n            <PostListBlock>\r\n                <StyledTabs\r\n                    value={value}\r\n                    onChange={handleChange}\r\n                    indicatorColor='secondary'\r\n                    textColor='secondary'\r\n                    centered\r\n                >\r\n                    <StyledTab label=\"문제\" />\r\n                    <StyledTab label=\"피드\" />\r\n                    <StyledTab label=\"후기\" />\r\n                </StyledTabs>\r\n                <CommunityContainer/>\r\n            </PostListBlock>\r\n        </>\r\n    )\r\n}\r\n","import React, {useEffect} from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {withRouter} from 'react-router-dom';\r\nimport {readCenter, unloadCenter} from '../../modules/centers/center';\r\nimport CenterViewer from '../../components/centers/centerViewer/CenterViewer';\r\n\r\nconst CenterViewerContainer=({match, history})=>{\r\n    //처음 마운트될 때 포스트 읽기 api 요청\r\n    const { centerId } = match.params;\r\n    const dispatch=useDispatch();\r\n    const {center, error, loading, }=useSelector(({center, loading})=>({\r\n        center: center.center,\r\n        error: center.error,\r\n        loading: loading['center/READ_CENTER'],\r\n    }));\r\n\r\n    useEffect(()=>{\r\n        dispatch(readCenter(centerId));\r\n        //언마운트 될 때 리덕스에서 포스트 데이터 없애기\r\n        return ()=>{\r\n            dispatch(unloadCenter());\r\n        };\r\n    }, [dispatch, centerId]);\r\n\r\n\r\n    return (\r\n        <CenterViewer\r\n            center={center}\r\n            loading={loading}\r\n            error={error}\r\n\r\n        />\r\n    );\r\n};\r\n\r\nexport default withRouter(CenterViewerContainer);","import React from 'react';\r\nimport styled, {createGlobalStyle} from 'styled-components';\r\n\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n\tbody {\r\n\t\tpadding: 0;\r\n\t\tmargin: 0;\r\n\t\tbackground-color: #191919;\r\n\t}\r\n`;\r\nconst Responsive=styled.div`\r\n    //background-color: #eb679d;\r\n    justify-content: center;\r\n    align-items: center;\r\n    width: 100%;\r\n    @media(min-width: 960px) {\r\n      width: 80%;\r\n    }\r\n    @media(min-width: 1280px) {\r\n      max-width: 1024px;\r\n    }\r\n`;\r\nconst CenterViewerTemplateBlock=styled(Responsive)`\r\n    width: 100%;\r\n    margin: 4rem auto 0 auto;\r\n    padding-top: 1rem;\r\n    //background-color: #315ced;\r\n    justify-content: space-between;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    @media(max-width: 600px){\r\n      align-items: center;\r\n      margin-top: 3rem;\r\n      justify-content: center;\r\n    }\r\n    \r\n   \r\n`;\r\nexport default function CenterViewerTemplate({center, loading, error, children, post}){\r\n\r\n    return (\r\n        <>\r\n            <GlobalStyle/>\r\n            <CenterViewerTemplateBlock>\r\n                {children}\r\n            </CenterViewerTemplateBlock>\r\n        </>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport HeaderContainer from \"../../containers/common/HeaderContainer\";\r\nimport CenterViewerContainer from '../../containers/centers/CenterViewerContainer'\r\nimport CommunityContainer from '../../containers/community/readPost/PostListContainer'\r\nimport CenterViewerTemplate from '../../components/centers/centerViewer/CenterViewerTemplate'\r\nconst CenterPage=()=>{\r\n    return (\r\n        <>\r\n            <HeaderContainer/>\r\n            <CenterViewerTemplate>\r\n                <CenterViewerContainer />\r\n            </CenterViewerTemplate>\r\n\r\n\r\n        </>\r\n\r\n    );\r\n};\r\n\r\nexport default CenterPage;","import React from 'react';\r\nimport {Route, Switch} from 'react-router-dom';\r\n\r\nimport CenterListPage from \"./CenterListPage\";\r\nimport CenterPage from \"./CenterPage\";\r\n\r\nconst Centers=({match})=>{\r\n    return (\r\n        <Switch>\r\n            <Route component={CenterListPage} path={`${match.path}`} exact/>\r\n            <Route component={CenterPage} path={`${match.path}/:centerId`} exact/>\r\n            <Route\r\n                render={({location})=>(\r\n                    <div>\r\n                        <h2>이 페이지는 존재하지 않습니다.</h2>\r\n                        <p>{location.pathname}</p>\r\n                    </div>\r\n                )}\r\n            />\r\n        </Switch>\r\n    );\r\n};\r\nexport default Centers;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {AutoSizer, List} from 'react-virtualized';\r\nimport styled from 'styled-components';\r\n\r\nconst ListBlock=styled.div`\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    left: 0;\r\n    bottom: 0;\r\n    background: red;\r\n    padding: 100px;\r\n`;\r\n\r\nconst Row=styled.div`\r\n    background: skyblue;\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 200px;\r\n    @media(min-width: 960px) {\r\n      width: 500px;\r\n      background: peru;\r\n    }\r\n    @media(min-width: 1280px) {\r\n      width: 700px;\r\n    }\r\n\r\n`\r\n\r\nconst list = [\r\n    'Brian Vaughn','Brian Vaughn','Brian Vaughn','Brian Vaughn','Brian Vaughn','Brian Vaughn',\r\n    'Brian Vaughn','Brian Vaughn','Brian Vaughn','Brian Vaughn','Brian Vaughn','Brian Vaughn',\r\n    'Brian Vaughn','Brian Vaughn','Brian Vaughn','Brian Vaughn','Brian Vaughn','Brian Vaughn',\r\n    // And so on...\r\n];\r\n\r\nfunction rowRenderer({key, index, style}) {\r\n    return (\r\n        <Row key={key} style={style}>\r\n            {list[index]}\r\n        </Row>\r\n    );\r\n}\r\n\r\n// Render your list\r\nexport default function VirtualizingTest() {\r\n    return(\r\n        <ListBlock>\r\n            <AutoSizer>\r\n                {({height, width}) => (\r\n                    <List\r\n                        height={height}\r\n                        rowCount={list.length}\r\n                        rowHeight={height/4}\r\n                        rowRenderer={rowRenderer}\r\n                        width={width}\r\n                    />\r\n                )}\r\n            </AutoSizer>\r\n        </ListBlock>\r\n\r\n\r\n    )\r\n}\r\n","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport List from '@material-ui/core/List';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport InboxIcon from '@material-ui/icons/MoveToInbox';\r\nimport MailIcon from '@material-ui/icons/Mail';\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: 'flex',\r\n        position: 'absolute',\r\n        left: 0,\r\n        top: 0,\r\n        bottom: 0,\r\n        right: 0,\r\n    },\r\n    appBar: {\r\n        zIndex: theme.zIndex.drawer + 1,\r\n        transition: theme.transitions.create(['width', 'margin'], {\r\n            easing: theme.transitions.easing.sharp,\r\n            duration: theme.transitions.duration.leavingScreen,\r\n        }),\r\n    },\r\n    appBarShift: {\r\n        marginLeft: drawerWidth,\r\n        width: `calc(100% - ${drawerWidth}px)`,\r\n        transition: theme.transitions.create(['width', 'margin'], {\r\n            easing: theme.transitions.easing.sharp,\r\n            duration: theme.transitions.duration.enteringScreen,\r\n        }),\r\n    },\r\n    menuButton: {\r\n        marginRight: 36,\r\n    },\r\n    hide: {\r\n        display: 'none',\r\n    },\r\n    drawer: {\r\n        width: drawerWidth,\r\n        flexShrink: 0,\r\n        whiteSpace: 'nowrap',\r\n    },\r\n    drawerOpen: {\r\n        width: drawerWidth,\r\n        transition: theme.transitions.create('width', {\r\n            easing: theme.transitions.easing.sharp,\r\n            duration: theme.transitions.duration.enteringScreen,\r\n        }),\r\n    },\r\n    drawerClose: {\r\n        transition: theme.transitions.create('width', {\r\n            easing: theme.transitions.easing.sharp,\r\n            duration: theme.transitions.duration.leavingScreen,\r\n        }),\r\n        overflowX: 'hidden',\r\n        width: theme.spacing(7) + 1,\r\n        [theme.breakpoints.up('sm')]: {\r\n            width: theme.spacing(9) + 1,\r\n        },\r\n    },\r\n    toolbar: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'flex-end',\r\n        //padding: theme.spacing(0, 1),\r\n        // necessary for content to be below app bar\r\n        ...theme.mixins.toolbar,\r\n    },\r\n    content: {\r\n        marginTop: '4rem',\r\n        flex: 1,\r\n        display: 'flex',\r\n        //alignItems: 'stretch',\r\n        //justifyContent: 'center',\r\n        background: 'red',\r\n    },\r\n}));\r\n\r\nexport default function SideAppBar({children}) {\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n    const [open, setOpen] = React.useState(false);\r\n\r\n    const handleDrawerOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleDrawerClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <CssBaseline />\r\n            <AppBar\r\n                position=\"fixed\"\r\n                className={clsx(classes.appBar, {\r\n                    [classes.appBarShift]: open,\r\n                })}\r\n            >\r\n                <Toolbar>\r\n                    <IconButton\r\n                        color=\"inherit\"\r\n                        aria-label=\"open drawer\"\r\n                        onClick={handleDrawerOpen}\r\n                        edge=\"start\"\r\n                        className={clsx(classes.menuButton, {\r\n                            [classes.hide]: open,\r\n                        })}\r\n                    >\r\n                        <MenuIcon />\r\n                    </IconButton>\r\n                    <Typography variant=\"h6\" noWrap>\r\n                        Mini variant drawer\r\n                    </Typography>\r\n                </Toolbar>\r\n            </AppBar>\r\n            <Drawer\r\n                variant=\"permanent\"\r\n                className={clsx(classes.drawer, {\r\n                    [classes.drawerOpen]: open,\r\n                    [classes.drawerClose]: !open,\r\n                })}\r\n                classes={{\r\n                    paper: clsx({\r\n                        [classes.drawerOpen]: open,\r\n                        [classes.drawerClose]: !open,\r\n                    }),\r\n                }}\r\n            >\r\n                <div className={classes.toolbar}>\r\n                    <IconButton onClick={handleDrawerClose}>\r\n                        {theme.direction === 'rtl' ? <ChevronRightIcon /> : <ChevronLeftIcon />}\r\n                    </IconButton>\r\n                </div>\r\n                <Divider />\r\n                <List>\r\n                    {['Inbox', 'Starred', 'Send email', 'Drafts'].map((text, index) => (\r\n                        <ListItem button key={text}>\r\n                            <ListItemIcon>{index % 2 === 0 ? <InboxIcon /> : <MailIcon />}</ListItemIcon>\r\n                            <ListItemText primary={text} />\r\n                        </ListItem>\r\n                    ))}\r\n                </List>\r\n                <Divider />\r\n                <List>\r\n                    {['All mail', 'Trash', 'Spam'].map((text, index) => (\r\n                        <ListItem button key={text}>\r\n                            <ListItemIcon>{index % 2 === 0 ? <InboxIcon /> : <MailIcon />}</ListItemIcon>\r\n                            <ListItemText primary={text} />\r\n                        </ListItem>\r\n                    ))}\r\n                </List>\r\n            </Drawer>\r\n            <main className={classes.content}>\r\n                <div className={classes.toolbar} />\r\n                {children}\r\n            </main>\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst FormTemplateBlock=styled.div`\r\n    flex: 1;\r\n    background: gray;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: flex-start;\r\n    overflow: scroll;\r\n    padding: 4rem;\r\n`;\r\nconst WhiteBox=styled.div`\r\n    box-shadow: 0 0 8px rgba(0, 0, 0, 0.025);\r\n    padding: 2rem;\r\n    width: 60%;\r\n    background: white;\r\n    border-radius: 2px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n    &>:nth-child(3) {order: -1};\r\n    &>:nth-child(1) {order: -1};\r\n    &>*{\r\n        flex:1\r\n    };\r\n    //height: 300px;\r\n    //margin-top: 4rem;\r\n`;\r\n\r\nconst FormTemplate=({children})=>{\r\n\r\n    return (\r\n        <FormTemplateBlock>\r\n            <WhiteBox>\r\n                {children}\r\n            </WhiteBox>\r\n        </FormTemplateBlock>\r\n    )\r\n};\r\n\r\nexport default FormTemplate;","import styled, {css} from \"styled-components\";\r\nimport OutlinedInput from \"@material-ui/core/OutlinedInput\";\r\nimport React from \"react\";\r\n//before: styled.label\r\nexport const InputLabelBox=styled.div`\r\n    display: grid;\r\n    grid-template-columns: 1fr 2fr;\r\n    width: 100%;\r\n    align-items: center;\r\n    flex: 1;\r\n`;\r\n\r\nexport const StyledInput=styled(OutlinedInput)`\r\n    height: 40px;\r\n    ${props =>\r\n    props.right &&\r\n    css`\r\n        grid-column: 2 / 3;\r\n        margin-bottom: 4px;\r\n    `}  \r\n`;\r\n\r\nexport const InputWithLabel=({ label, name, value, onChange })=>{\r\n    return (\r\n        <>\r\n            <InputLabelBox>\r\n                <h3>{label}</h3>\r\n                <StyledInput name={name} value={value} onChange={onChange}/>\r\n            </InputLabelBox>\r\n        </>\r\n    )\r\n};\r\n\r\n/*\r\n\r\nconst InputLabelBox=styled.label`\r\n    display: grid;\r\n    grid-template-columns: 1fr 2fr;\r\n    //background: skyblue;\r\n    width: 100%;\r\n    align-items: center;\r\n    flex: 1;\r\n`;\r\n* */\r\n\r\n","import Fab from \"@material-ui/core/Fab\";\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport React, {useCallback, useEffect, useState} from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { StyledInput, InputLabelBox } from \"./commonComponents\";\r\nimport palette from \"../../../../lib/styles/palette\";\r\n\r\nconst Site = styled.div`\r\n    margin-right: 0.5rem;\r\n    color: ${palette.gray[6]};\r\n    cursor: pointer;\r\n    &:hover {\r\n      opacity: 0.5;\r\n    }\r\n`;\r\n\r\nconst ItemListBlock = styled.div`\r\n    display: flex;\r\n    margin-top: 0.5rem;\r\n    flex-direction: column;\r\n    grid-column: 2 / 3;\r\n`;\r\n\r\nconst ArrayForm=styled.form`\r\n    display: flex;\r\n    align-items: center;\r\n    width: 100%;\r\n  \r\n    .input {\r\n      flex: 1;\r\n    }\r\n    .button{\r\n      margin: 0 10px 0 10px;\r\n    }\r\n`;\r\n\r\n//React.memo 를 사용하여 tag값이 바뀔 때만 리렌더링 되도록 처리\r\nconst SiteItem=React.memo(({tag, onRemove})=>(\r\n    <Site onClick={()=>onRemove(tag)}>#{tag}</Site>)\r\n);\r\n\r\n//React.memo를 사용하여 tags 값이 바뀔 때만 리렌더링되도록 처리\r\nconst ItemList=React.memo(({tags, onRemove})=>{\r\n    return(\r\n    <ItemListBlock>\r\n        {tags.map(tag=>(\r\n            <SiteItem key={tag} tag={tag} onRemove={onRemove}/>\r\n        ))}\r\n    </ItemListBlock>\r\n)});\r\n\r\n\r\nconst ArrayBox=({ tags, onChangeArray, name, label })=>{\r\n\r\n    const [input, setInput]=useState('');\r\n    const [localTags, setLocalTags]=useState([]);\r\n    const insertTag=useCallback(\r\n        tag=> {\r\n            if(!tag) return; //공백이라면 추가하지 않음\r\n            if(localTags.includes(tag)) return; //이미 존재한다면 추가하지 않음\r\n            const nextTags=[...localTags, tag];\r\n            setLocalTags(nextTags);\r\n            onChangeArray(name, nextTags);\r\n        },\r\n        [localTags, onChangeArray],\r\n    );\r\n\r\n    const onRemove=useCallback(\r\n        tag=> {\r\n            const nextTags=localTags.filter(t=> t!==tag);\r\n            setLocalTags(nextTags);\r\n            onChangeArray(name , nextTags);\r\n        },\r\n        [localTags, onChangeArray],\r\n    );\r\n\r\n    const onChange=useCallback(e=>{\r\n        setInput(e.target.value);\r\n    }, []);\r\n\r\n    const onSubmit=useCallback(\r\n        e=> {\r\n            e.preventDefault();\r\n            insertTag(input.trim());\r\n            setInput('');\r\n        },\r\n        [input, insertTag],\r\n    );\r\n\r\n    //tags 값이 바뀔 때\r\n    useEffect(()=>{\r\n        setLocalTags(tags);\r\n    }, [tags]);\r\n\r\n    return (\r\n        <InputLabelBox>\r\n            <h3>{label}</h3>\r\n            <ArrayForm onSubmit={onSubmit}>\r\n                <StyledInput\r\n                    className=\"input\"\r\n                    placeholder=\"태그를 입력하세요\"\r\n                    name={name}\r\n                    value={input}\r\n                    onChange={onChange}\r\n                />\r\n                <Fab className=\"button\" size=\"small\" color=\"primary\" aria-label=\"add\" type=\"submit\">\r\n                    <AddIcon />\r\n                </Fab>\r\n            </ArrayForm>\r\n            <ItemList tags={localTags} onRemove={onRemove}/>\r\n        </InputLabelBox>\r\n    )\r\n};\r\n\r\nexport default ArrayBox;","import Fab from \"@material-ui/core/Fab\";\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport React, {useCallback, useEffect, useState} from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { StyledInput, InputLabelBox } from './commonComponents';\r\nimport palette from \"../../../../lib/styles/palette\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    formControl: {\r\n        margin: theme.spacing(1),\r\n        minWidth: 120,\r\n    },\r\n    selectEmpty: {\r\n        marginTop: theme.spacing(2),\r\n    },\r\n}));\r\n\r\nconst PriceForm=styled.form`\r\n    display: flex;\r\n    align-items: center;\r\n    width: 100%;\r\n    .button{\r\n      margin-left: 10px;\r\n      \r\n    }\r\n`;\r\n\r\nconst Price = styled.div`\r\n    margin-right: 0.5rem;\r\n    color: ${palette.gray[6]};\r\n    cursor: pointer;\r\n    &:hover {\r\n      opacity: 0.5;\r\n    }\r\n`;\r\n\r\nconst PriceListBlock = styled.div`\r\n    display: flex;\r\n    margin-top: 0.5rem;\r\n    flex-direction: column;\r\n    grid-column: 2 / 3;\r\n`;\r\n\r\n//React.memo 를 사용하여 tag값이 바뀔 때만 리렌더링 되도록 처리\r\nconst PriceItem=React.memo(({price, onRemove})=>(\r\n    <Price onClick={()=>onRemove(price)}>{price.period} : {price.price}</Price>)\r\n);\r\n\r\n//React.memo를 사용하여 tags 값이 바뀔 때만 리렌더링되도록 처리\r\nconst PriceList=React.memo(({prices, onRemove})=>\r\n{\r\n    return(\r\n    <PriceListBlock>\r\n        {prices.map((price, index)=>{\r\n            console.dir(price);\r\n            return(\r\n            <PriceItem key={index} price={price} onRemove={onRemove}/>\r\n        )})}\r\n    </PriceListBlock>\r\n)});\r\n\r\n\r\nconst PriceBox=({ label, prices, onChangeArray })=>{\r\n    const classes = useStyles();\r\n    const [localPrices, setLocalPrices]=useState([]);\r\n    const [state, setState] = React.useState({\r\n        period: '',\r\n        price: '',\r\n    });\r\n\r\n\r\n    const insertPrice=useCallback(\r\n        price=> {\r\n            if(!price) return; //공백이라면 추가하지 않음\r\n            if(localPrices.includes(price)) return; //이미 존재한다면 추가하지 않음\r\n            const nextPrices=[...localPrices, price];\r\n            setLocalPrices(nextPrices);\r\n            onChangeArray(\"prices\", nextPrices);\r\n        },\r\n        [localPrices, onChangeArray],\r\n    );\r\n\r\n    const onRemove=useCallback(\r\n        tag=> {\r\n            const nextTags=localPrices.filter(t=> t!==tag);\r\n            setLocalPrices(nextTags);\r\n            onChangeArray(\"prices\", nextTags);\r\n        },\r\n        [localPrices, onChangeArray],\r\n    );\r\n\r\n    const onChange=useCallback(e=>{\r\n        setState({\r\n            ...state,\r\n            [e.target.name]: e.target.value,\r\n        });\r\n    }, [state]);\r\n\r\n    const onSubmit=useCallback(\r\n        e=> {\r\n            e.preventDefault();\r\n\r\n            console.dir(state);\r\n            insertPrice(state);\r\n        },\r\n        [state, insertPrice],\r\n    );\r\n\r\n    //tags 값이 바뀔 때\r\n    useEffect(()=>{\r\n        setLocalPrices(prices);\r\n    }, [prices]);\r\n\r\n\r\n    const handleChange = (event) => {\r\n        const name = event.target.name;\r\n\r\n        setState({\r\n            ...state,\r\n            [name]: event.target.value,\r\n        });\r\n    };\r\n    return (\r\n        <InputLabelBox>\r\n            <h3>{label}</h3>\r\n            <PriceForm>\r\n                <FormControl className={classes.formControl} onSubmit={onSubmit}>\r\n                    <InputLabel id=\"demo-simple-select-helper-label\">기간</InputLabel>\r\n                    <Select\r\n                        className=\"select\"\r\n                        value={state.period}\r\n                        onChange={handleChange}\r\n                        inputProps={{\r\n                            name: 'period',\r\n                            id: 'id-period',\r\n                        }}\r\n                    >\r\n                        <MenuItem value=\"체험강습\">체험강습</MenuItem>\r\n                        <MenuItem value=\"1일 이용권\">1일 이용권</MenuItem>\r\n                        <MenuItem value=\"1개월(성인)\">1개월(성인)</MenuItem>\r\n                        <MenuItem value=\"1개월(대학생)\">1개월(대학생)</MenuItem>\r\n                        <MenuItem value=\"1개월(청소년)\">1개월(청소년)</MenuItem>\r\n                        <MenuItem value=\"3개월(성인)\">3개월(성인)</MenuItem>\r\n                    </Select>\r\n                </FormControl>\r\n                <StyledInput\r\n                    className=\"input\"\r\n                    placeholder=\"가격\"\r\n                    name=\"price\"\r\n                    type=\"number\"\r\n                    value={state.price}\r\n                    onChange={onChange}\r\n                />\r\n                <Fab className=\"button\" size=\"small\" color=\"primary\" aria-label=\"add\" type=\"submit\" onClick={onSubmit}>\r\n                    <AddIcon />\r\n                </Fab>\r\n            </PriceForm>\r\n\r\n            <PriceList prices={localPrices} onRemove={onRemove}/>\r\n        </InputLabelBox>\r\n    )\r\n};\r\nexport default PriceBox;\r\n","import React, { useEffect} from 'react';\r\nimport { InputLabelBox } from \"./commonComponents\";\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormGroup from '@material-ui/core/FormGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\n\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nconst useStyles = makeStyles((theme) => ({\r\n    formControl: {\r\n        margin: theme.spacing(3),\r\n    },\r\n}));\r\n\r\nconst CheckBox=({ label, onChangeCheck})=>{\r\n    const classes = useStyles();\r\n\r\n    const [state, setState] = React.useState({\r\n        bouldering: true,\r\n        endurance: true,\r\n        lead: false,\r\n        speed: false,\r\n        outside: false,\r\n    });\r\n\r\n    useEffect(()=>{\r\n        onChangeCheck(state);\r\n    }, [state]);\r\n\r\n    const handleChange = (event) => {\r\n        setState({ ...state, [event.target.name]: event.target.checked });\r\n    };\r\n\r\n    const { bouldering, endurance, lead, speed, outside } = state;\r\n\r\n    return (\r\n        <>\r\n            <InputLabelBox>\r\n                <h3>{label}</h3>\r\n                <FormControl component=\"fieldset\" className={classes.formControl}>\r\n                    <FormGroup>\r\n                        <FormControlLabel\r\n                            control={<Checkbox checked={bouldering} onChange={handleChange} name=\"bouldering\" />}\r\n                            label=\"bouldering\"\r\n                        />\r\n                        <FormControlLabel\r\n                            control={<Checkbox checked={endurance} onChange={handleChange} name=\"endurance\" />}\r\n                            label=\"endurance\"\r\n                        />\r\n                        <FormControlLabel\r\n                            control={<Checkbox checked={lead} onChange={handleChange} name=\"lead\" />}\r\n                            label=\"lead\"\r\n                        />\r\n                        <FormControlLabel\r\n                            control={<Checkbox checked={speed} onChange={handleChange} name=\"speed\" />}\r\n                            label=\"speed\"\r\n                        />\r\n                        <FormControlLabel\r\n                            control={<Checkbox checked={outside} onChange={handleChange} name=\"outside\" />}\r\n                            label=\"outside\"\r\n                        />\r\n                    </FormGroup>\r\n                </FormControl>\r\n            </InputLabelBox>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default CheckBox;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    formControl: {\r\n        margin: theme.spacing(1),\r\n        minWidth: 120,\r\n    },\r\n}));\r\nconst InputLabelBox=styled.label`\r\n    display: grid;\r\n    grid-template-columns: 1fr 2fr;\r\n    //background: skyblue;\r\n    width: 100%;\r\n    align-items: center;\r\n`;\r\n\r\nconst BooleanSelectBox=({ name, value, label, onChangeField})=>{\r\n    const classes = useStyles();\r\n\r\n    const handleChange = (event) => {\r\n        const name = event.target.name;\r\n        console.dir(name);\r\n        const value = event.target.value;\r\n        console.dir(value);\r\n        onChangeField(event)\r\n    };\r\n    return (\r\n        <>\r\n            <InputLabelBox>\r\n                <h3>{label}</h3>\r\n                <FormControl className={classes.formControl}>\r\n                    <Select\r\n                        value={value}\r\n                        onChange={handleChange}\r\n                        name={name}\r\n                    >\r\n                        <MenuItem value={true}>true</MenuItem>\r\n                        <MenuItem value={false}>false</MenuItem>\r\n                    </Select>\r\n                </FormControl>\r\n            </InputLabelBox>\r\n        </>\r\n    )\r\n\r\n};\r\n\r\nexport default BooleanSelectBox;","import React from 'react';\r\nimport ArrayBox from './common/ArrayBox';\r\nimport PriceBox from './common/PriceBox';\r\nimport CheckBox from './common/CheckBox';\r\nimport BooleanSelectBox from './common/BooleanSelectBox';\r\nimport { InputWithLabel } from \"./common/commonComponents\";\r\n\r\nconst SaveForm=(\r\n    {\r\n        title,\r\n        imageSource,\r\n        contact,\r\n        sites,\r\n        prices,\r\n        time,\r\n        hasParking,\r\n        onChangeCheck,\r\n        onChangeField,\r\n        onChangeArray\r\n}) => {\r\n    return (\r\n        <>\r\n            <InputWithLabel\r\n                label=\"Title\"\r\n                name=\"title\"\r\n                value={title}\r\n                onChange={onChangeField}\r\n            />\r\n            <ArrayBox\r\n                tags={imageSource}\r\n                onChangeArray={onChangeArray}\r\n                name=\"imageSource\"\r\n                label=\"ImageSource\"\r\n            />\r\n            <InputWithLabel\r\n                label=\"Contact\"\r\n                name=\"contact\"\r\n                value={contact}\r\n                onChange={onChangeField}\r\n            />\r\n            <ArrayBox\r\n                tags={sites}\r\n                onChangeArray={onChangeArray}\r\n                name=\"sites\"\r\n                label=\"Site\"\r\n            />\r\n            <PriceBox\r\n                label=\"Price\"\r\n                prices={prices}\r\n                onChangeArray={onChangeArray}\r\n            />\r\n            <InputWithLabel\r\n                label=\"Operating hours\"\r\n                name=\"time\"\r\n                value={time}\r\n                onChange={onChangeField}\r\n            />\r\n            <BooleanSelectBox\r\n                onChangeField={onChangeField}\r\n                value={hasParking}\r\n                name=\"hasParking\"\r\n                label=\"Parking\"\r\n            />\r\n            <CheckBox\r\n                label=\"Facility\"\r\n                onChangeCheck={onChangeCheck}\r\n            />\r\n        </>\r\n    )\r\n};\r\n\r\nexport default SaveForm;","import client from '../client';\r\nimport qs from 'qs';\r\n\r\n//이미지 업로드\r\nexport const imageUpload=({fileObject}) => {\r\n    console.dir(fileObject);\r\n    //fileObject -> type:File\r\n    const formData=new FormData();\r\n\r\n    formData.append('img', fileObject);\r\n\r\n    //note: ex)http://localhost:5000/api/community/upload-image 으로 하니 쿠키가 제대로 안넘어감\r\n    return client.post(\"/api/admin/uploadCenterImage\", formData);\r\n};\r\n\r\n//암장 정보 전체 업로드\r\nexport const saveCenter = (data) =>\r\n    client.post('/api/admin/saveCenter', data);\r\n\r\nexport const listCenters=({page, username, tag})=> {\r\n    const queryString = qs.stringify({\r\n        page,\r\n        username,\r\n        tag,\r\n    });\r\n    return client.get(`/api/community?${queryString}`);\r\n};","import {createAction, handleActions} from 'redux-actions';\r\nimport produce from 'immer';\r\nimport {takeLatest, call, put, select} from 'redux-saga/effects';\r\nimport createRequestSaga, {createRequestActionTypes,} from \"../../lib/createRequestSaga\";\r\nimport * as saveAPI from '../../lib/api/admin/saveCenter';\r\nimport {finishLoading, startLoading} from \"../loading\";\r\n\r\nconst INITIALIZE='saveCenter/INITIALIZE';\r\nconst SELECT_IMAGE='saveCenter/SELECT_IMAGE';\r\nconst CHANGE_FIELD='saveCenter/CHANGE_FIELD';\r\nconst SET_LOCATION='saveCenter/SET_LOCATION';\r\n\r\nconst [\r\n    UPLOAD_QUEUE,\r\n    UPLOAD_QUEUE_SUCCESS,\r\n    UPLOAD_QUEUE_FAILURE,\r\n] = createRequestActionTypes('saveCenter/UPLOAD_QUEUE');\r\n/*포스트 폼 전체를 담당*/\r\nconst [\r\n    SAVE_CENTER,\r\n    SAVE_CENTER_SUCCESS,\r\n    SAVE_CENTER_FAILURE,\r\n] = createRequestActionTypes('saveCenter/SAVE_CENTER');\r\n\r\n/*개별 이미지 파일 업로드 담당*/\r\nconst [\r\n    SAVE_FILE,\r\n    SAVE_FILE_SUCCESS,\r\n    SAVE_FILE_FAILURE,\r\n]= createRequestActionTypes('saveCenter/SAVE_FILE');\r\n\r\nexport const initialize=createAction(INITIALIZE);\r\n\r\nexport const selectImage = createAction(SELECT_IMAGE, selectedImg => selectedImg);\r\n\r\nexport const changeField=createAction(CHANGE_FIELD, ({key, value}) => ({\r\n    key,\r\n    value,\r\n}));\r\n\r\nexport const setLocation=createAction(SET_LOCATION, ({data}) => ({\r\n    data,\r\n}));\r\nexport const saveCenterRequest=createAction(\r\n    SAVE_CENTER,\r\n    (data)=> (data));\r\n\r\n//이미지 파일 리스트 업로드를 위한 큐\r\nfunction* uploadQueueSaga(imgList){\r\n    console.log(\"큐 시작\");\r\n\r\n    for(let i=0; i< imgList.length; i++){\r\n        console.dir(imgList[i]);\r\n        const response=yield call (saveFileSaga, {\r\n            type: SAVE_FILE,\r\n            payload: {\r\n                fileObject: imgList[i].file,\r\n                curOrder: i,\r\n            },\r\n        });\r\n        if(!response){\r\n            yield put({\r\n                type: UPLOAD_QUEUE_FAILURE\r\n            });\r\n            return false;\r\n        }\r\n    }\r\n    yield put({\r\n        type: UPLOAD_QUEUE_SUCCESS\r\n    });\r\n    return true;\r\n}\r\n//개별 파일 업로드\r\nfunction* saveFileSaga(action) {\r\n\r\n    try{\r\n        const response = yield call(saveAPI.imageUpload, action.payload);\r\n        console.dir(response);console.dir(response.data.url);\r\n        yield put({\r\n            type: SAVE_FILE_SUCCESS,\r\n            payload: {\r\n                url: response.data.url,\r\n                curOrder: action.payload.curOrder,\r\n            },\r\n        });\r\n        return true;\r\n\r\n    }catch(e){\r\n        console.error(e);\r\n        yield put({\r\n            type: SAVE_FILE_FAILURE,\r\n            payload: e,\r\n            error: true,\r\n        });\r\n        return false;\r\n    }\r\n}\r\n\r\nfunction* saveCenterRequestSaga(action){\r\n    console.dir(action);\r\n    yield put(startLoading(SAVE_CENTER));\r\n    const { imgList } = action.payload;\r\n    delete action.payload.imgList;\r\n\r\n    if(imgList.length !== 0){\r\n\r\n        const isUploaded=yield call (uploadQueueSaga, imgList);\r\n        if(!isUploaded) {\r\n            yield put({\r\n                type: SAVE_CENTER_FAILURE,\r\n                payload: 'IMAGE UPLOAD QUEUE ERROR'\r\n            });\r\n            return -1;\r\n        }\r\n    }\r\n    const imgUrlList=yield select(state=> state.saveCenter.imgUrlList);\r\n    action.payload.imgUrlList=imgUrlList;\r\n    console.dir(action.payload);\r\n\r\n    try{\r\n        const response=yield call (saveAPI.saveCenter, action.payload);\r\n        console.dir(response);\r\n        yield put({\r\n            type: SAVE_CENTER_SUCCESS,\r\n            payload: response.data,\r\n        });\r\n    }catch(e){\r\n        yield put({\r\n            type: SAVE_CENTER_FAILURE,\r\n            payload: e,\r\n            error: true,\r\n        })\r\n    }\r\n    yield put(finishLoading(SAVE_CENTER));\r\n}\r\n\r\n//사가 생성\r\nexport function* saveCenterSaga(){\r\n    yield takeLatest(SAVE_CENTER, saveCenterRequestSaga);\r\n    yield takeLatest(UPLOAD_QUEUE, uploadQueueSaga);\r\n}\r\n\r\nconst initialState={\r\n    imgQueue: {\r\n        imgList: [],\r\n        listToUpload: [], //Todo: 실패시 다시 업로드 시도\r\n        imgCount: 0, //temp\r\n        uploadedCount: 0,\r\n        selectedImg: null,\r\n        status: 'initial', //initial, pending, ready, complete, failure,\r\n        queueError: null,\r\n    },\r\n    title: '',\r\n    location: '',\r\n    locationDetail: '',\r\n    locationObject: null,\r\n    sites: [],\r\n    prices: [],\r\n    contact: '',\r\n    time: '',\r\n    imgUrlList: [],\r\n    hasParking: false,\r\n    facility: [],\r\n    imageSource:[],\r\n    hasImages: false, //선택된 이미지 파일이 있는지\r\n    post: null,\r\n    postError: null,\r\n};\r\n\r\nconst saveCenter=handleActions(\r\n    {\r\n        [INITIALIZE]: state=> initialState,\r\n        [CHANGE_FIELD]: (state, {payload: {key, value}})=>({\r\n            ...state,\r\n            [key]: value, //특정 key 값을 업데이트\r\n        }),\r\n        [SET_LOCATION]: (state, {payload: {data}})=>{\r\n            let fullAddress = data.address;\r\n            let extraAddress = '';\r\n\r\n            if (data.addressType === 'R') {\r\n                if (data.bname !== '') {\r\n                    extraAddress += data.bname;\r\n                }\r\n                if (data.buildingName !== '') {\r\n                    extraAddress += (extraAddress !== '' ? `, ${data.buildingName}` : data.buildingName);\r\n                }\r\n                fullAddress += (extraAddress !== '' ? ` (${extraAddress})` : '');\r\n            }\r\n            return {\r\n            ...state,\r\n            locationObject: data,\r\n            location: fullAddress,\r\n        }},\r\n        [SELECT_IMAGE]: (state, { payload: selectedImg }) =>\r\n            produce(state, draft => {\r\n                console.dir(selectedImg);\r\n                if (selectedImg.file.name && selectedImg.file.name.match(/.(jpg|jpeg|png)$/i)) {\r\n                    //파일 확장자 검증\r\n                    draft.imgQueue.imgList.push(selectedImg);\r\n                    draft.imgQueue.imgCount++;\r\n                    draft.hasImages=true;\r\n                }else{\r\n                    //Todo: 이미지 파일이 아닌 파일 선택하면 에러 메세지 보여주기\r\n                    console.log(\"ONLY IMAGE FILE ACCECPTED\");\r\n                }\r\n            }),\r\n        [SAVE_FILE_SUCCESS]: (state, {payload: {url, curOrder}})=>\r\n            produce(state, draft => {\r\n                const queue=draft.imgQueue;\r\n                queue.uploadedCount++;\r\n                queue.imgList[curOrder].done=true;\r\n                queue.listToUpload.splice(\r\n                    queue.listToUpload.findIndex(item => item.id === curOrder),\r\n                    1\r\n                );\r\n                draft.imgUrlList[curOrder]=url;\r\n            }),\r\n        [SAVE_CENTER]: (state, {payload: {imgList}})=>\r\n            produce(state, draft=> {\r\n                const queue=draft.imgQueue;\r\n                queue.status='ready';\r\n                queue.listToUpload=imgList;\r\n                //post, postError을 초기화\r\n                draft.post=null;\r\n                draft.postError=null;\r\n            }),\r\n        [SAVE_CENTER_SUCCESS]: (state, {payload: post})=>\r\n            produce(state, draft=> {\r\n                draft.post=post;\r\n            }),\r\n        [SAVE_CENTER_FAILURE]: (state, {payload: postError}) => produce(state, draft=> {\r\n            draft.postError=postError;\r\n        }),\r\n        [UPLOAD_QUEUE_SUCCESS]: (state)=>\r\n            produce(state, draft=> {\r\n                draft.imgQueue.status='complete';\r\n            }),\r\n        [UPLOAD_QUEUE_FAILURE]: (state)=>\r\n            produce(state, draft=> {\r\n                draft.imgQueue.status='failure';\r\n            }),\r\n    },\r\n    initialState,\r\n);\r\n\r\nexport default saveCenter;","import React, {useCallback, useEffect} from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {withRouter} from 'react-router-dom';\r\nimport SaveForm from '../../../components/admin/saveCenterInfo/SaveForm';\r\nimport {changeField} from \"../../../modules/admin/saveCenter\";\r\n\r\nconst SaveFormContainer=({history})=>{\r\n    const dispatch=useDispatch();\r\n    const {title, imageSource, location, sites, prices, hasParking}= useSelector(({saveCenter})=>({\r\n        title: saveCenter.title,\r\n        imageSource: saveCenter.imageSource,\r\n        location: saveCenter.location,\r\n        sites: saveCenter.sites,\r\n        prices: saveCenter.prices,\r\n        hasParking: saveCenter.hasParking,\r\n    }));\r\n    useEffect(()=>{\r\n        console.dir(hasParking)\r\n    }, [hasParking])\r\n\r\n    const onChangeField=useCallback(e=> {\r\n        return dispatch(changeField({key: e.target.name, value: e.target.value}));\r\n    }, [dispatch]);\r\n\r\n    const onChangeArray=useCallback((name, nextTags)=> {\r\n        return dispatch(changeField({key: name, value: nextTags}));\r\n    },[dispatch]);\r\n\r\n    const onChangeCheck=useCallback(state=> {\r\n\r\n        return dispatch(changeField({key: \"facility\", value: state}));\r\n    }, [\r\n        dispatch,\r\n    ]);\r\n    return(\r\n        <SaveForm\r\n            title={title}\r\n            imageSource={imageSource}\r\n            location={location}\r\n            sites={sites}\r\n            prices={prices}\r\n            hasParking={hasParking}\r\n            onChangeCheck={onChangeCheck}\r\n            onChangeField={onChangeField}\r\n            onChangeArray={onChangeArray}\r\n        />\r\n    );\r\n};\r\n\r\nexport default withRouter(SaveFormContainer);","import React, {useEffect} from 'react';\r\nimport DaumPostcode from 'react-daum-postcode';\r\n\r\nexport default function PostCode({onSelectLocation, handleClose}){\r\n\r\n    useEffect(()=>{\r\n        console.dir(PostCode);\r\n    },[PostCode]);\r\n    const handleComplete = (data) => {\r\n        onSelectLocation(data); //test redux\r\n        handleClose();\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <DaumPostcode\r\n            onComplete={handleComplete}\r\n            width='100%'\r\n            />\r\n        </>\r\n    );\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Button from '@material-ui/core/Button';\r\nimport PostCode from './PostCode';\r\nfunction rand() {\r\n    return Math.round(Math.random() * 20) - 10;\r\n}\r\n\r\nfunction getModalStyle() {\r\n    const top = 50 + rand();\r\n    const left = 50 + rand();\r\n    return {\r\n        top: `${top}%`,\r\n        left: `${left}%`,\r\n        transform: `translate(-${top}%, -${left}%)`,\r\n    };\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    paper: {\r\n        position: 'absolute',\r\n        width: 400,\r\n        backgroundColor: theme.palette.background.paper,\r\n        border: '2px solid #000',\r\n        boxShadow: theme.shadows[5],\r\n    },\r\n}));\r\n\r\nexport default function PostCodeModal({onSelectLocation}) {\r\n    const classes = useStyles();\r\n    // getModalStyle is not a pure function, we roll the style only on the first render\r\n    const [modalStyle] = React.useState(getModalStyle);\r\n    const [open, setOpen] = React.useState(false);\r\n\r\n    const handleOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    const body = (\r\n        <div style={modalStyle} className={classes.paper}>\r\n            <PostCode onSelectLocation={onSelectLocation} handleClose={handleClose}/>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div>\r\n            <Button variant=\"outlined\" color=\"primary\" onClick={handleOpen}>\r\n                주소 검색\r\n            </Button>\r\n            <Modal\r\n                open={open}\r\n                onClose={handleClose}\r\n                aria-labelledby=\"search-postcode\"\r\n                aria-describedby=\"search-postcode-description\"\r\n            >\r\n                {body}\r\n            </Modal>\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\nimport styled, {css} from 'styled-components';\r\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\r\nimport PostCodeModal from './common/PostCodeModal';\r\n\r\nconst InputLabelBox=styled.label`\r\n    flex: 1;\r\n    display: grid;\r\n    grid-template-columns: 1fr 2fr;\r\n    //background: skyblue;\r\n    width: 100%;\r\n    align-items: center;\r\n`;\r\nconst StyledInput=styled(OutlinedInput)`\r\n    height: 40px;\r\n    ${props =>\r\n    props.right &&\r\n    css`\r\n        grid-column: 2 / 3;\r\n        margin-bottom: 4px;\r\n    `}  \r\n`;\r\n\r\nconst LocationSearchForm=({ location, locationDetail, onSelectLocation, onChangeField })=>{\r\n\r\n    return (\r\n        <>\r\n            <InputLabelBox>\r\n                <h3>Location</h3>\r\n                <PostCodeModal onSelectLocation={onSelectLocation} />\r\n                <StyledInput right=\"true\" disabled={true} value={location}/>\r\n                <StyledInput\r\n                    placeholder=\"상세주소 입력\"\r\n                    right=\"true\"\r\n                    onChange={onChangeField}\r\n                    name=\"locationDetail\"\r\n                    value={locationDetail}\r\n                />\r\n            </InputLabelBox>\r\n        </>\r\n    )\r\n\r\n};\r\n\r\nexport default LocationSearchForm;","import React, {useEffect, useCallback} from 'react';\r\nimport LocationSearchForm from '../../../components/admin/saveCenterInfo/LocationSearchForm';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {changeField, initialize, setLocation} from \"../../../modules/admin/saveCenter\";\r\nconst LocationSearchContainer=()=>{\r\n    const dispatch = useDispatch();\r\n    const {location, locationDetail}= useSelector(({saveCenter})=>({\r\n        location: saveCenter.location,\r\n        locationDetail: saveCenter.locationDetail,\r\n    }));\r\n\r\n    const onSelectLocation=useCallback(object=> {\r\n        return dispatch(setLocation({ data: object }));\r\n    }, [\r\n        dispatch,\r\n    ]);\r\n\r\n    const onChangeField=useCallback(e=> {\r\n        return dispatch(changeField({key: e.target.name, value: e.target.value}));\r\n    }, [dispatch]);\r\n\r\n    //언마운트 될 때 초기화\r\n    useEffect(()=> {\r\n        return() => {\r\n            dispatch(initialize());\r\n        };\r\n    }, [dispatch]);\r\n\r\n    return (\r\n        <>\r\n            <LocationSearchForm\r\n                onSelectLocation={onSelectLocation}\r\n                location={location}\r\n                onChangeField={onChangeField}\r\n                locationDetail={locationDetail}\r\n            />\r\n        </>\r\n    )\r\n};\r\n\r\nexport default LocationSearchContainer;","import React, {useEffect} from 'react';\r\nimport WriteActionButton from '../../../components/community/writePost/WriteActionButton';\r\nimport {useSelector, useDispatch} from \"react-redux\";\r\nimport {withRouter} from 'react-router-dom';\r\nimport {saveCenterRequest} from '../../../modules/admin/saveCenter';\r\n\r\nconst WriteActionButtonContainer= ({history}) => {\r\n    const dispatch=useDispatch();\r\n\r\n    const {post, postError, ...centerInfoObject}= useSelector(({saveCenter}) => ({\r\n        imgList: saveCenter.imgQueue.imgList,\r\n        imageSource: saveCenter.imageSource,\r\n        title: saveCenter.title,\r\n        location: saveCenter.location,\r\n        locationDetail: saveCenter.locationDetail,\r\n        locationObject: saveCenter.locationObject,\r\n        contact: saveCenter.contact,\r\n        sites: saveCenter.sites,\r\n        prices: saveCenter.prices,\r\n        time: saveCenter.time,\r\n        hasParking: saveCenter.hasParking,\r\n        facility: saveCenter.facility,\r\n        post: saveCenter.post,\r\n        postError: saveCenter.postError,\r\n    }));\r\n\r\n    const onPublish = (e)=> {\r\n        e.preventDefault();\r\n\r\n        dispatch(\r\n            saveCenterRequest(centerInfoObject),\r\n        );\r\n    };\r\n\r\n\r\n    const onCancel=()=> {\r\n        history.goBack();\r\n    };\r\n\r\n    useEffect(()=> {\r\n        if(post) {\r\n            const {_id, user}=post;\r\n            //history.push(`/@${user.username}/${_id}`);\r\n        }else{\r\n            console.log('no post');\r\n        }\r\n        if(postError){\r\n            console.log(postError);\r\n        }\r\n    }, [history, post, postError]);\r\n    return <WriteActionButton onPublish={onPublish} />;\r\n};\r\n\r\nexport default withRouter(WriteActionButtonContainer);","import React, { useRef, useEffect } from 'react';\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport styled from 'styled-components';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport Done from '@material-ui/icons/Done';\r\n\r\nconst PreviewBox=styled.div`\r\n    display: flex;\r\n    flex-wrap: nowrap;\r\n    white-space: nowrap;\r\n    overflow-x: auto;\r\n    width: 100%;\r\n    & > * {\r\n      flex: 0 0 auto;\r\n    }\r\n`;\r\nconst PreviewItem=styled.div`\r\n    width: 150px;\r\n    height: 150px;\r\n    position: relative;\r\n    margin: 3px;\r\n`;\r\nconst ImgFilter=styled.div`\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: black;\r\n    z-index: 2;\r\n    position: absolute;\r\n    opacity: 0.5;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n`;\r\nconst ImgPreview=styled.img`\r\n    width: 100%;\r\n    height: 100%;\r\n    z-index: 1;\r\n    top: 0;\r\n    position: absolute;\r\n`;\r\nconst ImgSelector=styled.div`\r\n    width: 150px;\r\n    height: 150px;\r\n    display: flex;\r\n    border-style: dashed;\r\n    align-items: center;\r\n    justify-content: center;\r\n`;\r\nconst Input=styled.input`\r\n    overflow: hidden;\r\n    width: 0;\r\n    height: 0;\r\n    position: absolute;\r\n    top: 0;\r\n`;\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    doneIcon: {\r\n        color: 'white',\r\n        zIndex: 3,\r\n        fontSize: '5rem',\r\n\r\n    },\r\n    fab:{\r\n        margin: '0.5rem',\r\n    },\r\n    addIcon: {\r\n        fontSize: '5rem',\r\n    }\r\n}));\r\nconst ImageForm=({ hasImages, imgList, onChange })=>{\r\n    const classes = useStyles();\r\n    const previewBoxRef=useRef();\r\n\r\n    useEffect(()=>{\r\n        //이미지 추가 시 horizontal scroll 위치 맨 오른쪽으로 이동\r\n        const width=previewBoxRef.current.scrollWidth;\r\n        console.dir(width);\r\n        previewBoxRef.current.scrollLeft=width;\r\n    }, [imgList]);\r\n    return (\r\n        <>\r\n            <PreviewBox ref={previewBoxRef}>\r\n                {imgList.map(object => {\r\n                    const url=URL.createObjectURL(object.file);\r\n                    return (\r\n                        <PreviewItem key={object.id}>\r\n                            {object.done ? (\r\n                                <ImgFilter>\r\n                                    <Done className={classes.doneIcon}/>\r\n                                </ImgFilter>\r\n                            ): (undefined)}\r\n\r\n                            <ImgPreview src={url} alt=\"preview\" />\r\n                        </PreviewItem>\r\n                    );\r\n                })}\r\n                <PreviewItem>\r\n                    <label>\r\n                        <ImgSelector>\r\n                            <AddIcon className={classes.addIcon}/>\r\n                        </ImgSelector>\r\n                        <Input\r\n                            accept=\"image/*\"\r\n                            type=\"file\"\r\n                            name=\"imgCollection\"\r\n                            multiple onChange={onChange}\r\n                        />\r\n                    </label>\r\n                </PreviewItem>\r\n\r\n            </PreviewBox>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default ImageForm;","import React, {useEffect} from 'react';\r\nimport ImageForm from '../../../components/admin/saveCenterInfo/ImageForm';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {selectImage} from \"../../../modules/admin/saveCenter\";\r\n\r\nconst ImageContainer=()=>{\r\n    const { hasImages, imgList, imgCount } = useSelector(({ saveCenter }) => ({\r\n        hasImages: saveCenter.hasImages,\r\n        imgList: saveCenter.imgQueue.imgList, //type: Array [{file: File, id: number, done: boolean}]\r\n        imgCount: saveCenter.imgQueue.imgCount,\r\n    }));\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(()=>{\r\n        console.dir(imgList);\r\n    }, [imgList]);\r\n\r\n    const onFileChange = e => {\r\n        dispatch(\r\n            selectImage({\r\n                file: e.target.files[0], //type: File\r\n                id: imgCount,\r\n                done: false,\r\n            })\r\n        );\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <ImageForm\r\n                hasImages={hasImages}\r\n                onChange={onFileChange}\r\n                imgList={imgList}\r\n            />\r\n\r\n        </>\r\n    )\r\n};\r\nexport default ImageContainer;","import React from 'react';\r\nimport SideAppBar from \"../../components/admin/SideAppBar\";\r\nimport FormTemplate from '../../components/admin/saveCenterInfo/FormTemplate';\r\nimport SaveFormContainer from '../../containers/admin/saveCenterInfo/SaveFormContainer';\r\nimport LocationSearchContainer from '../../containers/admin/saveCenterInfo/LocationSearchContainer';\r\nimport WriteActionButtonContainer from '../../containers/admin/saveCenterInfo/WriteActionButtonContainer';\r\nimport ImageContainer from \"../../containers/admin/saveCenterInfo/ImageContainer\";\r\n\r\nconst DashboardPage=()=>{\r\n    return (\r\n        <>\r\n            <SideAppBar>\r\n                <FormTemplate>\r\n                    <ImageContainer/>\r\n                    <LocationSearchContainer/>\r\n                    <SaveFormContainer/>\r\n                    <WriteActionButtonContainer/>\r\n                </FormTemplate>\r\n            </SideAppBar>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default DashboardPage;","import React from 'react';\nimport {Route, Switch } from 'react-router-dom';\nimport { ThemeProvider } from '@material-ui/styles';\nimport theme from './components/common/CustomTheme'\nimport HomePage from \"./pages/HomePage\";\nimport LoginPage from \"./pages/LoginPage\";\nimport RegisterPage from \"./pages/RegisterPage\";\nimport Community from './pages/community';\nimport Account from './pages/account';\nimport User from './pages/user';\nimport Centers from './pages/centers';\nimport VirtualizingTest from \"./pages/test/VirtualizingTest\";\nimport DashboardPage from \"./pages/admin/DashboardPage\";\n\nfunction App() {\n    return (\n        <>\n            <ThemeProvider theme={theme}>\n                <Switch>\n                    <Route component={HomePage} path=\"/\" exact />\n\n                    <Route component={LoginPage} path=\"/login\" />\n\n                    <Route component={RegisterPage} path=\"/register\" />\n\n                    <Route component={Centers} path=\"/centers\" />\n\n                    <Route component={Community} path=\"/community\" />\n\n                    <Route component={VirtualizingTest} path=\"/test\" />\n\n                    <Route component={DashboardPage} path=\"/dashboard\" />\n\n                    <Route component={User} path=\"/user\" />\n\n                    <Route component={Account} path=\"/accounts\" />\n\n                    <Route\n                        render={({location})=>(\n                            <div>\n                                <h2>이 페이지는 존재하지 않습니다.</h2>\n                                <p>{location.pathname}</p>\n                            </div>\n                        )}\n                    />\n                </Switch>\n            </ThemeProvider>\n        </>\n    );\n}\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import {combineReducers} from \"redux\";\r\nimport {all} from 'redux-saga/effects';\r\nimport auth, {authSaga} from './auth';\r\nimport loading from './loading';\r\nimport user, {userSaga} from './user';\r\nimport write, {writeSaga} from \"./write\";\r\nimport posts, {postsSaga} from \"./posts\";\r\nimport post, {postSaga} from \"./post\";\r\nimport saveCenter, {saveCenterSaga} from \"./admin/saveCenter\";\r\nimport centerList, {centerListSaga} from \"./centers/centerList\";\r\nimport home, {homeSaga} from \"./home\";\r\nimport center, {centerSaga} from \"./centers/center\";\r\nimport userProfileEdit, {userProfileEditSaga} from './accounts/userProfileEdit';\r\nimport userProfile, {userProfileSaga} from \"./accounts/userProfile\";\r\n\r\nconst rootReducer=combineReducers({\r\n    auth,\r\n    loading,\r\n    user,\r\n    write,\r\n    posts,\r\n    post,\r\n    saveCenter,\r\n    centerList,\r\n    center,\r\n    home,\r\n    userProfileEdit,\r\n    userProfile,\r\n});\r\n\r\nexport function* rootSaga() {\r\n    yield all([\r\n        authSaga(),\r\n        userSaga(),\r\n        writeSaga(),\r\n        postsSaga(),\r\n        postSaga(),\r\n        saveCenterSaga(),\r\n        centerListSaga(),\r\n        centerSaga(),\r\n        homeSaga(),\r\n        userProfileEditSaga(),\r\n        userProfileSaga(),\r\n    ]);\r\n}\r\n\r\nexport default rootReducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\n//import './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { Provider }from \"react-redux\";\nimport {BrowserRouter} from 'react-router-dom';\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport {composeWithDevTools} from \"redux-devtools-extension\";\nimport {createStore, applyMiddleware} from \"redux\";\nimport createSagaMiddleware from 'redux-saga';\nimport rootReducer, {rootSaga} from './modules';\nimport {tempSetUser, check} from './modules/user';\n\n\nconst sagaMiddleware = createSagaMiddleware();\nconst store=createStore(\n    rootReducer,\n    composeWithDevTools(applyMiddleware(sagaMiddleware)),\n);\n\nfunction loadUser() {\n    try{\n        const user=JSON.parse(localStorage.getItem('user'));\n        if (!user) return; //로그인 상태가 아니라면 아무것도 안함\n\n        store.dispatch(tempSetUser(user));\n        store.dispatch(check());\n    }catch(e) {\n        console.log('localStorage is not working');\n    }\n}\n\nsagaMiddleware.run(rootSaga);\nloadUser();\n\n\nReactDOM.render(\n    <Provider store={store}>\n        <BrowserRouter>\n            <CssBaseline />\n            <App />\n        </BrowserRouter>\n    </Provider>,\n    document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}