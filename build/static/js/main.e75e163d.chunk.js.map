{"version":3,"sources":["images/ClimbersLogo.png","components/common/LinkedButton.js","components/common/Header.js","lib/api/client.js","lib/api/auth.js","modules/loading.js","lib/createRequestSaga.js","modules/user.js","containers/common/HeaderContainer.js","components/home/MainCarousel.js","components/home/HomeTemplate.js","components/home/SlideCard.js","components/home/SlideView.js","pages/HomePage.js","components/auth/AuthTemplate.js","modules/auth.js","lib/styles/palette.js","components/auth/AuthForm.js","containers/auth/LoginForm.js","pages/LoginPage.js","containers/auth/RegisterForm.js","pages/RegisterPage.js","components/centers/centerList/CenterListTemplate.js","components/centers/centerList/Carousel.js","components/common/LinkWrapperActionArea.js","components/common/CenterCard.js","lib/api/centers/centerList.js","modules/centers/centerList.js","components/centers/centerList/CenterList.js","containers/centers/centerList/CenterListContainer.js","pages/centers/CenterListPage.js","components/common/AlignItemList.js","components/common/LinkedFab.js","components/community/postList/CommunityTemplate.js","lib/api/community/posts.js","modules/posts.js","components/community/postList/LazyImage.js","components/community/postList/Carousel.js","components/community/postList/PostListItem.js","components/community/postList/PostList.js","containers/community/CommunityContainer.js","pages/community/CommunityPage.js","components/community/writePost/WriteTemplate.js","components/community/writePost/ImageForm.js","modules/write.js","containers/community/writePost/ImageContainer.js","components/community/writePost/TextForm.js","containers/community/writePost/TextContainer.js","components/community/writePost/WriteActionButton.js","containers/community/writePost/WriteActionButtonContainer.js","components/community/writePost/TagBox.js","containers/community/writePost/TagBoxContainer.js","pages/community/WritePage.js","pages/test/VirtualizingTest.js","components/admin/SideAppBar.js","components/admin/saveCenterInfo/FormTemplate.js","components/admin/saveCenterInfo/common/commonComponents.js","components/admin/saveCenterInfo/common/ArrayBox.js","components/admin/saveCenterInfo/common/PriceBox.js","components/admin/saveCenterInfo/common/CheckBox.js","components/admin/saveCenterInfo/common/BooleanSelectBox.js","components/admin/saveCenterInfo/SaveForm.js","lib/api/admin/saveCenter.js","modules/admin/saveCenter.js","containers/admin/saveCenterInfo/SaveFormContainer.js","components/admin/saveCenterInfo/common/PostCode.js","components/admin/saveCenterInfo/common/PostCodeModal.js","components/admin/saveCenterInfo/LocationSearchForm.js","containers/admin/saveCenterInfo/LocationSearchContainer.js","containers/admin/saveCenterInfo/WriteActionButtonContainer.js","components/admin/saveCenterInfo/ImageForm.js","containers/admin/saveCenterInfo/ImageContainer.js","pages/admin/DashboardPage.js","App.js","serviceWorker.js","modules/index.js","index.js","images/climbing.jpg"],"names":["module","exports","LinkWrapperButton","props","to","buttonProps","console","dir","renderLink","React","useMemo","forwardRef","linkProps","ref","Button","component","children","theme","createMuiTheme","breakpoints","values","xs","sm","md","lg","xl","useStyles","makeStyles","appBar","background","position","menuButton","marginRight","spacing","up","display","title","flexGrow","userInfo","color","link","margin","textDecoration","menuLink","menuItem","down","Header","user","onLogout","classes","useState","top","state","setState","open","setOpen","anchorRef","useRef","handleClose","event","current","contains","target","handleListKeyDown","key","preventDefault","prevOpen","useEffect","focus","side","toggleDrawer","type","AppBar","className","Toolbar","IconButton","edge","aria-label","onClick","src","url","alt","width","height","variant","aria-controls","undefined","aria-haspopup","username","Popper","anchorEl","role","transition","disablePortal","TransitionProps","placement","Grow","style","transformOrigin","Paper","ClickAwayListener","onClickAway","MenuList","autoFocusItem","id","onKeyDown","MenuItem","Drawer","anchor","onClose","fullList","List","ListItem","button","ListItemText","primary","client","axios","create","check","get","logout","post","startLoading","createAction","requestType","finishLoading","loading","handleActions","action","payload","createRequestActionTypes","createRequestSaga","request","SUCCESS","FAILURE","put","call","response","data","meta","error","checkSaga","logoutSaga","userSaga","CHECK","CHECK_SUCCESS","CHECK_FAILURE","tempSetUser","authAPI","errorStatus","status","log","checkFailureSaga","localStorage","removeItem","e","takeLatest","checkError","HeaderContainer","useSelector","dispatch","useDispatch","CarouselBox","styled","div","MainCarousel","HomeTemplateBlock","HomeTemplate","root","flex","media","expand","transform","marginLeft","transitions","duration","shortest","expandOpen","SlideCard","Card","CardContent","Typography","CardActions","disableSpacing","SlideViewBox","SlideViewBlock","MarginSome","text","paddingRight","SlideView","paddingLeft","HomePage","AuthTemplateBlock","WhiteBox","Container","AuthTemplate","logo","maxWidth","authSaga","REGISTER","REGISTER_SUCCESS","REGISTER_FAILURE","LOGIN","LOGIN_SUCCESS","LOGIN_FAILURE","changeField","form","value","initializeForm","register","password","login","registerSaga","loginSaga","initialState","passwordConfirm","auth","authError","produce","draft","palette","gray","cyan","Footer","Grid","textMap","ErrorMessage","paper","flexDirection","alignItems","avatar","backgroundColor","secondary","main","marginTop","submit","AuthForm","onChange","onSubmit","Avatar","noValidate","TextField","required","fullWidth","label","name","autoComplete","autoFocus","FormControlLabel","control","Checkbox","container","item","href","withRouter","history","setError","push","setItem","JSON","stringify","LoginPage","includes","RegisterPage","CenterListTemplateBlock","SortingButtonBlock","CenterListTemplate","dot","borderRadius","border","opacity","dotSelected","dotBox","textAlign","bottom","left","right","icon","fontSize","arrowButton","justifyContent","zIndex","nextButton","backButton","SlideImage","ComponentsUsingContext","imgUrlList","carouselContext","useContext","CarouselContext","currentSlide","setCurrentSlide","subscribe","unsubscribe","dotComponents","map","image","index","slide","Carousel","count","length","naturalSlideWidth","naturalSlideHeight","totalSlides","dragEnabled","isPlaying","LinkWrapperActionArea","CardActionArea","Title","h1","Address","p","content","padding","controls","badge","center","Rating","defaultValue","size","locationObject","query","Badge","badgeContent","listCenters","page","sido","sigungu","queryString","qs","scrollBottomSaga","centerListSaga","LIST_CENTERS","LIST_CENTERS_SUCCESS","LIST_CENTERS_FAILURE","READ_MORE","READ_MORE_SUCCESS","scrollBottom","listCentersSaga","centersAPI","readMoreCentersSaga","select","isLoading","postsState","posts","lastPage","centerList","centers","parseInt","headers","concat","LoaderBlock","CenterListBlock","loaderBox","minHeight","CenterList","loading2","loader","containerRef","_id","CircularProgress","location","currentPage","centersLoading","moreCentersLoading","parse","search","ignoreQueryPrefix","options","rootMargin","threshold","IntersectionObserver","entries","observer","forEach","entry","isIntersecting","tag","observe","showWriteButton","CenterListPage","CenterListContainer","inline","AlignItemsList","ListItemAvatar","Fragment","Divider","extendedIcon","fab","LinkWrapperFab","Fab","a11yProps","leftBox","topBox","paddingBottom","tabBox","tabs","borderRight","divider","postList","rightBox","CommunityTemplate","setValue","age","setAge","FormControl","InputLabel","Select","labelId","Tabs","orientation","newValue","Tab","imageUpload","fileObject","formData","FormData","append","writePost","body","tags","listPosts","postsSaga","LIST_POSTS","LIST_POSTS_SUCCESS","LIST_POSTS_FAILURE","listPostsSaga","postsAPI","readMorePostsSaga","LazyImage","imageSrc","setImageSrc","imageRef","setImageRef","didCancel","intersectionRatio","unobserve","onLoad","classList","add","onError","buttonBack","buttonNext","RightArrowButton","clsx","LeftArrowButton","marginBottom","borderImageSlice","borderImage","borderImageWidth","paddingTop","green","PostListItem","expanded","setExpanded","publishedDate","CardHeader","subheader","Date","toLocaleDateString","aria-expanded","Collapse","in","timeout","unmountOnExit","paragraph","PostList","postsLoading","morePostsLoading","CommunityPage","WriteTemplateBlock","WriteTemplate","PreviewBox","PreviewItem","ImgFilter","ImgPreview","img","ImgSelector","Input","input","doneIcon","addIcon","ImageForm","hasImages","imgList","previewBoxRef","scrollWidth","scrollLeft","object","URL","createObjectURL","file","done","accept","multiple","htmlFor","uploadQueueSaga","saveFileSaga","writePostSaga","writeSaga","UPLOAD_QUEUE","UPLOAD_QUEUE_SUCCESS","UPLOAD_QUEUE_FAILURE","WRITE_POST","WRITE_POST_SUCCESS","WRITE_POST_FAILURE","SAVE_FILE","SAVE_FILE_SUCCESS","SAVE_FILE_FAILURE","initialize","selectImage","selectedImg","i","curOrder","write","imgQueue","listToUpload","imgCount","uploadedCount","queueError","postError","match","queue","splice","findIndex","ImageContainer","files","TextForm","onChangeField","multiline","TextContainer","useCallback","WriteActionButton","onPublish","TagBoxBlock","TagForm","Tag","TagListBlock","TagItem","memo","onRemove","TagList","TagBox","onChangeTags","setInput","localTags","setLocalTags","insertTag","nextTags","filter","t","trim","placeholder","TagBoxContainer","ListBlock","Row","list","rowRenderer","VirtualizingTest","rowCount","rowHeight","drawer","easing","sharp","leavingScreen","appBarShift","enteringScreen","hide","flexShrink","whiteSpace","drawerOpen","drawerClose","overflowX","toolbar","mixins","SideAppBar","useTheme","CssBaseline","noWrap","direction","ListItemIcon","FormTemplateBlock","FormTemplate","InputLabelBox","StyledInput","OutlinedInput","css","InputWithLabel","Site","ItemListBlock","ArrayForm","SiteItem","ItemList","ArrayBox","onChangeArray","formControl","minWidth","selectEmpty","PriceForm","Price","PriceListBlock","PriceItem","price","period","PriceList","prices","PriceBox","localPrices","setLocalPrices","insertPrice","nextPrices","inputProps","CheckBox","onChangeCheck","bouldering","endurance","lead","speed","outside","handleChange","checked","FormGroup","BooleanSelectBox","SaveForm","imageSource","contact","sites","time","hasParking","saveCenter","saveCenterRequestSaga","saveCenterSaga","SAVE_CENTER","SAVE_CENTER_SUCCESS","SAVE_CENTER_FAILURE","setLocation","saveCenterRequest","saveAPI","locationDetail","facility","fullAddress","address","extraAddress","addressType","bname","buildingName","PostCode","onSelectLocation","onComplete","rand","Math","round","random","getModalStyle","boxShadow","shadows","PostCodeModal","modalStyle","Modal","aria-labelledby","aria-describedby","LocationSearchForm","disabled","LocationSearchContainer","centerInfoObject","DashboardPage","App","path","exact","WritePage","EditAccountPage","Boolean","window","hostname","rootSaga","all","rootReducer","combineReducers","sagaMiddleware","createSagaMiddleware","store","createStore","composeWithDevTools","applyMiddleware","run","getItem","loadUser","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.e75e163d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/ClimbersLogo.5c985fed.png\";","import { Link } from 'react-router-dom';\r\nimport React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nfunction LinkWrapperButton(props) {\r\n    const { to, ...buttonProps } = props;\r\n    console.dir(props);\r\n    const renderLink = React.useMemo(\r\n        () =>\r\n            React.forwardRef((linkProps, ref) => (\r\n                <Link ref={ref} to={to} {...linkProps} />\r\n            )),\r\n        [to],\r\n    );\r\n\r\n    return (\r\n        <Button component={renderLink} {...buttonProps}>\r\n            { props.children }\r\n        </Button>\r\n    );\r\n}\r\n\r\nexport default LinkWrapperButton;","import React from 'react';\r\nimport LinkWrapperButton from \"./LinkedButton\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { makeStyles, createMuiTheme } from '@material-ui/core/styles';\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport {Link} from 'react-router-dom';\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\r\nimport Grow from '@material-ui/core/Grow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Popper from '@material-ui/core/Popper';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport MenuList from '@material-ui/core/MenuList';\r\nimport url from '../../images/ClimbersLogo.png';\r\n\r\n\r\nconst breakpointValues = {\r\n    xs: 0,\r\n    sm: 576,\r\n    md: 768,\r\n    lg: 992,\r\n    xl: 1200,\r\n};\r\nconst theme = createMuiTheme({ breakpoints: { values: breakpointValues } });\r\nconst useStyles = makeStyles(theme => ({\r\n    appBar:{\r\n        background: '#414449',\r\n        position: 'fixed',\r\n    },\r\n    menuButton: {\r\n        marginRight: theme.spacing(2),\r\n        [theme.breakpoints.up('md')]: {\r\n            display: 'none',\r\n        },\r\n    },\r\n    title: {\r\n        flexGrow: 1,\r\n    },\r\n    userInfo: {\r\n        marginRight: theme.spacing(2),\r\n        color: 'white',\r\n    },\r\n    link: {\r\n        margin: theme.spacing(1, 1.5),\r\n        textDecoration: 'none',\r\n        color: 'white',\r\n    },\r\n    menuLink: {\r\n        color: 'black',\r\n        textDecoration: 'none',\r\n    },\r\n    menuItem: {\r\n        flexGrow: 1,\r\n        [theme.breakpoints.down('sm')]: {\r\n            display: 'none',\r\n        },\r\n    },\r\n\r\n}));\r\n\r\n\r\nconst Header = ({ user, onLogout }) => {\r\n    const classes = useStyles(theme);\r\n    const [state, setState] = React.useState({\r\n        top: false,\r\n    });\r\n    const [open, setOpen] = React.useState(false);\r\n    const anchorRef = React.useRef(null);\r\n    const handleToggle = () => {\r\n        setOpen((prevOpen) => !prevOpen);\r\n    };\r\n\r\n    const handleClose = (event) => {\r\n        if (anchorRef.current && anchorRef.current.contains(event.target)) {\r\n            return;\r\n        }\r\n        setOpen(false);\r\n    };\r\n\r\n    function handleListKeyDown(event) {\r\n        if (event.key === 'Tab') {\r\n            event.preventDefault();\r\n            setOpen(false);\r\n        }\r\n    }\r\n\r\n    // return focus to the button when we transitioned from !open -> open\r\n    const prevOpen = React.useRef(open);\r\n    React.useEffect(() => {\r\n        if (prevOpen.current === true && open === false) {\r\n            anchorRef.current.focus();\r\n        }\r\n\r\n        prevOpen.current = open;\r\n    }, [open]);\r\n\r\n\r\n\r\n    const toggleDrawer = (side, open) => event => {\r\n        if (event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\r\n            return;\r\n        }\r\n\r\n        setState({ ...state, [side]: open });\r\n    };\r\n\r\n    const fullList = side => (\r\n        <div\r\n            className={classes.fullList}\r\n            role=\"presentation\"\r\n            onClick={toggleDrawer(side, false)}\r\n            onKeyDown={toggleDrawer(side, false)}\r\n        >\r\n            <List>\r\n                <ListItem button >\r\n                    <ListItemText primary={'암장 정보'} />\r\n                </ListItem>\r\n                <ListItem button >\r\n                    <ListItemText primary={'이벤트'} />\r\n                </ListItem>\r\n                <ListItem button >\r\n                    <ListItemText primary={'커뮤니티'} />\r\n                </ListItem>\r\n                <ListItem button >\r\n                    <ListItemText primary={'친구 찾기'} />\r\n                </ListItem>\r\n                <ListItem button >\r\n                    <ListItemText primary={'중고 장터'} />\r\n                </ListItem>\r\n            </List>\r\n\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <>\r\n            <AppBar className={classes.appBar}>\r\n                <Toolbar>\r\n                        <IconButton\r\n                            edge=\"start\"\r\n                            className={classes.menuButton}\r\n                            color=\"inherit\"\r\n                            aria-label=\"menu\"\r\n                            onClick={toggleDrawer('top', true)}\r\n                        >\r\n                            <MenuIcon />\r\n                        </IconButton>\r\n\r\n\r\n                    <Link className={classes.title} to=\"/\" >\r\n                        <img src={url} alt=\"logo\" width=\"112\" height=\"28\" />\r\n                    </Link>\r\n                        <nav className={classes.menuItem}>\r\n                            <Link to=\"/centers\" className={classes.link}>\r\n                                암장 정보\r\n                            </Link>\r\n                            <Link to=\"/events\" className={classes.link}>\r\n                                이벤트\r\n                            </Link>\r\n                            <Link to=\"/community\" className={classes.link}>\r\n                                커뮤니티\r\n                            </Link>\r\n                            <Link to=\"/friends\" className={classes.link}>\r\n                                친구 찾기\r\n                            </Link>\r\n                            <Link variant=\"button\" color=\"inherit\" to=\"/market\" className={classes.link}>\r\n                                중고 장터\r\n                            </Link>\r\n                        </nav>\r\n\r\n\r\n                    {user ? (\r\n                        <>\r\n                            <Button\r\n                                className={classes.userInfo}\r\n                                ref={anchorRef}\r\n                                aria-controls={open ? 'menu-list-grow' : undefined}\r\n                                aria-haspopup=\"true\"\r\n                                onClick={handleToggle}\r\n                            >\r\n                                {user.username}\r\n                            </Button>\r\n                            <Popper open={open} anchorEl={anchorRef.current} role={undefined} transition disablePortal>\r\n                                {({ TransitionProps, placement }) => (\r\n                                    <Grow\r\n                                        {...TransitionProps}\r\n                                        style={{ transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom' }}\r\n                                    >\r\n                                        <Paper>\r\n                                            <ClickAwayListener onClickAway={handleClose}>\r\n                                                <MenuList autoFocusItem={open} id=\"menu-list-grow\" onKeyDown={handleListKeyDown}>\r\n                                                    <MenuItem onClick={handleClose}>\r\n                                                        <Link variant=\"button\" to=\"/account/edit\" className={classes.menuLink}>\r\n                                                            마이 페이지\r\n                                                        </Link>\r\n                                                    </MenuItem>\r\n                                                    <MenuItem onClick={handleClose}>My account</MenuItem>\r\n                                                    <MenuItem onClick={handleClose}>Logout</MenuItem>\r\n                                                </MenuList>\r\n                                            </ClickAwayListener>\r\n                                        </Paper>\r\n                                    </Grow>\r\n                                )}\r\n                            </Popper>\r\n                            <Button color=\"inherit\" variant=\"outlined\" onClick={onLogout}>Logout</Button>\r\n                        </>\r\n                    ): (\r\n                        <>\r\n                            <LinkWrapperButton color=\"inherit\" variant=\"outlined\" to=\"/login\">Login</LinkWrapperButton>\r\n                        </>\r\n                    )}\r\n                    <Drawer anchor=\"top\" open={state.top} onClose={toggleDrawer('top', false)}>\r\n                        {fullList('top')}\r\n                    </Drawer>\r\n\r\n                </Toolbar>\r\n            </AppBar>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Header;","import axios from 'axios';\r\n\r\nconst client=axios.create();\r\n\r\n\r\nexport default client;","import client from './client';\r\n\r\n//로그인\r\nexport const login=({username, password})=>\r\n    client.post('/api/auth/login', {username, password});\r\n\r\n//회원가입\r\nexport const register=({username, password})=>\r\n    client.post('/api/auth/register', {username, password});\r\n\r\n//로그인 상태 확인\r\nexport const check=()=>client.get('/api/auth/check');\r\n\r\n//로그아웃\r\nexport const logout=()=>client.post('/api/auth/logout');","import {createAction, handleActions} from 'redux-actions';\r\n\r\nconst START_LOADING = 'loading/START_LOADING';\r\nconst FINISH_LOADING= 'loading/FINISH_LOADING';\r\n\r\n/*\r\n    요청을 위한 액션 타입을 payload로 설정한다. (ex. sample/GET_POST)\r\n*/\r\n\r\nexport const startLoading = createAction(\r\n    START_LOADING,\r\n    requestType => requestType,\r\n);\r\n\r\nexport const finishLoading = createAction(\r\n    FINISH_LOADING,\r\n    requestType => requestType,\r\n);\r\n\r\nconst initialState = {};\r\n\r\nconst loading = handleActions(\r\n    {\r\n        [START_LOADING]: (state, action) => ({\r\n            ...state,\r\n            [action.payload]: true,\r\n        }),\r\n        [FINISH_LOADING]: (state, action) => ({\r\n            ...state,\r\n            [action.payload]: false,\r\n        }),\r\n    },\r\n    initialState,\r\n);\r\n\r\nexport default loading;","import {call, put} from 'redux-saga/effects';\r\nimport {startLoading, finishLoading} from \"../modules/loading\";\r\n\r\nexport const createRequestActionTypes = type => {\r\n    const SUCCESS = `${type}_SUCCESS`;\r\n    const FAILURE = `${type}_FAILURE`;\r\n    return [type, SUCCESS, FAILURE];\r\n};\r\n\r\nexport default function createRequestSaga(type, request) {\r\n    const SUCCESS = `${type}_SUCCESS`;\r\n    const FAILURE = `${type}_FAILURE`;\r\n\r\n    return function*(action) {\r\n        yield put(startLoading(type)); //로딩 시작\r\n        console.dir(action.payload);\r\n        try{\r\n            const response =  yield call(request, action.payload);\r\n            console.dir(response);\r\n            yield put({\r\n                type:SUCCESS,\r\n                payload: response.data,\r\n                meta: response,\r\n            });\r\n        }catch (e) {\r\n            console.dir(e);\r\n            yield put({\r\n                type: FAILURE,\r\n                payload: e,\r\n                error: true,\r\n            });\r\n        }\r\n        yield put(finishLoading(type)); //로딩 끝\r\n    };\r\n}","import {createAction, handleActions} from 'redux-actions';\r\nimport {takeLatest, call, put} from 'redux-saga/effects';\r\nimport * as authAPI from '../lib/api/auth';\r\nimport {createRequestActionTypes} from \"../lib/createRequestSaga\";\r\nimport {startLoading, finishLoading} from \"../modules/loading\";\r\n\r\n\r\nconst TEMP_SET_USER = 'user/TEMP_SET_USER'; //새로코침 이후 임시 로그인 처리\r\n//회원 정보 확인\r\nconst [CHECK, CHECK_SUCCESS, CHECK_FAILURE] = createRequestActionTypes(\r\n    'user/CHECK',\r\n);\r\nconst CHECK_TEMP_FAILURE='user/CHECK_TEMP_FAILURE';\r\nconst LOGOUT= 'user/LOGOUT';\r\n\r\n\r\nexport const tempSetUser = createAction(TEMP_SET_USER, user=>user);\r\nexport const check = createAction(CHECK);\r\nexport const logout = createAction(LOGOUT);\r\n\r\n\r\nfunction* checkSaga(action) {\r\n    yield put(startLoading(CHECK)); //로딩 시작\r\n    try{\r\n        const response =  yield call(authAPI.check, action.payload);\r\n        yield put({\r\n            type: CHECK_SUCCESS,\r\n            payload: response.data,\r\n        });\r\n    }catch (e) {\r\n        console.dir(e);\r\n        if(!e.response){\r\n            //handle Error: Request aborted\r\n            yield put({\r\n                type: CHECK_TEMP_FAILURE,\r\n                payload: e,\r\n                error: true,\r\n            });\r\n        }else{\r\n            const errorStatus=e.response.status;\r\n            console.log('errorStatus--',errorStatus);\r\n            if(errorStatus === 401 || 403){\r\n                yield put({\r\n                    type: CHECK_FAILURE,\r\n                    payload: e,\r\n                    error: true,\r\n                });\r\n            }\r\n        }\r\n    }\r\n    yield put(finishLoading(CHECK)); //로딩 끝\r\n}\r\n\r\nfunction checkFailureSaga() {\r\n    try{\r\n        localStorage.removeItem('user'); //localstorage에서 user를 제거\r\n    } catch (e) {\r\n        console.log('localStorage is not working');\r\n    }\r\n}\r\n\r\n\r\n\r\nfunction* logoutSaga() {\r\n    try{\r\n        yield call(authAPI.logout); //logout API 호출\r\n        localStorage.removeItem('user'); //localstorage 에서 user 제거\r\n    }catch(e){\r\n        console.log(e);\r\n    }\r\n}\r\n\r\n\r\nexport function* userSaga() {\r\n    yield takeLatest(CHECK, checkSaga);\r\n    yield takeLatest(CHECK_FAILURE, checkFailureSaga);\r\n    yield takeLatest(LOGOUT, logoutSaga);\r\n}\r\n\r\nconst initialState = {\r\n    user: null,\r\n    checkError: null,\r\n};\r\n\r\nexport default handleActions(\r\n    {\r\n        [TEMP_SET_USER]: (state, { payload: user }) => ({\r\n            ...state,\r\n            user,\r\n        }),\r\n        [CHECK_SUCCESS]: (state, { payload: user }) => ({\r\n            ...state,\r\n            user,\r\n            checkError: null,\r\n        }),\r\n        [CHECK_TEMP_FAILURE]: (state, { payload: error }) => ({\r\n            ...state,\r\n            checkError: error,\r\n        }),\r\n        [CHECK_FAILURE]: (state, { payload: error }) => ({\r\n            ...state,\r\n            user: null,\r\n            checkError: error,\r\n        }),\r\n        [LOGOUT]: state => ({\r\n            ...state,\r\n            user: null,\r\n        }),\r\n    },\r\n    initialState,\r\n);","import React from 'react';\r\nimport {useSelector, useDispatch} from \"react-redux\";\r\nimport Header from '../../components/common/Header';\r\nimport {logout} from '../../modules/user';\r\n\r\n\r\nconst HeaderContainer = () => {\r\n    const { user } = useSelector(({ user }) => ({ user: user.user }));\r\n    const dispatch = useDispatch();\r\n    const onLogout = () => {\r\n        dispatch(logout());\r\n    };\r\n    return <Header user={user} onLogout={onLogout} />;\r\n};\r\n\r\nexport default HeaderContainer;","import React from 'react';\r\nimport Carousel from 'nuka-carousel';\r\nimport styled from \"styled-components\";\r\nimport url from '../../images/climbing.jpg';\r\nconst CarouselBox=styled.div`\r\n    width: 100%;\r\n    height: 350px;\r\n\r\n`;\r\nexport default function MainCarousel() {\r\n\r\n    return (\r\n        <CarouselBox>\r\n            <Carousel>\r\n                <img src={url} alt=\"test\"/>\r\n                <img src={url} alt=\"test\"/>\r\n                <img src={url} alt=\"test\"/>\r\n                <img src={url} alt=\"test\"/>\r\n                <img src={url} alt=\"test\"/>\r\n            </Carousel>\r\n        </CarouselBox>\r\n\r\n    );\r\n\r\n}","import React from 'react';\r\nimport styled from \"styled-components\";\r\n\r\n\r\n/*화면 전체를 채움*/\r\nconst HomeTemplateBlock=styled.div`\r\n \r\n   \r\n    margin-top:4rem;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: flex-start;\r\n    align-items: center;\r\n    \r\n    background: #313233; \r\n   \r\n\r\n`;\r\n\r\nexport default function HomeTemplate({children}){\r\n    return (\r\n        <>\r\n\r\n            <HomeTemplateBlock>\r\n                {children}\r\n            </HomeTemplateBlock>\r\n        </>\r\n    );\r\n};\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport ShareIcon from '@material-ui/icons/Share';\r\nimport url from '../../images/climbing.jpg';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        //maxWidth: \"100px\",\r\n        flex:1,\r\n        //padding: '1rem'\r\n        margin: '0.5rem',\r\n\r\n    },\r\n    media: {\r\n        height: 'auto',\r\n        //paddingTop: '56.25%', // 16:9\r\n        width: '100%',\r\n    },\r\n    expand: {\r\n        transform: 'rotate(0deg)',\r\n        marginLeft: 'auto',\r\n        transition: theme.transitions.create('transform', {\r\n            duration: theme.transitions.duration.shortest,\r\n        }),\r\n    },\r\n    expandOpen: {\r\n        transform: 'rotate(180deg)',\r\n    },\r\n}));\r\n\r\nexport default function SlideCard() {\r\n    const classes = useStyles();\r\n    const [expanded, setExpanded] = React.useState(false);\r\n\r\n    const handleExpandClick = () => {\r\n        setExpanded(!expanded);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n        <Card className={classes.root}>\r\n            <img\r\n                className={classes.media}\r\n                src={url}\r\n                title=\"Paella dish\"\r\n            />\r\n            <CardContent>\r\n                <Typography variant=\"body1\"  component=\"h1\">\r\n                    K2 climbing Center\r\n                </Typography>\r\n                <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                    This impressive paella is a perfect party dish and a fun meal to cook together with your\r\n                    guests.\r\n                </Typography>\r\n            </CardContent>\r\n            <CardActions disableSpacing>\r\n                <IconButton aria-label=\"add to favorites\">\r\n                    <FavoriteIcon />\r\n                </IconButton>\r\n                <IconButton aria-label=\"share\">\r\n                    <ShareIcon />\r\n                </IconButton>\r\n\r\n            </CardActions>\r\n        </Card>\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\nimport styled from \"styled-components\";\r\nimport SlideCard from \"./SlideCard\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\n\r\n\r\nconst SlideViewBox=styled.div`\r\n   // margin-top: 8rem;\r\n    width: 100%;\r\n    //height: 150px;\r\n    display: flex;\r\n   \r\n   background: #FEAC5E;  /* fallback for old browsers */\r\n  background: -webkit-linear-gradient(to bottom, #4BC0C8, #C779D0, #FEAC5E);  /* Chrome 10-25, Safari 5.1-6 */\r\n  background: linear-gradient(to bottom, #4BC0C8, #C779D0, #FEAC5E); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\r\n    justify-content: center;\r\n    padding-bottom: 10px;\r\n    padding-top: 10px;\r\n    padding-left: 4rem;\r\n    padding-right: 4rem;\r\n`;\r\n\r\nconst SlideViewBlock=styled.div`\r\n    margin-top: 6rem;\r\n    width: 100%;\r\n    //height: 150px;\r\n    display: flex;\r\n    flex-direction: column;\r\n  \r\n    color: white;\r\n`;\r\nconst MarginSome=styled.div`\r\n    \r\n    height: 4rem;\r\n`;\r\nconst useStyles = makeStyles((theme) => ({\r\n    text: {\r\n        //maxWidth: 345,\r\n\r\n        paddingRight: \"10px\",\r\n        //minHeight: '700px'\r\n    },\r\n\r\n}));\r\n\r\nexport default function SlideView(){\r\n    const classes = useStyles();\r\n    return (\r\n        <SlideViewBlock>\r\n            <h1 style={{color: 'white', paddingLeft: '2rem'}}>\r\n                가입된 암장 소식\r\n            </h1>\r\n            <SlideViewBox>\r\n\r\n                <SlideCard/>\r\n                <SlideCard/>\r\n                <SlideCard/>\r\n                <SlideCard/>\r\n            </SlideViewBox>\r\n            <MarginSome></MarginSome>\r\n        </SlideViewBlock>\r\n    )\r\n}","import React from 'react';\r\nimport HeaderContainer from \"../containers/common/HeaderContainer\";\r\nimport MainCarousel from '../components/home/MainCarousel';\r\nimport HomeTemplate from \"../components/home/HomeTemplate\";\r\nimport SlideView from \"../components/home/SlideView\";\r\n\r\n\r\nconst HomePage=()=>{\r\n    return (\r\n        <>\r\n            <HeaderContainer />\r\n            <HomeTemplate>\r\n                <MainCarousel/>\r\n                <SlideView/>\r\n                <SlideView/>\r\n            </HomeTemplate>\r\n        </>\r\n    );\r\n};\r\n\r\n\r\nexport default HomePage;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport {Link} from 'react-router-dom';\r\nimport logo from '../../images/ClimbersLogo.png';\r\nimport Container from \"@material-ui/core/Container\";\r\n\r\n//회원가입/로그인 페이지의 레이아웃을 담당하는 컴포넌트\r\n\r\n/*화면 전체를 채움*/\r\nconst AuthTemplateBlock=styled.div`\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n    right: 0;\r\n    \r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    \r\n    background: #2BC0E4;  /* fallback for old browsers */\r\n    background: -webkit-linear-gradient(to bottom, #EAECC6, #2BC0E4);  /* Chrome 10-25, Safari 5.1-6 */\r\n    background: linear-gradient(to bottom, #EAECC6, #2BC0E4); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\r\n    \r\n    .LogoImage{\r\n        width: 200px;\r\n        margin: 20px;\r\n    }\r\n\r\n`;\r\n\r\n/*흰색 박스*/\r\nconst WhiteBox=styled(Container)`\r\n    box-shadow: 0 0 8px rgba(0, 0, 0, 0.025);\r\n    padding: 2rem;\r\n    background: white;\r\n    border-radius: 2px;\r\n`;\r\n\r\nconst AuthTemplate=( {children} )=>{\r\n    return(\r\n        <AuthTemplateBlock>\r\n            <Link to=\"/\"><img src={logo} className=\"LogoImage\" alt=\"logo\" /></Link>\r\n            <WhiteBox maxWidth=\"xs\">\r\n                {children}\r\n            </WhiteBox>\r\n        </AuthTemplateBlock>\r\n    );\r\n};\r\n\r\nexport default AuthTemplate;","import {createAction, handleActions} from 'redux-actions';\r\nimport produce from 'immer';\r\nimport {takeLatest} from 'redux-saga/effects';\r\nimport createRequestSaga, {\r\n    createRequestActionTypes\r\n} from \"../lib/createRequestSaga\";\r\nimport * as authAPI from '../lib/api/auth';\r\n\r\n\r\nconst CHANGE_FIELD='auth/CHANGE_FIELD';\r\nconst INITIALIZE_FORM='auth/INITIALIZE_FORM';\r\n\r\n\r\nconst [REGISTER, REGISTER_SUCCESS, REGISTER_FAILURE] = createRequestActionTypes(\r\n    'auth/REGISTER',\r\n);\r\n\r\nconst [LOGIN, LOGIN_SUCCESS, LOGIN_FAILURE] = createRequestActionTypes(\r\n    'auth/LOGIN',\r\n);\r\n\r\n\r\nexport const changeField = createAction(\r\n    CHANGE_FIELD,\r\n    ({ form, key, value })=>({\r\n        form, //register, login\r\n        key, //username(email), password, passwordConfirm\r\n        value, //실제 바꾸려는 값\r\n    }),\r\n);\r\n\r\nexport const initializeForm = createAction(INITIALIZE_FORM, form => form); //register, login\r\n\r\nexport const register = createAction(REGISTER, ({ username, password }) => ({\r\n    username,\r\n    password,\r\n}));\r\n\r\nexport const login = createAction(LOGIN, ({username, password}) => ({\r\n    username,\r\n    password,\r\n}));\r\n\r\n//사가 생성\r\nconst registerSaga = createRequestSaga(REGISTER, authAPI.register);\r\nconst loginSaga = createRequestSaga(LOGIN, authAPI.login);\r\nexport function* authSaga() {\r\n    yield takeLatest(REGISTER, registerSaga);\r\n    yield takeLatest(LOGIN, loginSaga);\r\n}\r\n\r\nconst initialState = {\r\n    register: {\r\n        username: '',\r\n        password: '',\r\n        passwordConfirm: '',\r\n    },\r\n    login: {\r\n        username: '',\r\n        password: '',\r\n    },\r\n    auth: null,\r\n    authError: null,\r\n};\r\n\r\nconst auth=handleActions(\r\n    {\r\n        [CHANGE_FIELD]: (state, { payload: {form, key, value} }) =>\r\n            produce(state, draft => {\r\n                draft[form][key]=value; //예 state.register.username을 바꾼다\r\n            }),\r\n        [INITIALIZE_FORM]: (state, { payload: form })=> ({\r\n            ...state,\r\n            [form]: initialState[form],\r\n            authError: null, //폼 전환 시 회원 인증 에러 초기화\r\n        }),\r\n        //회원가입 성공\r\n        [REGISTER_SUCCESS]: (state, { payload: auth }) => ({\r\n            ...state,\r\n            authError: null,\r\n            auth, //response.data\r\n        }),\r\n        //회원가입 실패\r\n        [REGISTER_FAILURE]: (state, { payload: error }) => ({\r\n            ...state,\r\n            authError: error,\r\n        }),\r\n        //로그인 성공\r\n        [LOGIN_SUCCESS]: (state, { payload: auth }) => ({\r\n            ...state,\r\n            authError: null,\r\n            auth,\r\n        }),\r\n        //로그인 실패\r\n        [LOGIN_FAILURE]: (state, { payload: error }) => ({\r\n            ...state,\r\n            authError: error,\r\n        }),\r\n    },\r\n    initialState,\r\n);\r\n\r\nexport default auth;","const palette = {\r\n    gray: [\r\n        '#f8f9fa',\r\n        '#f1f3f5',\r\n        '#e9ecef',\r\n        '#dee2e6',\r\n        '#ced4da',\r\n        '#adb5bd',\r\n        '#868e96',\r\n        '#495057',\r\n        '#343a40',\r\n        '#212529',\r\n    ],\r\n    cyan: [\r\n        '#e3fafc',\r\n        '#c5f6fa',\r\n        '#99e9f2',\r\n        '#66d9e8',\r\n        '#3bc9db',\r\n        '#22b8cf',\r\n        '#15aabf',\r\n        '#1098ad',\r\n        '#0c8599',\r\n        '#0b7285',\r\n    ],\r\n};\r\n\r\nexport default palette;","import React from 'react';\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {Link} from 'react-router-dom';\nimport palette from '../../lib/styles/palette';\nimport Button from \"@material-ui/core/Button\";\nimport styled from 'styled-components';\nimport Typography from '@material-ui/core/Typography';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Avatar from \"@material-ui/core/Avatar\";\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Grid from '@material-ui/core/Grid';\n\n/*\n    회원가입 또는 로그인 폼을 보여준다\n*/\n\n\n//폼 하단에 로그인 혹은 회원가입 링크를 보여줌\nconst Footer=styled(Grid)`\n    margin-top: 2rem;\n    //text-align: right;\n    a{\n        color: ${palette.gray[6]};\n        text-decoration: underline;\n        &:hover{\n            color: ${palette.gray[9]};\n        }\n    }\n`;\n\n\nconst textMap={\n    login: 'LOGIN',\n    register: 'SIGN UP',\n};\n\n\n\n/*에러를 보여준다*/\nconst ErrorMessage=styled.div`\n    color: red;\n    text-align: center;\n    font-size: 0.875rem;\n    margin-top: 1rem;\n`;\n\n\nconst useStyles = makeStyles(theme => ({\n    paper: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n}));\nconst AuthForm=({ type, form, onChange, onSubmit, error })=> {\n    const classes = useStyles();\n    const text=textMap[type];\n    //const text='로그인';\n    return (\n        <div className={classes.paper}>\n            <Avatar className={classes.avatar}>\n                <LockOutlinedIcon />\n            </Avatar>\n            <Typography component=\"h1\" variant=\"h5\">\n                {text}\n            </Typography>\n\n            <form className={classes.form} noValidate onSubmit={onSubmit}>\n                <TextField\n                    variant=\"outlined\"\n                    margin=\"normal\"\n                    required\n                    fullWidth\n                    id=\"email\"\n                    label=\"Email Address\"\n                    name=\"username\"\n                    autoComplete=\"email\"\n                    autoFocus\n                    onChange={onChange}\n                    value={form.username}\n                />\n                <TextField\n                    variant=\"outlined\"\n                    margin=\"normal\"\n                    required\n                    fullWidth\n                    name=\"password\"\n                    label=\"Password\"\n                    type=\"password\"\n                    id=\"password\"\n                    autoComplete=\"new-password\"\n                    onChange={onChange}\n                    value={form.password}\n                />\n                {type === 'register' && (\n                    <TextField\n                        variant=\"outlined\"\n                        margin=\"normal\"\n                        required\n                        fullWidth\n                        name=\"passwordConfirm\"\n                        label=\"Password Conform\"\n                        type=\"password\"\n                        id=\"passwordConfirm\"\n                        autoComplete=\"new-password\"\n                        onChange={onChange}\n                        value={form.passwordConfirm}\n                    />\n                )}\n                {type === 'login' ? (\n                    <FormControlLabel\n                        control={<Checkbox value=\"remember\" color=\"primary\" />}\n                        label=\"Remember me\"\n                    />\n                ) : (\n                    undefined\n                )}\n\n                {error && <ErrorMessage>{error}</ErrorMessage>}\n                <Button\n                    type=\"submit\"\n                    fullWidth\n                    variant=\"contained\"\n                    color=\"primary\"\n                    className={classes.submit}\n                >\n                    {text}\n                </Button>\n                <Footer container>\n                    <Grid item xs>\n                        {type === 'login' ? (\n                            <Link href=\"#\" variant=\"body2\">\n                                Forgot password?\n                            </Link>\n                        ) : (\n                            undefined\n                        )}\n\n                    </Grid>\n                    <Grid item>\n                        {type === 'login' ? (\n                            <Link to=\"/register\">SIGN UP</Link>\n                        ) : (\n                            <Link to=\"/login\">LOGIN</Link>\n                        )}\n                    </Grid>\n                </Footer>\n            </form>\n        </div>\n    );\n};\n\nexport default AuthForm;","import React, {useEffect, useState} from 'react';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {withRouter} from 'react-router-dom';\r\nimport {changeField, initializeForm, login} from \"../../modules/auth\";\r\nimport AuthForm from '../../components/auth/AuthForm';\r\nimport {check} from '../../modules/user';\r\n\r\n\r\nconst LoginForm = ({ history }) => {\r\n    const [error, setError] = useState(null);\r\n\r\n    const dispatch = useDispatch();\r\n    const { form, auth, authError, user } = useSelector(({ auth, user }) => ({\r\n        form: auth.login,\r\n        auth: auth.auth,\r\n        authError: auth.authError,\r\n        user: user.user,\r\n    }));\r\n    //인풋 변경 이벤트 핸들러\r\n    const onChange = e => {\r\n        const { value, name } = e.target;\r\n        dispatch(\r\n            changeField({\r\n                form: 'login',\r\n                key: name,\r\n                value\r\n            })\r\n        )\r\n    };\r\n\r\n    //폼 등록 이벤트 핸들러\r\n    const onSubmit = e => {\r\n        e.preventDefault();\r\n        const { username, password } = form;\r\n        dispatch(login({ username, password }));\r\n    };\r\n\r\n    //컴포넌트가 처음 렌더링 될 때 form 을 초기화 함\r\n    useEffect(() => {\r\n        dispatch(initializeForm('login'));\r\n    }, [dispatch]);\r\n\r\n    useEffect(() => {\r\n        if(authError) {\r\n            console.log('오류 발생');\r\n            console.log(authError);\r\n            setError('로그인 실패');\r\n            return;\r\n        }else{\r\n            //FIX BUG. 로그인 에러 발생한 상태에서 회원가입 폼으로 넘어가면 authError가 존재한 상태로 넘어가게 된다.\r\n            setError('');\r\n        }\r\n        if(auth) {\r\n            console.log('로그인 성공');\r\n            dispatch(check());\r\n        }\r\n    }, [auth, authError, dispatch]);\r\n\r\n    useEffect(() => {\r\n        if(user) {\r\n            history.push('/');\r\n            try{\r\n                localStorage.setItem('user', JSON.stringify(user));\r\n            }catch (e) {\r\n                console.log('localStorage is not working');\r\n            }\r\n        }\r\n    }, [history, user]);\r\n\r\n    return (\r\n        <AuthForm\r\n            type=\"login\"\r\n            form={form}\r\n            onChange={onChange}\r\n            onSubmit={onSubmit}\r\n            error={error}\r\n        />\r\n    );\r\n};\r\n\r\nexport default withRouter(LoginForm);","import React from 'react';\r\nimport AuthTemplate from '../components/auth/AuthTemplate';\r\nimport LoginForm from \"../containers/auth/LoginForm\";\r\n\r\n\r\nconst LoginPage=()=>{\r\n    return (\r\n        <AuthTemplate>\r\n            <LoginForm />\r\n        </AuthTemplate>\r\n    );\r\n};\r\n\r\nexport default LoginPage;","import React, {useEffect, useState} from 'react';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {changeField, initializeForm, register} from \"../../modules/auth\";\r\nimport AuthForm from '../../components/auth/AuthForm';\r\nimport {check} from '../../modules/user';\r\nimport {withRouter} from 'react-router-dom';\r\n\r\n\r\nconst RegisterForm = ({ history }) => {\r\n    const [error, setError] = useState(null);\r\n\r\n    const dispatch = useDispatch();\r\n    const { form, auth, authError, user } = useSelector(({ auth, user }) => ({\r\n        form: auth.register,\r\n        auth: auth.auth,\r\n        authError: auth.authError,\r\n        user: user.user,\r\n    }));\r\n    //인풋 변경 이벤트 핸들러\r\n    const onChange = e => {\r\n        const { value, name } = e.target;\r\n        dispatch(\r\n            changeField({\r\n                form: 'register',\r\n                key: name,\r\n                value\r\n            })\r\n        )\r\n    };\r\n\r\n    //폼 등록 이벤트 핸들러\r\n    const onSubmit = e => {\r\n        e.preventDefault();\r\n        const { username, password, passwordConfirm } = form;\r\n        //하나라도 비어 있다면\r\n        if([username, password, passwordConfirm].includes('')) {\r\n            setError('빈 칸을 모두 입력하세요.');\r\n            return;\r\n        }\r\n        if(password !== passwordConfirm) {\r\n            setError('비밀번호가 일치하지 않습니다.');\r\n            changeField({ form: 'register', key: 'password', value: '' });\r\n            changeField({ form: 'register', key: 'passwordConfirm', value: '' });\r\n            return;\r\n        }\r\n        dispatch(register({ username, password }));\r\n    };\r\n\r\n    //컴포넌트가 처음 렌더링 될 때 form 을 초기화 함\r\n    useEffect(() => {\r\n        dispatch(initializeForm('register'));\r\n    }, [dispatch]);\r\n\r\n    //회원가입 성공/실패 처리\r\n    useEffect(()=> {\r\n        if(authError) {\r\n            console.log('계정명이 이미 존재할 때');\r\n            //계정명이 이미 존재할 때\r\n            console.dir(authError);\r\n            if(authError.response.status === 409) {\r\n                setError('이미 존재하는 계정명입니다.');\r\n                return;\r\n            }\r\n            //기타 이유\r\n            setError('회원가입 실패');\r\n            return;\r\n        }else{\r\n            //FIX BUG. 로그인 에러 발생한 상태에서 회원가입 폼으로 넘어가면 authError가 존재한 상태로 넘어가게 된다.\r\n            setError('');\r\n        }\r\n        if(auth) {\r\n            console.log('회원가입 성공');\r\n            console.log(auth);\r\n            dispatch(check());\r\n        }\r\n    }, [auth, authError, dispatch]);\r\n\r\n    //user값이 잘 설정되었는지 확인\r\n    useEffect(()=> {\r\n        if(user) {\r\n            history.push('/'); //홈 화면으로 이동\r\n            try{\r\n                localStorage.setItem('user', JSON.stringify(user));\r\n            }catch (e) {\r\n                console.log('localStorage is not working');\r\n            }\r\n        }\r\n    }, [history, user]);\r\n\r\n    return (\r\n        <AuthForm\r\n            type=\"register\"\r\n            form={form}\r\n            onChange={onChange}\r\n            onSubmit={onSubmit}\r\n            error={error}\r\n        />\r\n    );\r\n};\r\n\r\nexport default withRouter(RegisterForm);","import React from 'react';\nimport AuthTemplate from '../components/auth/AuthTemplate';\nimport RegisterForm from \"../containers/auth/RegisterForm\";\n\n\nconst RegisterPage=()=>{\n    return (\n        <AuthTemplate>\n            <RegisterForm />\n        </AuthTemplate>\n    );\n};\n\nexport default RegisterPage;","import styled from \"styled-components\";\r\nimport React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst CenterListTemplateBlock=styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    //background: skyblue;\r\n    margin-top: 4rem;\r\n    justify-content: center;\r\n    align-items: center;\r\n`;\r\nconst SortingButtonBlock=styled.div`\r\n    margin: 1rem 0 1rem 0;\r\n    width: 90%;\r\n    @media(min-width: 960px) {\r\n      width: 80%;\r\n    }\r\n    @media(min-width: 1280px) {\r\n      width: 70%;\r\n    }\r\n`\r\nexport default function CenterListTemplate({children}) {\r\n    return (\r\n        <CenterListTemplateBlock>\r\n            <SortingButtonBlock>\r\n                <Button variant=\"outlined\" color=\"primary\">\r\n                    Primary\r\n                </Button>\r\n            </SortingButtonBlock>\r\n\r\n            {children}\r\n        </CenterListTemplateBlock>\r\n    )\r\n}","import React, { useContext, useEffect, useState } from 'react';\r\nimport { CarouselProvider, Slider, Slide, Dot, CarouselContext  } from 'pure-react-carousel';\r\nimport 'pure-react-carousel/dist/react-carousel.es.css';\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport styled from 'styled-components';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        position: 'relative',\r\n    },\r\n    dot: {\r\n        background: '#101014',\r\n        borderRadius: '75px',\r\n        border: '1px solid #101014',\r\n        //color: 'skyblue'\r\n        margin: '1px',\r\n        maxWidth: '1px',\r\n        opacity: '30%',\r\n    },\r\n    dotSelected: {\r\n        borderRadius: '75px',\r\n        background: '#101014',\r\n        border: '1px solid #101014',\r\n    },\r\n    dotBox: {\r\n        textAlign: 'center',\r\n        position: 'absolute',\r\n        bottom: 0,\r\n        left: 0,\r\n        right: 0,\r\n    },\r\n    icon:{\r\n        fontSize: '1rem',\r\n        color: 'white'\r\n    },\r\n    arrowButton:{\r\n        position: 'absolute',\r\n        borderRadius: '50%',\r\n        backgroundColor: 'rgba( 0, 0, 0, 0.2 )',\r\n        height: '20px',\r\n        width: '20px',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        border: 'rgba( 255, 255, 255, 0 )',\r\n        top: '50%',\r\n        transform: 'translateY(-50%)',\r\n        zIndex: 3,\r\n    },\r\n    nextButton: {\r\n        right: 5,\r\n    },\r\n    backButton: {\r\n        left: 5,\r\n    }\r\n}));\r\nconst SlideImage=styled.div`\r\n    width: 100%;\r\n    height: 100%;\r\n    background-image: url(${props=> props.src});\r\n    background-position: center;\r\n    background-repeat: no-repeat;\r\n    background-size : cover;\r\n`;\r\n\r\n\r\nfunction ComponentsUsingContext({imgUrlList, classes}) {\r\n    const carouselContext = useContext(CarouselContext);\r\n    const [currentSlide, setCurrentSlide] = useState(carouselContext.state.currentSlide);\r\n    useEffect(()=> {\r\n        function onChange() {\r\n            setCurrentSlide(carouselContext.state.currentSlide);\r\n        }\r\n        carouselContext.subscribe(onChange);\r\n        return () => carouselContext.unsubscribe(onChange);\r\n    }, [carouselContext]);\r\n    const dotComponents=imgUrlList.map((image, index)=>(\r\n        index===currentSlide ? (\r\n            <Dot key={index} className={classes.dotSelected} slide={index}/>\r\n        ) : (\r\n            <Dot key={index} className={classes.dot} slide={index}/>\r\n        )\r\n    ));\r\n\r\n    return (\r\n        <>\r\n            <div className={classes.dotBox}>{dotComponents}</div>\r\n        </>\r\n    )\r\n}\r\nexport default function Carousel({imgUrlList}) {\r\n    const url='http://localhost:5000';\r\n    const classes = useStyles();\r\n    const count=imgUrlList.length;\r\n    return (\r\n        <div className={classes.root}>\r\n            <CarouselProvider\r\n                naturalSlideWidth={100}\r\n                naturalSlideHeight={70}\r\n                totalSlides={count}\r\n                dragEnabled={false}\r\n                isPlaying={true}\r\n            >\r\n                <Slider>\r\n                    {\r\n                        imgUrlList.map((image, index)=>(\r\n                            <Slide index={index} key={index}><SlideImage src={url+image}/></Slide>\r\n                        ))\r\n                    }\r\n                </Slider>\r\n\r\n                {imgUrlList.length>1 && <ComponentsUsingContext imgUrlList={imgUrlList} classes={classes}/>}\r\n            </CarouselProvider>\r\n        </div>\r\n    );\r\n}","import { Link } from 'react-router-dom';\r\nimport React from 'react';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nfunction LinkWrapperActionArea(props) {\r\n    const { to, ...buttonProps } = props;\r\n    const renderLink = React.useMemo(\r\n        () =>\r\n            React.forwardRef((linkProps, ref) => (\r\n                <Link ref={ref} to='/' {...linkProps} />\r\n            )),\r\n        [to],\r\n    );\r\n\r\n    return (\r\n        <CardActionArea component={renderLink} {...buttonProps}>\r\n            { props.children }\r\n        </CardActionArea>\r\n    );\r\n}\r\n\r\nexport default LinkWrapperActionArea;","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport Rating from '@material-ui/lab/Rating';\r\nimport ShareIcon from '@material-ui/icons/Share';\r\nimport Carousel from \"../centers/centerList/Carousel\";\r\nimport BookmarkBorderIcon from '@material-ui/icons/BookmarkBorder';\r\nimport styled from 'styled-components';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport { withRouter } from 'react-router-dom';\r\nimport LinkWrapperActionArea from './LinkWrapperActionArea'\r\n\r\nconst Title=styled.h1`\r\n    font-size: 1.5rem;\r\n    //background-color: #61dafb;\r\n    margin-bottom: 0;\r\n  \r\n`;\r\nconst Address=styled.p`\r\n    //flex: 1;\r\n    //background-color: #fb61d4;\r\n`;\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        flex:1,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        height: '100%',\r\n    },\r\n    content: {\r\n        flex: 1,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        paddingLeft: '10px',\r\n        padding: 0,\r\n        justifyContent: 'flex-start',\r\n        alignItems: 'flex-start',\r\n\r\n    },\r\n    controls: {\r\n        display: 'flex',\r\n        //background: 'blue',\r\n        position: 'relative',\r\n    },\r\n    icon: {\r\n        padding: 0,\r\n    },\r\n    badge: {\r\n        position: 'absolute',\r\n        right: 25,\r\n    }\r\n\r\n}));\r\n\r\nconst CenterCard= ({center, history}) => {\r\n    const classes = useStyles();\r\n    const onClick=(e)=>{\r\n        console.log('card clicked');\r\n        history.push('/')\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Card className={classes.root}>\r\n                <LinkWrapperActionArea>\r\n                    { center.imgUrlList.length > 0 && (\r\n                        <Carousel\r\n                            imgUrlList={center.imgUrlList}\r\n                            title=\"Paella dish\"\r\n                        />\r\n                    )}\r\n                    <CardContent className={classes.content}>\r\n                        <Title>\r\n                            {center.title}\r\n                        </Title>\r\n                        <Rating name=\"size-small\" defaultValue={2} size=\"small\" />\r\n                        <Address>\r\n                            {center.locationObject.query}\r\n                        </Address>\r\n                    </CardContent>\r\n                </LinkWrapperActionArea>\r\n                <CardActions className={classes.controls}>\r\n                    <IconButton className={classes.icon} aria-label=\"add to favorites\">\r\n                        <BookmarkBorderIcon />\r\n                    </IconButton>\r\n                    <IconButton className={classes.icon} aria-label=\"share\">\r\n                        <ShareIcon />\r\n                    </IconButton>\r\n                    <Badge color=\"secondary\" badgeContent={'event'} aria-label=\"add\" className={classes.badge} />\r\n\r\n                </CardActions>\r\n            </Card>\r\n        </>\r\n    );\r\n}\r\nexport default withRouter(CenterCard);","import client from '../client';\r\nimport qs from 'qs';\r\n\r\nexport const listCenters=({page, sido, sigungu})=> {\r\n    const queryString = qs.stringify({\r\n        page,\r\n        sido,\r\n        sigungu,\r\n    });\r\n    return client.get(`/api/centers?${queryString}`);\r\n};","import {createAction, handleActions} from 'redux-actions';\r\nimport createRequestSaga, {\r\n    createRequestActionTypes\r\n} from \"../../lib/createRequestSaga\";\r\nimport * as centersAPI from '../../lib/api/centers/centerList';\r\nimport {takeLatest, call, put, select} from 'redux-saga/effects';\r\n\r\nconst [\r\n    LIST_CENTERS,\r\n    LIST_CENTERS_SUCCESS,\r\n    LIST_CENTERS_FAILURE,\r\n]=createRequestActionTypes('centerList/LIST_POSTS');\r\n\r\nconst [\r\n    READ_MORE,\r\n    READ_MORE_SUCCESS,\r\n    READ_MORE_FAILURE,\r\n]=createRequestActionTypes('centerList/READ_MORE');\r\n\r\nconst SCROLL_BOTTOM='centerList/SCROLL_BOTTOM';\r\n\r\nexport const listCenters=createAction(\r\n    LIST_CENTERS,\r\n    ({sido, sigungu, page}) => ({sido, sigungu, page}),\r\n);\r\n\r\nexport const scrollBottom=createAction(SCROLL_BOTTOM,\r\n    ({sido, sigungu}) => ({sido, sigungu}),\r\n);\r\n\r\nconst listCentersSaga=createRequestSaga(LIST_CENTERS, centersAPI.listCenters);\r\nconst readMoreCentersSaga=createRequestSaga(READ_MORE, centersAPI.listCenters);\r\n\r\nfunction* scrollBottomSaga(action) {\r\n    console.dir(action);\r\n    const state=yield select();\r\n\r\n    console.dir(state);\r\n    const isLoading=state.loading['posts/LIST_POSTS'];\r\n    const postsState=state.posts;\r\n    if(!isLoading && postsState.posts && postsState.lastPage!==postsState.page) {\r\n        //Todo: lastPage 인 경우 다 읽었다고 띄우기, 스크롤 감지 멈추기\r\n        console.dir(postsState.lastPage);\r\n        console.dir(postsState.page);\r\n        console.dir(action.payload);\r\n\r\n        yield call(readMoreCentersSaga, {\r\n            payload: {\r\n                ...action.payload,\r\n                page: postsState.page+1,\r\n            }\r\n        });\r\n    }else {\r\n        console.log('로딩 중');\r\n    }\r\n}\r\nexport function* centerListSaga(){\r\n    yield takeLatest(LIST_CENTERS, listCentersSaga);\r\n    yield takeLatest(SCROLL_BOTTOM, scrollBottomSaga);\r\n}\r\n\r\nconst initialState={\r\n    sido: null, //시도\r\n    sigungu: null, //시군구\r\n    centers: null,\r\n    error: null,\r\n    lastPage: 1,\r\n    page: 1, //Todo: backend api response 값으로 읽은 페이지 수 가져오기\r\n};\r\n\r\nconst centerList=handleActions(\r\n    {\r\n        [LIST_CENTERS_SUCCESS]: (state, {payload: centers, meta: response}) => ({\r\n            ...state,\r\n            centers,\r\n            lastPage: parseInt(response.headers['last-page'], 10), //문자열을 숫자로 변환\r\n        }),\r\n        [LIST_CENTERS_FAILURE]: (state, {payload: error}) => ({\r\n            ...state,\r\n            error,\r\n        }),\r\n        [READ_MORE_SUCCESS]: (state, {payload: centers, meta: response}) => ({\r\n            ...state,\r\n            centers: state.centers.concat(centers),\r\n            page: state.page+1, //test\r\n            lastPage: parseInt(response.headers['last-page'], 10), //문자열을 숫자로 변환\r\n        }),\r\n    },\r\n    initialState,\r\n);\r\n\r\nexport default centerList;","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CenterCard from \"../../common/CenterCard\";\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport styled from 'styled-components';\r\nconst LoaderBlock=styled.div`\r\n    \r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 90%;\r\n    @media(min-width: 960px) {\r\n      width: 80%;\r\n    }\r\n    @media(min-width: 1280px) {\r\n      width: 70%;\r\n    }\r\n`;\r\nconst CenterListBlock=styled.div`\r\n    \r\n    display: grid;\r\n    column-gap: 5px;\r\n    row-gap: 10px;\r\n    //background: pink;\r\n    @media(max-width: 500px) {\r\n      grid-template-columns: repeat(2, 1fr);\r\n    }\r\n    @media(min-width: 500px) {\r\n      grid-template-columns: repeat(3, 1fr);\r\n    }\r\n    @media(min-width: 725px) {\r\n      grid-template-columns: repeat(4, 1fr);\r\n    }\r\n`;\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    loaderBox: {\r\n        background: 'red',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        minHeight: '80px'\r\n    },\r\n}));\r\n\r\nconst CenterList=({loading, loading2, error, centers, loader,containerRef})=>{\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <LoaderBlock>\r\n            <CenterListBlock ref={containerRef}>\r\n                {!loading && centers && (\r\n                    centers.map(center => (\r\n                        <CenterCard center={center} key={center._id}/>\r\n                    ))\r\n                )}\r\n\r\n            </CenterListBlock>\r\n            <div className={classes.loaderBox}\r\n                 ref={loader}\r\n            >\r\n                {loading && (\r\n                    <CircularProgress />\r\n                )}\r\n\r\n                {loading2 && (\r\n                    <CircularProgress />\r\n                )}\r\n\r\n            </div>\r\n        </LoaderBlock>\r\n    )\r\n};\r\n\r\nexport default CenterList;","import React, {useEffect, useRef} from 'react';\r\nimport qs from 'qs';\r\nimport {withRouter} from 'react-router-dom';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {listCenters, scrollBottom} from '../../../modules/centers/centerList';\r\nimport CenterList from '../../../components/centers/centerList/CenterList';\r\n\r\nconst CommunityContainer=({location})=> {\r\n    const dispatch=useDispatch();\r\n    const loader=useRef();\r\n    const containerRef=useRef();\r\n    const currentPage=useRef(1);\r\n    const {centers, error, centersLoading, user, moreCentersLoading, page}=useSelector(\r\n        ({ centerList, loading, user })=> ({\r\n            centers: centerList.centers,\r\n            error: centerList.error,\r\n            centersLoading: loading['centerList/LIST_CENTERS'],\r\n            user: user.user,\r\n            moreCentersLoading: loading['centerList/READ_MORE'],\r\n            page: centerList.page,\r\n        }),\r\n    );\r\n\r\n    useEffect(()=> {\r\n        const {sido, sigungu, page}=qs.parse(location.search, {\r\n            ignoreQueryPrefix: true,\r\n        });\r\n        currentPage.current=parseInt(page || '1', 10);\r\n        dispatch(listCenters({sido, sigungu, page}));\r\n    }, [dispatch, location.search]);\r\n\r\n    useEffect(()=>{\r\n        console.log('current page state: ', page);\r\n    }, [page]);\r\n\r\n    const options = {\r\n        root: containerRef.current,\r\n        //root: null,\r\n        rootMargin: \"10px\",\r\n        threshold: 0\r\n    };\r\n\r\n\r\n    useEffect(()=>{\r\n        const io = new IntersectionObserver((entries, observer) => {\r\n            entries.forEach(entry => {\r\n                // 관찰 대상이 viewport 안에 들어온 경우 image 로드\r\n                if (entry.isIntersecting) {\r\n                    console.log(entry);\r\n\r\n                    const {tag, username}=qs.parse(location.search, {\r\n                        ignoreQueryPrefix: true,\r\n                    });\r\n                    dispatch(scrollBottom({tag, username})); //page는 redux 내부에서 state 참조함\r\n                }\r\n            })\r\n        }, options);\r\n\r\n        io.observe(loader.current);\r\n        //return io.unobserve(loader.current);\r\n    }, [dispatch]);\r\n\r\n    return (\r\n        <>\r\n            <CenterList\r\n                loading={centersLoading}\r\n                loading2={moreCentersLoading}\r\n                error={error}\r\n                centers={centers}\r\n                showWriteButton={user}\r\n                loader={loader}\r\n                containerRef={containerRef}\r\n\r\n            />\r\n        </>\r\n\r\n\r\n    );\r\n};\r\n\r\nexport default withRouter(CommunityContainer);","import React from 'react';\r\nimport HeaderContainer from \"../../containers/common/HeaderContainer\";\r\nimport CenterListTemplate from '../../components/centers/centerList/CenterListTemplate';\r\nimport CenterCard from '../../components/common/CenterCard';\r\nimport CenterListContainer from \"../../containers/centers/centerList/CenterListContainer\";\r\nconst CenterListPage=()=>{\r\n    return (\r\n        <>\r\n            <HeaderContainer/>\r\n            <CenterListTemplate>\r\n                <CenterListContainer/>\r\n            </CenterListTemplate>\r\n\r\n        </>\r\n\r\n    );\r\n};\r\nexport default CenterListPage;","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: '100%',\r\n        maxWidth: '36ch',\r\n        backgroundColor: theme.palette.background.paper,\r\n        position: 'fixed',\r\n        border: '1px solid darkGray'\r\n    },\r\n    inline: {\r\n        display: 'inline',\r\n    },\r\n}));\r\n\r\nexport default function AlignItemsList() {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <List className={classes.root}>\r\n            <ListItem alignItems=\"flex-start\">\r\n                <ListItemAvatar>\r\n                    <Avatar alt=\"Remy Sharp\" src=\"\" />\r\n                </ListItemAvatar>\r\n                <ListItemText\r\n                    primary=\"Brunch this weekend?\"\r\n                    secondary={\r\n                        <React.Fragment>\r\n                            <Typography\r\n                                component=\"span\"\r\n                                variant=\"body2\"\r\n                                className={classes.inline}\r\n                                color=\"textPrimary\"\r\n                            >\r\n                                Ali Connors\r\n                            </Typography>\r\n                            {\" — I'll be in your neighborhood doing errands this…\"}\r\n                        </React.Fragment>\r\n                    }\r\n                />\r\n            </ListItem>\r\n            <Divider variant=\"inset\" component=\"li\" />\r\n            <ListItem alignItems=\"flex-start\">\r\n                <ListItemAvatar>\r\n                    <Avatar alt=\"Travis Howard\" src=\"/uploads/5692124b-f68f-4644-82fb-88976ec946b3-kakaotalk_20190310_041337030.jpg\" />\r\n                </ListItemAvatar>\r\n                <ListItemText\r\n                    primary=\"Summer BBQ\"\r\n                    secondary={\r\n                        <React.Fragment>\r\n                            <Typography\r\n                                component=\"span\"\r\n                                variant=\"body2\"\r\n                                className={classes.inline}\r\n                                color=\"textPrimary\"\r\n                            >\r\n                                to Scott, Alex, Jennifer\r\n                            </Typography>\r\n                            {\" — Wish I could come, but I'm out of town this…\"}\r\n                        </React.Fragment>\r\n                    }\r\n                />\r\n            </ListItem>\r\n            <Divider variant=\"inset\" component=\"li\" />\r\n            <ListItem alignItems=\"flex-start\">\r\n                <ListItemAvatar>\r\n                    <Avatar alt=\"Cindy Baker\" src=\"/uploads/5692124b-f68f-4644-82fb-88976ec946b3-kakaotalk_20190310_041337030.jpg\" />\r\n                </ListItemAvatar>\r\n                <ListItemText\r\n                    primary=\"Oui Oui\"\r\n                    secondary={\r\n                        <React.Fragment>\r\n                            <Typography\r\n                                component=\"span\"\r\n                                variant=\"body2\"\r\n                                className={classes.inline}\r\n                                color=\"textPrimary\"\r\n                            >\r\n                                Sandra Adams\r\n                            </Typography>\r\n                            {' — Do you have Paris recommendations? Have you ever…'}\r\n                        </React.Fragment>\r\n                    }\r\n                />\r\n            </ListItem>\r\n        </List>\r\n    );\r\n}","import { Link } from 'react-router-dom';\r\nimport React from 'react';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport Fab from \"@material-ui/core/Fab\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nconst useStyles = makeStyles(theme => ({\r\n    extendedIcon: {\r\n        marginRight: theme.spacing(1),\r\n    },\r\n    fab:{\r\n        //margin: '2rem',\r\n        width: '90%',\r\n        background: 'linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)',\r\n    }\r\n}));\r\nfunction LinkWrapperFab(props) {\r\n    const { to, ...buttonProps } = props;\r\n\r\n    const renderLink = React.useMemo(\r\n        () =>\r\n            React.forwardRef((linkProps, ref) => (\r\n                <Link ref={ref} to={to} {...linkProps} />\r\n            )),\r\n        [to],\r\n    );\r\n\r\n    const classes = useStyles();\r\n    return(\r\n\r\n        <Fab component={renderLink} {...buttonProps} className={classes.fab}>\r\n            <AddIcon className={classes.extendedIcon}/>\r\n            { props.children }\r\n        </Fab>\r\n    )\r\n\r\n\r\n}\r\n\r\nexport default LinkWrapperFab;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {createMuiTheme, makeStyles} from '@material-ui/core/styles';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Box from '@material-ui/core/Box';\r\nimport AlignItemList from '../../common/AlignItemList';\r\nimport LinkWrapperFab from \"../../common/LinkedFab\";\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\n\r\n\r\nconst breakpointValues = {\r\n    xs: 0,\r\n    sm: 576,\r\n    md: 768,\r\n    lg: 992,\r\n    xl: 1200,\r\n};\r\nconst theme = createMuiTheme({ breakpoints: { values: breakpointValues } });\r\nfunction TabPanel(props) {\r\n    const { children, value, index, ...other } = props;\r\n\r\n    return (\r\n        <Typography\r\n            component=\"div\"\r\n            role=\"tabpanel\"\r\n            hidden={value !== index}\r\n            id={`vertical-tabpanel-${index}`}\r\n            aria-labelledby={`vertical-tab-${index}`}\r\n            {...other}\r\n        >\r\n            {value === index && <Box p={3}>{children}</Box>}\r\n        </Typography>\r\n    );\r\n}\r\n\r\nTabPanel.propTypes = {\r\n    children: PropTypes.node,\r\n    index: PropTypes.any.isRequired,\r\n    value: PropTypes.any.isRequired,\r\n};\r\n\r\nfunction a11yProps(index) {\r\n    return {\r\n        id: `vertical-tab-${index}`,\r\n        'aria-controls': `vertical-tabpanel-${index}`,\r\n    };\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        marginTop: '6rem',\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        //background: 'skyblue',\r\n        [theme.breakpoints.down('sm')]: {\r\n            flexDirection: 'column',\r\n            width: '80%',\r\n            maxWidth: '650px',\r\n            margin: 'auto',\r\n            marginTop: '6rem',\r\n        },\r\n        [theme.breakpoints.down('xs')]: {\r\n            marginTop: '4rem',\r\n            flexDirection: 'column',\r\n            width: '100%',\r\n        },\r\n    },\r\n    leftBox:{\r\n        display: 'flex',\r\n        flex: 1,\r\n        justifyContent: 'flex-end',\r\n        [theme.breakpoints.down('sm')]: {\r\n            display: 'none',\r\n        },\r\n    },\r\n    topBox: {\r\n        display: 'none',\r\n        [theme.breakpoints.down('sm')]: {\r\n            display: 'flex',\r\n            justifyContent: 'space-around',\r\n            paddingBottom: '0.7rem',\r\n            '&>*':{\r\n                flex:1,\r\n                maxWidth: '180px',\r\n            }\r\n        },\r\n    },\r\n    tabBox: {\r\n        //background: 'gray',\r\n        position: 'fixed',\r\n        width: '15%',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center'\r\n    },\r\n    tabs: {\r\n        borderRight: `1px solid ${theme.palette.divider}`,\r\n        width: '100%',\r\n\r\n    },\r\n    postList: {\r\n        //backgroundColor: 'skyBlue',\r\n        flex: 1,\r\n        //display: 'flex',\r\n        justifyContent: 'center',\r\n        marginRight: '1rem',\r\n        marginLeft: '1rem',\r\n\r\n    },\r\n    rightBox: {\r\n        //backgroundColor: 'gray',\r\n        flex: 1,\r\n        [theme.breakpoints.down('sm')]: {\r\n            display: 'none',\r\n        },\r\n    },\r\n\r\n}));\r\n\r\nexport default function CommunityTemplate({children}) {\r\n    const classes = useStyles(theme);\r\n    const [value, setValue] = React.useState(0);\r\n\r\n    const handleChange = (event, newValue) => {\r\n        setValue(newValue);\r\n        console.log(value);\r\n    };\r\n    const [age, setAge] = React.useState('');\r\n\r\n    const handleChange2 = (event) => {\r\n        setAge(event.target.value);\r\n    };\r\n    return (\r\n        <div className={classes.root}>\r\n            <div className={classes.topBox}>\r\n\r\n                <LinkWrapperFab color=\"primary\" aria-label=\"add\" variant=\"extended\" to=\"/write\">\r\n                    새 게시글\r\n                </LinkWrapperFab>\r\n\r\n                <FormControl variant=\"outlined\">\r\n                    <InputLabel id=\"demo-simple-select-outlined-label\">Category</InputLabel>\r\n                    <Select\r\n                        labelId=\"demo-simple-select-outlined-label\"\r\n                        id=\"demo-simple-select-outlined\"\r\n                        value={age}\r\n                        onChange={handleChange2}\r\n                        label=\"Category\"\r\n                    >\r\n                        <MenuItem value=\"\">\r\n                            <em>All</em>\r\n                        </MenuItem>\r\n                        <MenuItem value={10}>정보</MenuItem>\r\n                        <MenuItem value={20}>문제</MenuItem>\r\n                        <MenuItem value={30}>토론</MenuItem>\r\n                        <MenuItem value={40}>이벤트</MenuItem>\r\n                    </Select>\r\n                </FormControl>\r\n            </div>\r\n            <div className={classes.leftBox}>\r\n                <div className={classes.tabBox}>\r\n\r\n                    <LinkWrapperFab className={classes.fab} color=\"primary\" aria-label=\"add\" variant=\"extended\" to=\"/write\">\r\n                        새 게시글\r\n                    </LinkWrapperFab>\r\n\r\n                    <Tabs\r\n                        orientation=\"vertical\"\r\n                        variant=\"scrollable\"\r\n                        value={value}\r\n                        onChange={handleChange}\r\n                        aria-label=\"Vertical tabs example\"\r\n                        className={classes.tabs}\r\n                    >\r\n                        <Tab label=\"All\" {...a11yProps(0)} />\r\n                        <Tab label=\"정보\" {...a11yProps(1)} />\r\n                        <Tab label=\"문제\" {...a11yProps(2)} />\r\n                        <Tab label=\"토론\" {...a11yProps(3)} />\r\n                        <Tab label=\"이벤트\" {...a11yProps(4)} />\r\n                </Tabs>\r\n                </div>\r\n\r\n            </div>\r\n            <div className={classes.postList}>\r\n                {children}\r\n            </div>\r\n            <div className={classes.rightBox}>\r\n                <AlignItemList/>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import client from '../client';\r\nimport qs from 'qs';\r\n\r\n//이미지 업로드\r\nexport const imageUpload=({fileObject}) => {\r\n    console.dir(fileObject);\r\n    //fileObject -> type:File\r\n    const formData=new FormData();\r\n\r\n    formData.append('img', fileObject);\r\n\r\n    //note: ex)http://localhost:5000/api/community/upload-image 으로 하니 쿠키가 제대로 안넘어감\r\n    return client.post(\"/api/community/upload-image\", formData);\r\n};\r\n\r\n//포스트 전체 업로드\r\nexport const writePost=({imgUrlList, body, tags})=>\r\n    client.post('/api/community/post', {imgUrlList, body, tags});\r\n\r\nexport const listPosts=({page, username, tag})=> {\r\n    const queryString = qs.stringify({\r\n        page,\r\n        username,\r\n        tag,\r\n    });\r\n    return client.get(`/api/community?${queryString}`);\r\n};","import {createAction, handleActions} from 'redux-actions';\r\nimport createRequestSaga, {\r\n    createRequestActionTypes\r\n} from \"../lib/createRequestSaga\";\r\nimport * as postsAPI from '../lib/api/community/posts';\r\nimport {takeLatest, call, put,select} from 'redux-saga/effects';\r\n\r\nconst [\r\n    LIST_POSTS,\r\n    LIST_POSTS_SUCCESS,\r\n    LIST_POSTS_FAILURE,\r\n]=createRequestActionTypes('posts/LIST_POSTS');\r\n\r\nconst [\r\n    READ_MORE,\r\n    READ_MORE_SUCCESS,\r\n    READ_MORE_FAILURE,\r\n]=createRequestActionTypes('posts/READ_MORE');\r\n\r\nconst SCROLL_BOTTOM='posts/SCROLL_BOTTOM';\r\n\r\nexport const listPosts=createAction(\r\n    LIST_POSTS,\r\n    ({tag, username, page}) => ({tag, username, page}),\r\n);\r\n\r\n\r\nexport const scrollBottom=createAction(SCROLL_BOTTOM,\r\n    ({tag, username}) => ({tag, username}),\r\n);\r\n\r\nconst listPostsSaga=createRequestSaga(LIST_POSTS, postsAPI.listPosts);\r\nconst readMorePostsSaga=createRequestSaga(READ_MORE, postsAPI.listPosts);\r\n\r\nfunction* scrollBottomSaga(action) {\r\n    console.dir(action);\r\n    const state=yield select();\r\n\r\n    console.dir(state);\r\n    const isLoading=state.loading['posts/LIST_POSTS'];\r\n    const postsState=state.posts;\r\n    if(!isLoading && postsState.posts && postsState.lastPage!==postsState.page) {\r\n        //Todo: lastPage 인 경우 다 읽었다고 띄우기, 스크롤 감지 멈추기\r\n        console.dir(postsState.lastPage);\r\n        console.dir(postsState.page);\r\n        console.dir(action.payload);\r\n\r\n        yield call(readMorePostsSaga, {\r\n            payload: {\r\n                ...action.payload,\r\n                page: postsState.page+1,\r\n            }\r\n        });\r\n    }else {\r\n        console.log('로딩 중');\r\n    }\r\n}\r\nexport function* postsSaga(){\r\n    yield takeLatest(LIST_POSTS, listPostsSaga);\r\n    yield takeLatest(SCROLL_BOTTOM, scrollBottomSaga);\r\n}\r\n\r\nconst initialState={\r\n    posts: null,\r\n    error: null,\r\n    lastPage: 1,\r\n    page: 1, //Todo: backend api response 값으로 읽은 페이지 수 가져오기\r\n};\r\n\r\nconst posts=handleActions(\r\n    {\r\n        [LIST_POSTS_SUCCESS]: (state, {payload: posts, meta: response}) => ({\r\n            ...state,\r\n            posts,\r\n            lastPage: parseInt(response.headers['last-page'], 10), //문자열을 숫자로 변환\r\n        }),\r\n        [LIST_POSTS_FAILURE]: (state, {payload: error}) => ({\r\n            ...state,\r\n            error,\r\n        }),\r\n        [READ_MORE_SUCCESS]: (state, {payload: posts, meta: response}) => ({\r\n            ...state,\r\n            posts: state.posts.concat(posts),\r\n            page: state.page+1, //test\r\n            lastPage: parseInt(response.headers['last-page'], 10), //문자열을 숫자로 변환\r\n        }),\r\n    },\r\n    initialState,\r\n);\r\n\r\nexport default posts;","import React, { useState, useEffect } from \"react\"\r\nimport styled from \"styled-components\"\r\nconst SlideImage=styled.div`\r\n    width: 100%;\r\n    height: 100%;\r\n    background-image: url(${props=> props.src});\r\n    background-position: center;\r\n    background-repeat: no-repeat;\r\n    background-size : cover;\r\n`;\r\nconst placeHolder =\r\n    \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkqAcAAIUAgUW0RjgAAAAASUVORK5CYII=\";\r\n\r\nconst LazyImage = ({ src, alt }) => {\r\n    const [imageSrc, setImageSrc] = useState(placeHolder)\r\n    const [imageRef, setImageRef] = useState()\r\n\r\n    const onLoad = event => {\r\n        event.target.classList.add(\"loaded\")\r\n    }\r\n\r\n    const onError = event => {\r\n        event.target.classList.add(\"has-error\")\r\n    }\r\n\r\n    useEffect(() => {\r\n        let observer\r\n        let didCancel = false\r\n\r\n        if (imageRef && imageSrc !== src) {\r\n            if (IntersectionObserver) {\r\n                observer = new IntersectionObserver(\r\n                    entries => {\r\n                        entries.forEach(entry => {\r\n                            if (\r\n                                !didCancel &&\r\n                                (entry.intersectionRatio > 0 || entry.isIntersecting)\r\n                            ) {\r\n                                setImageSrc(src);\r\n                                observer.unobserve(imageRef);\r\n                            }\r\n                        })\r\n                    },\r\n                    {\r\n                        threshold: 0.01,\r\n                        rootMargin: \"75%\",\r\n                    }\r\n                );\r\n                observer.observe(imageRef)\r\n            } else {\r\n                // Old browsers fallback\r\n                setImageSrc(src)\r\n            }\r\n        }\r\n        return () => {\r\n            didCancel = true;\r\n            // on component cleanup, we remove the listner\r\n            if (observer && observer.unobserve) {\r\n                observer.unobserve(imageRef)\r\n            }\r\n        }\r\n    }, [src, imageSrc, imageRef])\r\n    return (\r\n        <SlideImage\r\n            ref={setImageRef}\r\n            src={imageSrc}\r\n            alt={alt}\r\n            onLoad={onLoad}\r\n            onError={onError}\r\n        />\r\n    )\r\n};\r\nexport default LazyImage;","import React, { useContext, useEffect, useState } from 'react';\r\nimport { CarouselProvider, Slider, Slide, ButtonBack, ButtonNext, Dot, CarouselContext  } from 'pure-react-carousel';\r\nimport 'pure-react-carousel/dist/react-carousel.es.css';\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport clsx from \"clsx\";\r\nimport ArrowBackIos from '@material-ui/icons/ArrowBackIos';\r\nimport ArrowForwardIos from '@material-ui/icons/ArrowForwardIos';\r\nimport LazyImage from './LazyImage';\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        position: 'relative',\r\n    },\r\n    buttonBack: {\r\n        position: 'absolute',\r\n        top: '50%',\r\n        left: 0,\r\n        transform: 'translateY(-50%)',\r\n    },\r\n    buttonNext: {\r\n        position: 'absolute',\r\n        top: '50%',\r\n        right: 0,\r\n        transform: 'translateY(-50%)'\r\n    },\r\n    dot: {\r\n        background: '#3c4146',\r\n        //borderRadius: '75px',\r\n        border: '1px solid #3c4146',\r\n        //color: 'skyblue'\r\n        margin: '1px'\r\n\r\n    },\r\n    dotSelected: {\r\n        background: '#B68DFF',\r\n        border: '1px solid #B68DFF',\r\n        margin: '1px'\r\n    },\r\n    dotBox: {\r\n        textAlign: 'center',\r\n\r\n    },\r\n    icon:{\r\n        fontSize: '17px',\r\n        color: 'white',\r\n        //flex: 1,\r\n    },\r\n    arrowButton:{\r\n        position: 'absolute',\r\n        borderRadius: '50%',\r\n        backgroundColor: 'rgba( 0, 0, 0, 0.2 )',\r\n        height: '25px',\r\n        width: '25px',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        border: 'rgba( 255, 255, 255, 0 )',\r\n        top: '50%',\r\n        transform: 'translateY(-50%)',\r\n    },\r\n    nextButton: {\r\n        right: 5,\r\n    },\r\n    backButton: {\r\n        left: 5,\r\n    }\r\n}));\r\n\r\nconst RightArrowButton=({classes})=>(\r\n    <ButtonNext className={clsx(classes.arrowButton, classes.nextButton)}>\r\n        <ArrowForwardIos className={classes.icon}/>\r\n    </ButtonNext>\r\n);\r\nconst LeftArrowButton=({classes})=>(\r\n    <ButtonBack className={clsx(classes.arrowButton, classes.backButton)}>\r\n        <ArrowBackIos className={classes.icon}/>\r\n    </ButtonBack>\r\n);\r\n\r\nfunction ComponentsUsingContext({imgUrlList, classes}) {\r\n    const carouselContext = useContext(CarouselContext);\r\n    const [currentSlide, setCurrentSlide] = useState(carouselContext.state.currentSlide);\r\n    useEffect(()=> {\r\n        function onChange() {\r\n            setCurrentSlide(carouselContext.state.currentSlide);\r\n        }\r\n        carouselContext.subscribe(onChange);\r\n        return () => carouselContext.unsubscribe(onChange);\r\n    }, [carouselContext]);\r\n    const dotComponents=imgUrlList.map((image, index)=>(\r\n        index===currentSlide ? (\r\n            <Dot key={index} className={classes.dotSelected} slide={index}/>\r\n        ) : (\r\n            <Dot key={index} className={classes.dot} slide={index}/>\r\n        )\r\n    ));\r\n    const ArrowButtons=()=>{\r\n        if(currentSlide===0){\r\n            return (\r\n                <RightArrowButton classes={classes}/>\r\n            )\r\n        }else if(currentSlide===imgUrlList.length-1){\r\n            return (\r\n                <LeftArrowButton classes={classes}/>\r\n            )\r\n        }else {\r\n            return (\r\n                <>\r\n                    <LeftArrowButton classes={classes}/>\r\n                    <RightArrowButton classes={classes}/>\r\n                </>\r\n            )\r\n        }\r\n    };\r\n    return (\r\n        <>\r\n            <div className={classes.dotBox}>{dotComponents}</div>\r\n            <ArrowButtons/>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default function Carousel({imgUrlList}) {\r\n\r\n    const classes = useStyles();\r\n    const count=imgUrlList.length;\r\n\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <CarouselProvider\r\n                naturalSlideWidth={100}\r\n                naturalSlideHeight={70}\r\n                totalSlides={count}\r\n                dragEnabled={false}\r\n            >\r\n                <Slider>\r\n                    {\r\n                        imgUrlList.map((image, index)=>(\r\n                            <Slide index={index} key={index}><LazyImage src={image}/></Slide>\r\n                        ))\r\n                    }\r\n                </Slider>\r\n                {imgUrlList.length>1 && <ComponentsUsingContext imgUrlList={imgUrlList} classes={classes}/>}\r\n            </CarouselProvider>\r\n        </div>\r\n    );\r\n}","import React, {useEffect} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport clsx from 'clsx';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport {blueGrey, green, red} from '@material-ui/core/colors';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport ShareIcon from '@material-ui/icons/Share';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport Carousel from './Carousel';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        marginBottom: theme.spacing(2),\r\n        border: '1.5px solid',\r\n        borderImageSlice: 1,\r\n        borderImage: 'linear-gradient(to left, #77a1d3, #79cbca, #e684ae);',\r\n        borderImageWidth: '1.5px',\r\n    },\r\n    media: {\r\n        paddingTop: '56.25%', // 16:9\r\n    },\r\n    expand: {\r\n        transform: 'rotate(0deg)',\r\n        marginLeft: 'auto',\r\n        transition: theme.transitions.create('transform', {\r\n            duration: theme.transitions.duration.shortest,\r\n        }),\r\n    },\r\n    expandOpen: {\r\n        transform: 'rotate(180deg)',\r\n    },\r\n    avatar: {\r\n        backgroundColor: green[500],\r\n    },\r\n}));\r\n\r\nexport default function PostListItem({post}) {\r\n    const classes = useStyles();\r\n    const [expanded, setExpanded] = React.useState(false);\r\n\r\n    const handleExpandClick = () => {\r\n        setExpanded(!expanded);\r\n    };\r\n\r\n    const { publishedDate, user, tags, imgUrlList, body, _id}=post;\r\n\r\n    useEffect(()=>{\r\n        console.dir(imgUrlList.length);\r\n    }, [imgUrlList]);\r\n    return (\r\n        <Card className={classes.root}>\r\n            <CardHeader\r\n                avatar={\r\n                    <Avatar aria-label=\"recipe\" className={classes.avatar}>\r\n                        R\r\n                    </Avatar>\r\n                }\r\n                action={\r\n                    <IconButton aria-label=\"settings\">\r\n                        <MoreVertIcon />\r\n                    </IconButton>\r\n                }\r\n\r\n                title={user.username}\r\n                subheader={new Date(publishedDate).toLocaleDateString()}\r\n            />\r\n\r\n            { imgUrlList.length > 0 && (\r\n                <Carousel\r\n                    className={classes.media}\r\n                    imgUrlList={imgUrlList}\r\n                    title=\"Paella dish\"\r\n                />\r\n            )}\r\n\r\n            <CardContent>\r\n                <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                    {body}\r\n                </Typography>\r\n            </CardContent>\r\n            <CardActions disableSpacing>\r\n                <IconButton aria-label=\"add to favorites\">\r\n                    <FavoriteIcon />\r\n                </IconButton>\r\n                <IconButton aria-label=\"share\">\r\n                    <ShareIcon />\r\n                </IconButton>\r\n                <IconButton\r\n                    className={clsx(classes.expand, {\r\n                        [classes.expandOpen]: expanded,\r\n                    })}\r\n                    onClick={handleExpandClick}\r\n                    aria-expanded={expanded}\r\n                    aria-label=\"show more\"\r\n                >\r\n                    <ExpandMoreIcon />\r\n                </IconButton>\r\n            </CardActions>\r\n            <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\r\n                <CardContent>\r\n                    <Typography paragraph>Method:</Typography>\r\n                    <Typography paragraph>\r\n                        Heat 1/2 cup of the broth in a pot until simmering, add saffron and set aside for 10\r\n                        minutes.\r\n                    </Typography>\r\n                    <Typography paragraph>\r\n                        Heat oil in a (14- to 16-inch) paella pan or a large, deep skillet over medium-high\r\n                        heat. Add chicken, shrimp and chorizo, and cook, stirring occasionally until lightly\r\n                        browned, 6 to 8 minutes. Transfer shrimp to a large plate and set aside, leaving chicken\r\n                        and chorizo in the pan. Add pimentón, bay leaves, garlic, tomatoes, onion, salt and\r\n                        pepper, and cook, stirring often until thickened and fragrant, about 10 minutes. Add\r\n                        saffron broth and remaining 4 1/2 cups chicken broth; bring to a boil.\r\n                    </Typography>\r\n                    <Typography paragraph>\r\n                        Add rice and stir very gently to distribute. Top with artichokes and peppers, and cook\r\n                        without stirring, until most of the liquid is absorbed, 15 to 18 minutes. Reduce heat to\r\n                        medium-low, add reserved shrimp and mussels, tucking them down into the rice, and cook\r\n                        again without stirring, until mussels have opened and rice is just tender, 5 to 7\r\n                        minutes more. (Discard any mussels that don’t open.)\r\n                    </Typography>\r\n                    <Typography>\r\n                        Set aside off of the heat to let rest for 10 minutes, and then serve.\r\n                    </Typography>\r\n                </CardContent>\r\n            </Collapse>\r\n        </Card>\r\n    );\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport PostListItem from \"./PostListItem\";\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        //backgroundColor: 'red',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        justifyContent: 'center',\r\n    },\r\n    loaderBox: {\r\n        //background: 'pink',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        minHeight: '80px'\r\n    },\r\n}));\r\n\r\nconst PostList=({loading, loading2, error, posts, user, loader,containerRef})=>{\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <>\r\n            <div className={classes.root} ref={containerRef}>\r\n                {!loading && posts && (\r\n                    posts.map(post => (\r\n                        <PostListItem post={post} key={post._id}/>\r\n                    ))\r\n                )}\r\n                <div className={classes.loaderBox}\r\n                    ref={loader}\r\n                >\r\n                    {loading && (\r\n                        <CircularProgress />\r\n                    )}\r\n\r\n                    {loading2 && (\r\n                        <CircularProgress />\r\n                    )}\r\n\r\n                </div>\r\n            </div>\r\n\r\n        </>\r\n    )\r\n};\r\n\r\nexport default PostList;\r\n\r\n","import React, {useEffect, useRef} from 'react';\r\nimport qs from 'qs';\r\nimport {withRouter} from 'react-router-dom';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {listPosts, scrollBottom} from '../../modules/posts';\r\nimport PostList from '../../components/community/postList/PostList';\r\nimport styled from 'styled-components';\r\n\r\nconst TestWrapper=styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  \r\n`;\r\n\r\nconst CommunityContainer=({location})=> {\r\n    const dispatch=useDispatch();\r\n    const loader=useRef();\r\n    const containerRef=useRef();\r\n    const currentPage=useRef(1);\r\n    const {posts, error, postsLoading, user, morePostsLoading, page}=useSelector(\r\n        ({ posts, loading, user })=> ({\r\n            posts: posts.posts,\r\n            error: posts.error,\r\n            postsLoading: loading['posts/LIST_POSTS'],\r\n            user: user.user,\r\n            morePostsLoading: loading['posts/READ_MORE'],\r\n            page: posts.page,\r\n        }),\r\n    );\r\n\r\n    useEffect(()=> {\r\n        const {tag, username, page}=qs.parse(location.search, {\r\n            ignoreQueryPrefix: true,\r\n        });\r\n        currentPage.current=parseInt(page || '1', 10);\r\n        dispatch(listPosts({tag, username, page}));\r\n    }, [dispatch, location.search]);\r\n\r\n    useEffect(()=>{\r\n        console.log('current page state: ', page);\r\n    }, [page]);\r\n\r\n    const options = {\r\n        root: containerRef.current,\r\n        //root: null,\r\n        rootMargin: \"10px\",\r\n        threshold: 0\r\n    };\r\n\r\n\r\n        useEffect(()=>{\r\n        const io = new IntersectionObserver((entries, observer) => {\r\n            entries.forEach(entry => {\r\n                // 관찰 대상이 viewport 안에 들어온 경우 image 로드\r\n                if (entry.isIntersecting) {\r\n                    console.log(entry);\r\n\r\n                    const {tag, username}=qs.parse(location.search, {\r\n                        ignoreQueryPrefix: true,\r\n                    });\r\n                    dispatch(scrollBottom({tag, username})); //page는 redux 내부에서 state 참조함\r\n                }\r\n            })\r\n        }, options);\r\n\r\n        io.observe(loader.current);\r\n        //return io.unobserve(loader.current);\r\n    }, [dispatch]);\r\n\r\n    return (\r\n        <>\r\n            <PostList\r\n                loading={postsLoading}\r\n                loading2={morePostsLoading}\r\n                error={error}\r\n                posts={posts}\r\n                showWriteButton={user}\r\n                loader={loader}\r\n                containerRef={containerRef}\r\n\r\n            />\r\n        </>\r\n\r\n\r\n    );\r\n};\r\n\r\nexport default withRouter(CommunityContainer);","import React from 'react';\r\nimport CommunityTemplate from '../../components/community/postList/CommunityTemplate';\r\nimport HeaderContainer from \"../../containers/common/HeaderContainer\";\r\nimport CommunityContainer from \"../../containers/community/CommunityContainer\";\r\nconst CommunityPage=()=>{\r\n    return (\r\n        <>\r\n            <HeaderContainer/>\r\n            <CommunityTemplate>\r\n                <CommunityContainer/>\r\n            </CommunityTemplate>\r\n\r\n        </>\r\n\r\n    );\r\n};\r\nexport default CommunityPage;","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\n\r\nimport Container from \"@material-ui/core/Container\";\r\n/*화면 전체를 채움*/\r\nconst WriteTemplateBlock=styled.div`\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n    right: 0;\r\n    \r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    \r\n    background: #2BC0E4;  /* fallback for old browsers */\r\n    background: -webkit-linear-gradient(to bottom, #EAECC6, #2BC0E4);  /* Chrome 10-25, Safari 5.1-6 */\r\n    background: linear-gradient(to bottom, #EAECC6, #2BC0E4); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\r\n    \r\n    .LogoImage{\r\n        width: 200px;\r\n        margin: 20px;\r\n    }\r\n\r\n`;\r\n\r\n/*흰색 박스*/\r\nconst WhiteBox=styled(Container)`\r\n    box-shadow: 0 0 8px rgba(0, 0, 0, 0.025);\r\n    padding: 2rem;\r\n    background: white;\r\n    border-radius: 2px;\r\n    display: flex;\r\n    flex-direction: column;\r\n`;\r\nconst WriteTemplate=( {children} )=>{\r\n    return(\r\n        <WriteTemplateBlock>\r\n            <WhiteBox maxWidth=\"sm\">\r\n                {children}\r\n            </WhiteBox>\r\n        </WriteTemplateBlock>\r\n    );\r\n};\r\n\r\nexport default WriteTemplate;\r\n","import React, {useEffect, useRef} from 'react';\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport styled from 'styled-components';\r\nimport InsertPhotoIcon from '@material-ui/icons/InsertPhoto';\r\nimport Fab from \"@material-ui/core/Fab\";\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport Done from '@material-ui/icons/Done';\r\n\r\nconst PreviewBox=styled.div`\r\n    display: flex;\r\n    flex-wrap: nowrap;\r\n    white-space: nowrap;\r\n    overflow-x: auto;\r\n    width: 100%;\r\n    & > * {\r\n      flex: 0 0 auto;\r\n    }\r\n`;\r\n\r\nconst PreviewItem=styled.div`\r\n    width: 150px;\r\n    height: 150px;\r\n    position: relative;\r\n    margin: 3px;\r\n`;\r\nconst ImgFilter=styled.div`\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: black;\r\n    z-index: 2;\r\n    position: absolute;\r\n    opacity: 0.5;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n`;\r\nconst ImgPreview=styled.img`\r\n    width: 100%;\r\n    height: 100%;\r\n    z-index: 1;\r\n    top: 0;\r\n    position: absolute;\r\n`;\r\nconst ImgSelector=styled.div`\r\n    width: 150px;\r\n    height: 150px;\r\n    display: flex;\r\n    border-style: dashed; \r\n    align-items: center;\r\n    justify-content: center;\r\n`;\r\nconst Input=styled.input`\r\n    overflow: hidden;\r\n    width: 0;\r\n    height: 0;\r\n    position: absolute;\r\n    top: 0;\r\n`;\r\nconst useStyles = makeStyles(theme => ({\r\n    extendedIcon: {\r\n        marginRight: theme.spacing(1),\r\n    },\r\n    doneIcon: {\r\n        color: 'white',\r\n        zIndex: 3,\r\n        fontSize: '5rem',\r\n\r\n    },\r\n    fab:{\r\n        margin: '0.5rem',\r\n    },\r\n    addIcon: {\r\n        fontSize: '5rem',\r\n    }\r\n}));\r\nconst ImageForm=({ hasImages, imgList, onChange })=>{\r\n    const classes = useStyles();\r\n    const previewBoxRef=useRef();\r\n\r\n    useEffect(()=>{\r\n        //이미지 추가 시 horizontal scroll 위치 맨 오른쪽으로 이동\r\n        if(previewBoxRef.current && hasImages){\r\n            const width=previewBoxRef.current.scrollWidth;\r\n            console.dir(width);\r\n            previewBoxRef.current.scrollLeft=width;\r\n        }\r\n    }, [imgList]);\r\n\r\n    return (\r\n        <>\r\n            { !hasImages ? (\r\n                <div className=\"form-group\">\r\n                    <input\r\n                        accept=\"image/*\"\r\n                        className={classes.input}\r\n                        style={{ display: 'none' }}\r\n                        id=\"raised-button-file\"\r\n                        multiple\r\n                        type=\"file\"\r\n                        onChange={onChange}\r\n                    />\r\n                    <label htmlFor=\"raised-button-file\">\r\n                        <Fab color=\"primary\" aria-label=\"add\" component=\"span\" variant=\"extended\" className={classes.fab} >\r\n                            <InsertPhotoIcon className={classes.extendedIcon}/>\r\n                            사진/동영상\r\n                        </Fab>\r\n                    </label>\r\n                </div>\r\n            ):(\r\n                <PreviewBox ref={previewBoxRef}>\r\n                    {imgList.map(object => {\r\n                        const url=URL.createObjectURL(object.file);\r\n                        return (\r\n                            <PreviewItem key={object.id}>\r\n                                {object.done ? (\r\n                                    <ImgFilter>\r\n                                        <Done className={classes.doneIcon}/>\r\n                                    </ImgFilter>\r\n                                ): (undefined)}\r\n\r\n                                <ImgPreview src={url} alt=\"preview\" />\r\n                            </PreviewItem>\r\n                        );\r\n                    })}\r\n                    <PreviewItem>\r\n                        <label>\r\n                            <ImgSelector>\r\n                                <AddIcon className={classes.addIcon}/>\r\n                            </ImgSelector>\r\n                            <Input\r\n                                accept=\"image/*\"\r\n                                type=\"file\"\r\n                                name=\"imgCollection\"\r\n                                multiple onChange={onChange}\r\n                            />\r\n                        </label>\r\n                    </PreviewItem>\r\n                </PreviewBox>\r\n            )}\r\n        </>\r\n    )\r\n};\r\n\r\nexport default ImageForm;","import {createAction, handleActions} from 'redux-actions';\r\nimport createRequestSaga, {\r\n    createRequestActionTypes,\r\n} from \"../lib/createRequestSaga\";\r\nimport { takeLatest, takeEvery, take, call, put, select } from 'redux-saga/effects';\r\nimport {finishLoading, startLoading} from \"./loading\";\r\nimport * as postsAPI from \"../lib/api/community/posts\";\r\nimport produce from \"immer\";\r\n\r\nconst INITIALIZE='write/INITIALIZE';\r\nconst SELECT_IMAGE='write/SELECT_IMAGE';\r\nconst CHANGE_FIELD='write/CHANGE_FIELD';\r\n\r\nconst [\r\n    UPLOAD_QUEUE,\r\n    UPLOAD_QUEUE_SUCCESS,\r\n    UPLOAD_QUEUE_FAILURE,\r\n] = createRequestActionTypes('write/UPLOAD_QUEUE');\r\n/*포스트 폼 전체를 담당*/\r\nconst [\r\n    WRITE_POST,\r\n    WRITE_POST_SUCCESS,\r\n    WRITE_POST_FAILURE,\r\n] = createRequestActionTypes('write/WRITE_POST');\r\n\r\n\r\n/*개별 이미지 파일 업로드 담당*/\r\nconst [\r\n    SAVE_FILE,\r\n    SAVE_FILE_SUCCESS,\r\n    SAVE_FILE_FAILURE,\r\n]= createRequestActionTypes('write/SAVE_FILE');\r\n\r\nexport const initialize=createAction(INITIALIZE);\r\n\r\nexport const selectImage = createAction(SELECT_IMAGE, selectedImg => selectedImg);\r\n\r\nexport const changeField=createAction(CHANGE_FIELD, ({key, value}) => ({\r\n    key,\r\n    value,\r\n}));\r\n\r\nexport const writePost=createAction(WRITE_POST, ({imgList, body, tags})=> ({\r\n    imgList,\r\n    body,\r\n    tags,\r\n}));\r\n//이미지 파일 리스트 업로드를 위한 큐\r\nfunction* uploadQueueSaga(imgList){\r\n    console.log(\"큐 시작\");\r\n\r\n    for(let i=0; i< imgList.length; i++){\r\n        console.dir(imgList[i]);\r\n        const response=yield call (saveFileSaga, {\r\n            type: SAVE_FILE,\r\n            payload: {\r\n                fileObject: imgList[i].file,\r\n                curOrder: i,\r\n            },\r\n        });\r\n        if(!response){\r\n            yield put({\r\n                type: UPLOAD_QUEUE_FAILURE\r\n            });\r\n            return false;\r\n        }\r\n    }\r\n    yield put({\r\n        type: UPLOAD_QUEUE_SUCCESS\r\n    });\r\n    return true;\r\n}\r\n//개별 파일 업로드\r\nfunction* saveFileSaga(action) {\r\n\r\n    try{\r\n        const response = yield call(postsAPI.imageUpload, action.payload);\r\n        console.dir(response);console.dir(response.data.url);\r\n        yield put({\r\n            type: SAVE_FILE_SUCCESS,\r\n            payload: {\r\n                url: response.data.url,\r\n                curOrder: action.payload.curOrder,\r\n            },\r\n        });\r\n        return true;\r\n\r\n    }catch(e){\r\n        console.error(e);\r\n        yield put({\r\n            type: SAVE_FILE_FAILURE,\r\n            payload: e,\r\n            error: true,\r\n        });\r\n        return false;\r\n    }\r\n}\r\n\r\nfunction* writePostSaga(action){\r\n    console.dir(action)\r\n    yield put(startLoading(WRITE_POST));\r\n    const { imgList, body, tags } = action.payload;\r\n\r\n    if(imgList.length !== 0){\r\n\r\n        const isUploaded=yield call (uploadQueueSaga, imgList);\r\n        if(!isUploaded) {\r\n            yield put({\r\n                type: WRITE_POST_FAILURE,\r\n                payload: 'IMAGE UPLOAD QUEUE ERROR'\r\n            });\r\n            return -1;\r\n        }\r\n    }\r\n    const imgUrlList=yield select(state=> state.write.imgUrlList);\r\n    //for(let i=0; i<20; i++){//createDummy\r\n    try{\r\n        const response=yield call (postsAPI.writePost, {\r\n            imgUrlList,\r\n            body,\r\n            tags\r\n        });\r\n        console.dir(response);\r\n        yield put({\r\n            type: WRITE_POST_SUCCESS,\r\n            payload: response.data,\r\n        });\r\n    }catch(e){\r\n        yield put({\r\n            type: WRITE_POST_FAILURE,\r\n            payload: e,\r\n            error: true,\r\n        })\r\n    }\r\n    yield put(finishLoading(WRITE_POST));\r\n    //}//createDummy\r\n}\r\n\r\nexport function* writeSaga() {\r\n    yield takeLatest(WRITE_POST, writePostSaga);\r\n    yield takeLatest(UPLOAD_QUEUE, uploadQueueSaga);\r\n\r\n}\r\n\r\nconst initialState={\r\n    imgQueue: {\r\n        imgList: [],\r\n        listToUpload: [], //Todo: 실패시 다시 업로드 시도\r\n        imgCount: 0, //temp\r\n        uploadedCount: 0,\r\n        selectedImg: null,\r\n        status: 'initial', //initial, pending, ready, complete, failure,\r\n        queueError: null,\r\n    },\r\n    body: '',\r\n    tags: [],\r\n    imgUrlList: [],\r\n    hasImages: false, //선택된 이미지 파일이 있는지\r\n    post: null,\r\n    postError: null,\r\n};\r\n\r\nconst write=handleActions(\r\n    {\r\n        [INITIALIZE]: state=> initialState,\r\n        [CHANGE_FIELD]: (state, {payload: {key, value}})=>({\r\n            ...state,\r\n            [key]: value, //특정 key 값을 업데이트\r\n        }),\r\n        [SELECT_IMAGE]: (state, { payload: selectedImg }) =>\r\n            produce(state, draft => {\r\n                console.dir(selectedImg);\r\n                if (selectedImg.file.name && selectedImg.file.name.match(/.(jpg|jpeg|png|gif)$/i)) {\r\n                    //파일 확장자 검증\r\n                    draft.imgQueue.imgList.push(selectedImg);\r\n                    draft.imgQueue.imgCount++;\r\n                    draft.hasImages=true;\r\n                }else{\r\n                    //Todo: 이미지 파일이 아닌 파일 선택하면 에러 메세지 보여주기\r\n                    console.log(\"ONLY IMAGE FILE ACCECPTED\");\r\n                }\r\n            }),\r\n        [SAVE_FILE_SUCCESS]: (state, {payload: {url, curOrder}})=>\r\n            produce(state, draft => {\r\n                const queue=draft.imgQueue;\r\n                queue.uploadedCount++;\r\n                queue.imgList[curOrder].done=true;\r\n                queue.listToUpload.splice(\r\n                    queue.listToUpload.findIndex(item => item.id === curOrder),\r\n                    1\r\n                );\r\n                draft.imgUrlList[curOrder]=url;\r\n            }),\r\n        [WRITE_POST]: (state, {payload: {imgList}})=>\r\n            produce(state, draft=> {\r\n                const queue=draft.imgQueue;\r\n                queue.status='ready';\r\n                queue.listToUpload=imgList;\r\n                //post, postError을 초기화\r\n                draft.post=null;\r\n                draft.postError=null;\r\n            }),\r\n        [WRITE_POST_SUCCESS]: (state, {payload: post})=>\r\n            produce(state, draft=> {\r\n                draft.post=post;\r\n            }),\r\n        [WRITE_POST_FAILURE]: (state, {payload: postError}) => produce(state, draft=> {\r\n            draft.postError=postError;\r\n        }),\r\n        [UPLOAD_QUEUE_SUCCESS]: (state)=>\r\n            produce(state, draft=> {\r\n                draft.imgQueue.status='complete';\r\n            }),\r\n        [UPLOAD_QUEUE_FAILURE]: (state)=>\r\n            produce(state, draft=> {\r\n                draft.imgQueue.status='failure';\r\n            }),\r\n    },\r\n    initialState,\r\n);\r\n\r\nexport default write;","import React, {useEffect} from 'react';\r\nimport ImageForm from '../../../components/community/writePost/ImageForm';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {selectImage} from \"../../../modules/write\";\r\n\r\nconst ImageContainer=()=>{\r\n\r\n\r\n    const { hasImages, imgList, imgCount } = useSelector(({ write }) => ({\r\n        hasImages: write.hasImages,\r\n        imgList: write.imgQueue.imgList, //type: Array [{file: File, id: number, done: boolean}]\r\n        imgCount: write.imgQueue.imgCount,\r\n    }));\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(()=>{\r\n        console.dir(imgList);\r\n    }, [imgList]);\r\n\r\n    const onFileChange = e => {\r\n        dispatch(\r\n            selectImage({\r\n                file: e.target.files[0], //type: File\r\n                id: imgCount,\r\n                done: false,\r\n            })\r\n        );\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <ImageForm\r\n                hasImages={hasImages}\r\n                onChange={onFileChange}\r\n                imgList={imgList}\r\n            />\r\n\r\n        </>\r\n    )\r\n};\r\nexport default ImageContainer;","import React from 'react';\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nconst useStyles = makeStyles(theme => ({\r\n    paper: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n\r\n    },\r\n    avatar: {\r\n        margin: theme.spacing(1),\r\n        backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    form: {\r\n        width: '100%', // Fix IE 11 issue.\r\n        marginTop: theme.spacing(1),\r\n    },\r\n    submit: {\r\n        margin: theme.spacing(3, 0, 2),\r\n    },\r\n    margin: {\r\n\r\n    },\r\n}));\r\nconst TextForm=({onChangeField, body})=>{\r\n    const classes = useStyles();\r\n    return (\r\n        <form>\r\n                <TextField\r\n                    margin=\"normal\"\r\n                    fullWidth\r\n                    id=\"postText\"\r\n                    label=\"공유할 텍스트\"\r\n                    name=\"postText\"\r\n                    autoFocus\r\n                    onChange={onChangeField}\r\n                    value={body}\r\n                    multiline\r\n                />\r\n        </form>\r\n    )\r\n};\r\n\r\nexport default TextForm;","import React, {useEffect, useCallback} from 'react';\r\nimport TextForm from '../../../components/community/writePost/TextForm';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {changeField, initialize} from \"../../../modules/write\";\r\n\r\nconst TextContainer=()=>{\r\n    const dispatch = useDispatch();\r\n    const { body } = useSelector(({ write }) => ({\r\n        body: write.body,\r\n    }));\r\n\r\n    const onChangeField=useCallback(e=> {\r\n        console.dir(e);\r\n        console.dir(e.target.value);\r\n        return dispatch(changeField({key: 'body', value: e.target.value}));\r\n    }, [\r\n        dispatch,\r\n    ]);\r\n\r\n\r\n    //언마운트 될 때 초기화\r\n    useEffect(()=> {\r\n        return() => {\r\n            dispatch(initialize());\r\n        };\r\n    }, [dispatch]);\r\n    return (\r\n        <>\r\n            <TextForm onChangeField={onChangeField} body={body} />\r\n        </>\r\n    )\r\n};\r\nexport default TextContainer;","import React from 'react';\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nconst WriteActionButton=({onPublish})=>{\r\n\r\n    return (\r\n        <>\r\n            <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                color=\"primary\"\r\n                variant=\"contained\"\r\n                onClick={onPublish}\r\n            >게시</Button>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default WriteActionButton;","import React, {useEffect} from 'react';\r\nimport WriteActionButton from '../../../components/community/writePost/WriteActionButton';\r\nimport {useSelector, useDispatch} from \"react-redux\";\r\nimport {withRouter} from 'react-router-dom';\r\nimport {writePost} from '../../../modules/write';\r\n\r\nconst WriteActionButtonContainer= ({history}) => {\r\n    const dispatch=useDispatch();\r\n    const { imgList, body, tags, post, postError}=useSelector(({write})=> ({\r\n        imgList: write.imgQueue.imgList,\r\n        body: write.body,\r\n        tags: write.tags,\r\n        post: write.post,\r\n        postError: write.postError,\r\n    }));\r\n\r\n    const onPublish = (e)=> {\r\n        e.preventDefault();\r\n        dispatch(\r\n            writePost({\r\n                imgList,\r\n                body,\r\n                tags,\r\n            }),\r\n        );\r\n    };\r\n\r\n    const onCancel=()=> {\r\n        history.goBack();\r\n    };\r\n\r\n    useEffect(()=> {\r\n        if(post) {\r\n            const {_id, user}=post;\r\n            history.push(`/@${user.username}/${_id}`);\r\n        }else{\r\n            console.log('no post');\r\n        }\r\n        if(postError){\r\n            console.log(postError);\r\n        }\r\n    }, [history, post, postError]);\r\n    return <WriteActionButton onPublish={onPublish} />;\r\n};\r\n\r\nexport default withRouter(WriteActionButtonContainer);","import React, {useState, useCallback, useEffect} from 'react';\r\nimport styled from 'styled-components';\r\nimport palette from '../../../lib/styles/palette';\r\n\r\nconst TagBoxBlock = styled.div`\r\n  width: 100%;\r\n  border-top: 1px solid ${palette.gray[2]};\r\n  //padding-top: 2rem;\r\n  h4 {\r\n    color: ${palette.gray[8]}\r\n    margin-top: 0;\r\n    margin-bottom: 0.5rem;\r\n  }\r\n`;\r\n\r\nconst TagForm = styled.form`\r\n  border-radius: 4px;\r\n  overflow: hidden;\r\n  display: flex;\r\n  width: 256px;\r\n  border: 1px solid ${palette.gray[9]}; /* 스타일 초기화 */\r\n  input,\r\n  button {\r\n    outline: none;\r\n    border: none;\r\n    font-size: 1rem;\r\n  }\r\n  input {\r\n    padding: 0.5rem;\r\n    flex: 1;\r\n  }\r\n  button {\r\n    cursor: pointer;\r\n    padding-right: 1rem;\r\n    padding-left: 1rem;\r\n    border: none;\r\n    background: ${palette.gray[8]};\r\n    color: white;\r\n    font-weight: bold;\r\n    &:hover {\r\n      background: ${palette.gray[6]};\r\n    }\r\n  }\r\n`;\r\n\r\nconst Tag = styled.div`\r\n  margin-right: 0.5rem;\r\n  color: ${palette.gray[6]};\r\n  cursor: pointer;\r\n  &:hover {\r\n    opacity: 0.5;\r\n  }\r\n`;\r\n\r\nconst TagListBlock = styled.div`\r\n  display: flex;\r\n  margin-top: 0.5rem;\r\n`;\r\n\r\nconst TagItem=React.memo(({tag, onRemove}) => (\r\n    <Tag onClick={()=> onRemove(tag)}>#{tag}</Tag>\r\n));\r\n\r\nconst TagList=React.memo(({tags, onRemove})=> (\r\n    <TagListBlock>\r\n        {tags.map(tag=> (\r\n            <TagItem key={tag} tag={tag} onRemove={onRemove} />\r\n        ))}\r\n    </TagListBlock>\r\n));\r\n\r\nconst TagBox=({ tags, onChangeTags })=>{\r\n    const [input, setInput]=useState('');\r\n    const [localTags, setLocalTags]=useState([]);\r\n\r\n\r\n    const insertTag=useCallback(\r\n        tag=> {\r\n            if(!tag) return; //공백이라면 추가하지 않음\r\n            if(localTags.includes(tag)) return; //이미 존재한다면 추가하지 않음\r\n            const nextTags=[...localTags, tag];\r\n            setLocalTags(nextTags);\r\n            onChangeTags(nextTags);\r\n        },\r\n        [localTags, onChangeTags],\r\n    );\r\n\r\n    const onRemove=useCallback(\r\n        tag=> {\r\n            const nextTags=localTags.filter(t=> t!==tag);\r\n            setLocalTags(nextTags);\r\n            onChangeTags(nextTags);\r\n        },\r\n        [localTags, onChangeTags],\r\n    );\r\n\r\n    const onChange=useCallback(e=>{\r\n        setInput(e.target.value);\r\n    }, []);\r\n\r\n    const onSubmit=useCallback(\r\n        e=> {\r\n            e.preventDefault();\r\n            insertTag(input.trim());\r\n            setInput('');\r\n        },\r\n        [input, insertTag],\r\n    );\r\n\r\n    //tags 값이 바뀔 때\r\n    useEffect(()=>{\r\n        setLocalTags(tags);\r\n    }, [tags]);\r\n\r\n    return(\r\n        <TagBoxBlock>\r\n            <h4>태그</h4>\r\n            <TagForm onSubmit={onSubmit}>\r\n                <input\r\n                    placeholder=\"태그를 입력하세요\"\r\n                    value={input}\r\n                    onChange={onChange}\r\n                />\r\n                <button type=\"submit\">추가</button>\r\n            </TagForm>\r\n            <TagList tags={localTags} onRemove={onRemove}/>\r\n        </TagBoxBlock>\r\n    );\r\n};\r\n\r\nexport default TagBox;","import React from 'react';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport TagBox from '../../../components/community/writePost/TagBox';\r\nimport {changeField} from \"../../../modules/write\";\r\n\r\nconst TagBoxContainer = ()=> {\r\n    const dispatch=useDispatch();\r\n    const tags=useSelector(state=> state.write.tags);\r\n\r\n    const onChangeTags= nextTags => {\r\n        dispatch(\r\n            changeField({\r\n                key: 'tags',\r\n                value: nextTags,\r\n            }),\r\n        );\r\n    };\r\n\r\n    return <TagBox onChangeTags={onChangeTags} tags={tags} />;\r\n};\r\n\r\nexport default TagBoxContainer;","import React, {useEffect} from \"react\";\r\nimport WriteTemplate from \"../../components/community/writePost/WriteTemplate\";\r\nimport ImageContainer from \"../../containers/community/writePost/ImageContainer\";\r\nimport TextContainer from \"../../containers/community/writePost/TextContainer\";\r\nimport WriteActionButtonContainer from \"../../containers/community/writePost/WriteActionButtonContainer\";\r\nimport TagBoxContainer from \"../../containers/community/writePost/TagBoxContainer\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {withRouter} from 'react-router-dom';\r\n\r\nconst WritePage=({history})=>{\r\n\r\n    const { user } = useSelector(({ user }) => ({ user: user.user }));\r\n    //Todo: login 페이지 모달 창으로 구현하기\r\n    useEffect(()=>{\r\n        if(!user)\r\n        {\r\n            history.push('/login');\r\n        }\r\n    }, [user]);\r\n\r\n    return (\r\n        <WriteTemplate>\r\n            <ImageContainer/>\r\n            <TextContainer/>\r\n            <TagBoxContainer/>\r\n            <WriteActionButtonContainer/>\r\n        </WriteTemplate>\r\n    );\r\n};\r\n\r\nexport default withRouter(WritePage);","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {AutoSizer, List} from 'react-virtualized';\r\nimport styled from 'styled-components';\r\n\r\nconst ListBlock=styled.div`\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    left: 0;\r\n    bottom: 0;\r\n    background: red;\r\n    padding: 100px;\r\n`;\r\n\r\nconst Row=styled.div`\r\n    background: skyblue;\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 200px;\r\n    @media(min-width: 960px) {\r\n      width: 500px;\r\n      background: peru;\r\n    }\r\n    @media(min-width: 1280px) {\r\n      width: 700px;\r\n    }\r\n\r\n`\r\n\r\nconst list = [\r\n    'Brian Vaughn','Brian Vaughn','Brian Vaughn','Brian Vaughn','Brian Vaughn','Brian Vaughn',\r\n    'Brian Vaughn','Brian Vaughn','Brian Vaughn','Brian Vaughn','Brian Vaughn','Brian Vaughn',\r\n    'Brian Vaughn','Brian Vaughn','Brian Vaughn','Brian Vaughn','Brian Vaughn','Brian Vaughn',\r\n    // And so on...\r\n];\r\n\r\nfunction rowRenderer({key, index, style}) {\r\n    return (\r\n        <Row key={key} style={style}>\r\n            {list[index]}\r\n        </Row>\r\n    );\r\n}\r\n\r\n// Render your list\r\nexport default function VirtualizingTest() {\r\n    return(\r\n        <ListBlock>\r\n            <AutoSizer>\r\n                {({height, width}) => (\r\n                    <List\r\n                        height={height}\r\n                        rowCount={list.length}\r\n                        rowHeight={height/4}\r\n                        rowRenderer={rowRenderer}\r\n                        width={width}\r\n                    />\r\n                )}\r\n            </AutoSizer>\r\n        </ListBlock>\r\n\r\n\r\n    )\r\n}\r\n","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport List from '@material-ui/core/List';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport InboxIcon from '@material-ui/icons/MoveToInbox';\r\nimport MailIcon from '@material-ui/icons/Mail';\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: 'flex',\r\n        position: 'absolute',\r\n        left: 0,\r\n        top: 0,\r\n        bottom: 0,\r\n        right: 0,\r\n    },\r\n    appBar: {\r\n        zIndex: theme.zIndex.drawer + 1,\r\n        transition: theme.transitions.create(['width', 'margin'], {\r\n            easing: theme.transitions.easing.sharp,\r\n            duration: theme.transitions.duration.leavingScreen,\r\n        }),\r\n    },\r\n    appBarShift: {\r\n        marginLeft: drawerWidth,\r\n        width: `calc(100% - ${drawerWidth}px)`,\r\n        transition: theme.transitions.create(['width', 'margin'], {\r\n            easing: theme.transitions.easing.sharp,\r\n            duration: theme.transitions.duration.enteringScreen,\r\n        }),\r\n    },\r\n    menuButton: {\r\n        marginRight: 36,\r\n    },\r\n    hide: {\r\n        display: 'none',\r\n    },\r\n    drawer: {\r\n        width: drawerWidth,\r\n        flexShrink: 0,\r\n        whiteSpace: 'nowrap',\r\n    },\r\n    drawerOpen: {\r\n        width: drawerWidth,\r\n        transition: theme.transitions.create('width', {\r\n            easing: theme.transitions.easing.sharp,\r\n            duration: theme.transitions.duration.enteringScreen,\r\n        }),\r\n    },\r\n    drawerClose: {\r\n        transition: theme.transitions.create('width', {\r\n            easing: theme.transitions.easing.sharp,\r\n            duration: theme.transitions.duration.leavingScreen,\r\n        }),\r\n        overflowX: 'hidden',\r\n        width: theme.spacing(7) + 1,\r\n        [theme.breakpoints.up('sm')]: {\r\n            width: theme.spacing(9) + 1,\r\n        },\r\n    },\r\n    toolbar: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'flex-end',\r\n        //padding: theme.spacing(0, 1),\r\n        // necessary for content to be below app bar\r\n        ...theme.mixins.toolbar,\r\n    },\r\n    content: {\r\n        marginTop: '4rem',\r\n        flex: 1,\r\n        display: 'flex',\r\n        //alignItems: 'stretch',\r\n        //justifyContent: 'center',\r\n        background: 'red',\r\n    },\r\n}));\r\n\r\nexport default function SideAppBar({children}) {\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n    const [open, setOpen] = React.useState(false);\r\n\r\n    const handleDrawerOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleDrawerClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <CssBaseline />\r\n            <AppBar\r\n                position=\"fixed\"\r\n                className={clsx(classes.appBar, {\r\n                    [classes.appBarShift]: open,\r\n                })}\r\n            >\r\n                <Toolbar>\r\n                    <IconButton\r\n                        color=\"inherit\"\r\n                        aria-label=\"open drawer\"\r\n                        onClick={handleDrawerOpen}\r\n                        edge=\"start\"\r\n                        className={clsx(classes.menuButton, {\r\n                            [classes.hide]: open,\r\n                        })}\r\n                    >\r\n                        <MenuIcon />\r\n                    </IconButton>\r\n                    <Typography variant=\"h6\" noWrap>\r\n                        Mini variant drawer\r\n                    </Typography>\r\n                </Toolbar>\r\n            </AppBar>\r\n            <Drawer\r\n                variant=\"permanent\"\r\n                className={clsx(classes.drawer, {\r\n                    [classes.drawerOpen]: open,\r\n                    [classes.drawerClose]: !open,\r\n                })}\r\n                classes={{\r\n                    paper: clsx({\r\n                        [classes.drawerOpen]: open,\r\n                        [classes.drawerClose]: !open,\r\n                    }),\r\n                }}\r\n            >\r\n                <div className={classes.toolbar}>\r\n                    <IconButton onClick={handleDrawerClose}>\r\n                        {theme.direction === 'rtl' ? <ChevronRightIcon /> : <ChevronLeftIcon />}\r\n                    </IconButton>\r\n                </div>\r\n                <Divider />\r\n                <List>\r\n                    {['Inbox', 'Starred', 'Send email', 'Drafts'].map((text, index) => (\r\n                        <ListItem button key={text}>\r\n                            <ListItemIcon>{index % 2 === 0 ? <InboxIcon /> : <MailIcon />}</ListItemIcon>\r\n                            <ListItemText primary={text} />\r\n                        </ListItem>\r\n                    ))}\r\n                </List>\r\n                <Divider />\r\n                <List>\r\n                    {['All mail', 'Trash', 'Spam'].map((text, index) => (\r\n                        <ListItem button key={text}>\r\n                            <ListItemIcon>{index % 2 === 0 ? <InboxIcon /> : <MailIcon />}</ListItemIcon>\r\n                            <ListItemText primary={text} />\r\n                        </ListItem>\r\n                    ))}\r\n                </List>\r\n            </Drawer>\r\n            <main className={classes.content}>\r\n                <div className={classes.toolbar} />\r\n                {children}\r\n            </main>\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst FormTemplateBlock=styled.div`\r\n    flex: 1;\r\n    background: gray;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: flex-start;\r\n    overflow: scroll;\r\n    padding: 4rem;\r\n`;\r\nconst WhiteBox=styled.div`\r\n    box-shadow: 0 0 8px rgba(0, 0, 0, 0.025);\r\n    padding: 2rem;\r\n    width: 60%;\r\n    background: white;\r\n    border-radius: 2px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n    &>:nth-child(3) {order: -1};\r\n    &>:nth-child(1) {order: -1};\r\n    &>*{\r\n        flex:1\r\n    };\r\n    //height: 300px;\r\n    //margin-top: 4rem;\r\n`;\r\n\r\nconst FormTemplate=({children})=>{\r\n\r\n    return (\r\n        <FormTemplateBlock>\r\n            <WhiteBox>\r\n                {children}\r\n            </WhiteBox>\r\n        </FormTemplateBlock>\r\n    )\r\n};\r\n\r\nexport default FormTemplate;","import styled, {css} from \"styled-components\";\r\nimport OutlinedInput from \"@material-ui/core/OutlinedInput\";\r\nimport React from \"react\";\r\n//before: styled.label\r\nexport const InputLabelBox=styled.div`\r\n    display: grid;\r\n    grid-template-columns: 1fr 2fr;\r\n    width: 100%;\r\n    align-items: center;\r\n    flex: 1;\r\n`;\r\n\r\nexport const StyledInput=styled(OutlinedInput)`\r\n    height: 40px;\r\n    ${props =>\r\n    props.right &&\r\n    css`\r\n        grid-column: 2 / 3;\r\n        margin-bottom: 4px;\r\n    `}  \r\n`;\r\n\r\nexport const InputWithLabel=({ label, name, value, onChange })=>{\r\n    return (\r\n        <>\r\n            <InputLabelBox>\r\n                <h3>{label}</h3>\r\n                <StyledInput name={name} value={value} onChange={onChange}/>\r\n            </InputLabelBox>\r\n        </>\r\n    )\r\n};\r\n\r\n/*\r\n\r\nconst InputLabelBox=styled.label`\r\n    display: grid;\r\n    grid-template-columns: 1fr 2fr;\r\n    //background: skyblue;\r\n    width: 100%;\r\n    align-items: center;\r\n    flex: 1;\r\n`;\r\n* */\r\n\r\n","import Fab from \"@material-ui/core/Fab\";\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport React, {useCallback, useEffect, useState} from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { StyledInput, InputLabelBox } from \"./commonComponents\";\r\nimport palette from \"../../../../lib/styles/palette\";\r\n\r\nconst Site = styled.div`\r\n    margin-right: 0.5rem;\r\n    color: ${palette.gray[6]};\r\n    cursor: pointer;\r\n    &:hover {\r\n      opacity: 0.5;\r\n    }\r\n`;\r\n\r\nconst ItemListBlock = styled.div`\r\n    display: flex;\r\n    margin-top: 0.5rem;\r\n    flex-direction: column;\r\n    grid-column: 2 / 3;\r\n`;\r\n\r\nconst ArrayForm=styled.form`\r\n    display: flex;\r\n    align-items: center;\r\n    width: 100%;\r\n  \r\n    .input {\r\n      flex: 1;\r\n    }\r\n    .button{\r\n      margin: 0 10px 0 10px;\r\n    }\r\n`;\r\n\r\n//React.memo 를 사용하여 tag값이 바뀔 때만 리렌더링 되도록 처리\r\nconst SiteItem=React.memo(({tag, onRemove})=>(\r\n    <Site onClick={()=>onRemove(tag)}>#{tag}</Site>)\r\n);\r\n\r\n//React.memo를 사용하여 tags 값이 바뀔 때만 리렌더링되도록 처리\r\nconst ItemList=React.memo(({tags, onRemove})=>{\r\n    return(\r\n    <ItemListBlock>\r\n        {tags.map(tag=>(\r\n            <SiteItem key={tag} tag={tag} onRemove={onRemove}/>\r\n        ))}\r\n    </ItemListBlock>\r\n)});\r\n\r\n\r\nconst ArrayBox=({ tags, onChangeArray, name, label })=>{\r\n\r\n    const [input, setInput]=useState('');\r\n    const [localTags, setLocalTags]=useState([]);\r\n    const insertTag=useCallback(\r\n        tag=> {\r\n            if(!tag) return; //공백이라면 추가하지 않음\r\n            if(localTags.includes(tag)) return; //이미 존재한다면 추가하지 않음\r\n            const nextTags=[...localTags, tag];\r\n            setLocalTags(nextTags);\r\n            onChangeArray(name, nextTags);\r\n        },\r\n        [localTags, onChangeArray],\r\n    );\r\n\r\n    const onRemove=useCallback(\r\n        tag=> {\r\n            const nextTags=localTags.filter(t=> t!==tag);\r\n            setLocalTags(nextTags);\r\n            onChangeArray(name , nextTags);\r\n        },\r\n        [localTags, onChangeArray],\r\n    );\r\n\r\n    const onChange=useCallback(e=>{\r\n        setInput(e.target.value);\r\n    }, []);\r\n\r\n    const onSubmit=useCallback(\r\n        e=> {\r\n            e.preventDefault();\r\n            insertTag(input.trim());\r\n            setInput('');\r\n        },\r\n        [input, insertTag],\r\n    );\r\n\r\n    //tags 값이 바뀔 때\r\n    useEffect(()=>{\r\n        setLocalTags(tags);\r\n    }, [tags]);\r\n\r\n    return (\r\n        <InputLabelBox>\r\n            <h3>{label}</h3>\r\n            <ArrayForm onSubmit={onSubmit}>\r\n                <StyledInput\r\n                    className=\"input\"\r\n                    placeholder=\"태그를 입력하세요\"\r\n                    name={name}\r\n                    value={input}\r\n                    onChange={onChange}\r\n                />\r\n                <Fab className=\"button\" size=\"small\" color=\"primary\" aria-label=\"add\" type=\"submit\">\r\n                    <AddIcon />\r\n                </Fab>\r\n            </ArrayForm>\r\n            <ItemList tags={localTags} onRemove={onRemove}/>\r\n        </InputLabelBox>\r\n    )\r\n};\r\n\r\nexport default ArrayBox;","import Fab from \"@material-ui/core/Fab\";\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport React, {useCallback, useEffect, useState} from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { StyledInput, InputLabelBox } from './commonComponents';\r\nimport palette from \"../../../../lib/styles/palette\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    formControl: {\r\n        margin: theme.spacing(1),\r\n        minWidth: 120,\r\n    },\r\n    selectEmpty: {\r\n        marginTop: theme.spacing(2),\r\n    },\r\n}));\r\n\r\nconst PriceForm=styled.form`\r\n    display: flex;\r\n    align-items: center;\r\n    width: 100%;\r\n    .button{\r\n      margin-left: 10px;\r\n      \r\n    }\r\n`;\r\n\r\nconst Price = styled.div`\r\n    margin-right: 0.5rem;\r\n    color: ${palette.gray[6]};\r\n    cursor: pointer;\r\n    &:hover {\r\n      opacity: 0.5;\r\n    }\r\n`;\r\n\r\nconst PriceListBlock = styled.div`\r\n    display: flex;\r\n    margin-top: 0.5rem;\r\n    flex-direction: column;\r\n    grid-column: 2 / 3;\r\n`;\r\n\r\n//React.memo 를 사용하여 tag값이 바뀔 때만 리렌더링 되도록 처리\r\nconst PriceItem=React.memo(({price, onRemove})=>(\r\n    <Price onClick={()=>onRemove(price)}>{price.period} : {price.price}</Price>)\r\n);\r\n\r\n//React.memo를 사용하여 tags 값이 바뀔 때만 리렌더링되도록 처리\r\nconst PriceList=React.memo(({prices, onRemove})=>\r\n{\r\n    return(\r\n    <PriceListBlock>\r\n        {prices.map((price, index)=>{\r\n            console.dir(price);\r\n            return(\r\n            <PriceItem key={index} price={price} onRemove={onRemove}/>\r\n        )})}\r\n    </PriceListBlock>\r\n)});\r\n\r\n\r\nconst PriceBox=({ label, prices, onChangeArray })=>{\r\n    const classes = useStyles();\r\n    const [localPrices, setLocalPrices]=useState([]);\r\n    const [state, setState] = React.useState({\r\n        period: '',\r\n        price: '',\r\n    });\r\n\r\n\r\n    const insertPrice=useCallback(\r\n        price=> {\r\n            if(!price) return; //공백이라면 추가하지 않음\r\n            if(localPrices.includes(price)) return; //이미 존재한다면 추가하지 않음\r\n            const nextPrices=[...localPrices, price];\r\n            setLocalPrices(nextPrices);\r\n            onChangeArray(\"prices\", nextPrices);\r\n        },\r\n        [localPrices, onChangeArray],\r\n    );\r\n\r\n    const onRemove=useCallback(\r\n        tag=> {\r\n            const nextTags=localPrices.filter(t=> t!==tag);\r\n            setLocalPrices(nextTags);\r\n            onChangeArray(\"prices\", nextTags);\r\n        },\r\n        [localPrices, onChangeArray],\r\n    );\r\n\r\n    const onChange=useCallback(e=>{\r\n        setState({\r\n            ...state,\r\n            [e.target.name]: e.target.value,\r\n        });\r\n    }, [state]);\r\n\r\n    const onSubmit=useCallback(\r\n        e=> {\r\n            e.preventDefault();\r\n\r\n            console.dir(state);\r\n            insertPrice(state);\r\n        },\r\n        [state, insertPrice],\r\n    );\r\n\r\n    //tags 값이 바뀔 때\r\n    useEffect(()=>{\r\n        setLocalPrices(prices);\r\n    }, [prices]);\r\n\r\n\r\n    const handleChange = (event) => {\r\n        const name = event.target.name;\r\n\r\n        setState({\r\n            ...state,\r\n            [name]: event.target.value,\r\n        });\r\n    };\r\n    return (\r\n        <InputLabelBox>\r\n            <h3>{label}</h3>\r\n            <PriceForm>\r\n                <FormControl className={classes.formControl} onSubmit={onSubmit}>\r\n                    <InputLabel id=\"demo-simple-select-helper-label\">기간</InputLabel>\r\n                    <Select\r\n                        className=\"select\"\r\n                        value={state.period}\r\n                        onChange={handleChange}\r\n                        inputProps={{\r\n                            name: 'period',\r\n                            id: 'id-period',\r\n                        }}\r\n                    >\r\n                        <MenuItem value=\"체험강습\">체험강습</MenuItem>\r\n                        <MenuItem value=\"1일 이용권\">1일 이용권</MenuItem>\r\n                        <MenuItem value=\"1개월(성인)\">1개월(성인)</MenuItem>\r\n                        <MenuItem value=\"1개월(대학생)\">1개월(대학생)</MenuItem>\r\n                        <MenuItem value=\"1개월(청소년)\">1개월(청소년)</MenuItem>\r\n                        <MenuItem value=\"3개월(성인)\">3개월(성인)</MenuItem>\r\n                    </Select>\r\n                </FormControl>\r\n                <StyledInput\r\n                    className=\"input\"\r\n                    placeholder=\"가격\"\r\n                    name=\"price\"\r\n                    type=\"number\"\r\n                    value={state.price}\r\n                    onChange={onChange}\r\n                />\r\n                <Fab className=\"button\" size=\"small\" color=\"primary\" aria-label=\"add\" type=\"submit\" onClick={onSubmit}>\r\n                    <AddIcon />\r\n                </Fab>\r\n            </PriceForm>\r\n\r\n            <PriceList prices={localPrices} onRemove={onRemove}/>\r\n        </InputLabelBox>\r\n    )\r\n};\r\nexport default PriceBox;\r\n","import React, { useEffect} from 'react';\r\nimport { InputLabelBox } from \"./commonComponents\";\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormGroup from '@material-ui/core/FormGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\n\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nconst useStyles = makeStyles((theme) => ({\r\n    formControl: {\r\n        margin: theme.spacing(3),\r\n    },\r\n}));\r\n\r\nconst CheckBox=({ label, onChangeCheck})=>{\r\n    const classes = useStyles();\r\n\r\n    const [state, setState] = React.useState({\r\n        bouldering: true,\r\n        endurance: true,\r\n        lead: false,\r\n        speed: false,\r\n        outside: false,\r\n    });\r\n\r\n    useEffect(()=>{\r\n        onChangeCheck(state);\r\n    }, [state]);\r\n\r\n    const handleChange = (event) => {\r\n        setState({ ...state, [event.target.name]: event.target.checked });\r\n    };\r\n\r\n    const { bouldering, endurance, lead, speed, outside } = state;\r\n\r\n    return (\r\n        <>\r\n            <InputLabelBox>\r\n                <h3>{label}</h3>\r\n                <FormControl component=\"fieldset\" className={classes.formControl}>\r\n                    <FormGroup>\r\n                        <FormControlLabel\r\n                            control={<Checkbox checked={bouldering} onChange={handleChange} name=\"bouldering\" />}\r\n                            label=\"bouldering\"\r\n                        />\r\n                        <FormControlLabel\r\n                            control={<Checkbox checked={endurance} onChange={handleChange} name=\"endurance\" />}\r\n                            label=\"endurance\"\r\n                        />\r\n                        <FormControlLabel\r\n                            control={<Checkbox checked={lead} onChange={handleChange} name=\"lead\" />}\r\n                            label=\"lead\"\r\n                        />\r\n                        <FormControlLabel\r\n                            control={<Checkbox checked={speed} onChange={handleChange} name=\"speed\" />}\r\n                            label=\"speed\"\r\n                        />\r\n                        <FormControlLabel\r\n                            control={<Checkbox checked={outside} onChange={handleChange} name=\"outside\" />}\r\n                            label=\"outside\"\r\n                        />\r\n                    </FormGroup>\r\n                </FormControl>\r\n            </InputLabelBox>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default CheckBox;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    formControl: {\r\n        margin: theme.spacing(1),\r\n        minWidth: 120,\r\n    },\r\n}));\r\nconst InputLabelBox=styled.label`\r\n    display: grid;\r\n    grid-template-columns: 1fr 2fr;\r\n    //background: skyblue;\r\n    width: 100%;\r\n    align-items: center;\r\n`;\r\n\r\nconst BooleanSelectBox=({ name, value, label, onChangeField})=>{\r\n    const classes = useStyles();\r\n\r\n    const handleChange = (event) => {\r\n        const name = event.target.name;\r\n        console.dir(name);\r\n        const value = event.target.value;\r\n        console.dir(value);\r\n        onChangeField(event)\r\n    };\r\n    return (\r\n        <>\r\n            <InputLabelBox>\r\n                <h3>{label}</h3>\r\n                <FormControl className={classes.formControl}>\r\n                    <Select\r\n                        value={value}\r\n                        onChange={handleChange}\r\n                        name={name}\r\n                    >\r\n                        <MenuItem value={true}>true</MenuItem>\r\n                        <MenuItem value={false}>false</MenuItem>\r\n                    </Select>\r\n                </FormControl>\r\n            </InputLabelBox>\r\n        </>\r\n    )\r\n\r\n};\r\n\r\nexport default BooleanSelectBox;","import React from 'react';\r\nimport ArrayBox from './common/ArrayBox';\r\nimport PriceBox from './common/PriceBox';\r\nimport CheckBox from './common/CheckBox';\r\nimport BooleanSelectBox from './common/BooleanSelectBox';\r\nimport { InputWithLabel } from \"./common/commonComponents\";\r\n\r\nconst SaveForm=(\r\n    {\r\n        title,\r\n        imageSource,\r\n        contact,\r\n        sites,\r\n        prices,\r\n        time,\r\n        hasParking,\r\n        onChangeCheck,\r\n        onChangeField,\r\n        onChangeArray\r\n}) => {\r\n    return (\r\n        <>\r\n            <InputWithLabel\r\n                label=\"Title\"\r\n                name=\"title\"\r\n                value={title}\r\n                onChange={onChangeField}\r\n            />\r\n            <ArrayBox\r\n                tags={imageSource}\r\n                onChangeArray={onChangeArray}\r\n                name=\"imageSource\"\r\n                label=\"ImageSource\"\r\n            />\r\n            <InputWithLabel\r\n                label=\"Contact\"\r\n                name=\"contact\"\r\n                value={contact}\r\n                onChange={onChangeField}\r\n            />\r\n            <ArrayBox\r\n                tags={sites}\r\n                onChangeArray={onChangeArray}\r\n                name=\"sites\"\r\n                label=\"Site\"\r\n            />\r\n            <PriceBox\r\n                label=\"Price\"\r\n                prices={prices}\r\n                onChangeArray={onChangeArray}\r\n            />\r\n            <InputWithLabel\r\n                label=\"Operating hours\"\r\n                name=\"time\"\r\n                value={time}\r\n                onChange={onChangeField}\r\n            />\r\n            <BooleanSelectBox\r\n                onChangeField={onChangeField}\r\n                value={hasParking}\r\n                name=\"hasParking\"\r\n                label=\"Parking\"\r\n            />\r\n            <CheckBox\r\n                label=\"Facility\"\r\n                onChangeCheck={onChangeCheck}\r\n            />\r\n        </>\r\n    )\r\n};\r\n\r\nexport default SaveForm;","import client from '../client';\r\nimport qs from 'qs';\r\n\r\n//이미지 업로드\r\nexport const imageUpload=({fileObject}) => {\r\n    console.dir(fileObject);\r\n    //fileObject -> type:File\r\n    const formData=new FormData();\r\n\r\n    formData.append('img', fileObject);\r\n\r\n    //note: ex)http://localhost:5000/api/community/upload-image 으로 하니 쿠키가 제대로 안넘어감\r\n    return client.post(\"/api/admin/uploadCenterImage\", formData);\r\n};\r\n\r\n//암장 정보 전체 업로드\r\nexport const saveCenter = (data) =>\r\n    client.post('/api/admin/saveCenter', data);\r\n\r\nexport const listCenters=({page, username, tag})=> {\r\n    const queryString = qs.stringify({\r\n        page,\r\n        username,\r\n        tag,\r\n    });\r\n    return client.get(`/api/community?${queryString}`);\r\n};","import {createAction, handleActions} from 'redux-actions';\r\nimport produce from 'immer';\r\nimport {takeLatest, call, put, select} from 'redux-saga/effects';\r\nimport createRequestSaga, {createRequestActionTypes,} from \"../../lib/createRequestSaga\";\r\nimport * as saveAPI from '../../lib/api/admin/saveCenter';\r\nimport {finishLoading, startLoading} from \"../loading\";\r\n\r\nconst INITIALIZE='saveCenter/INITIALIZE';\r\nconst SELECT_IMAGE='saveCenter/SELECT_IMAGE';\r\nconst CHANGE_FIELD='saveCenter/CHANGE_FIELD';\r\nconst SET_LOCATION='saveCenter/SET_LOCATION';\r\n\r\nconst [\r\n    UPLOAD_QUEUE,\r\n    UPLOAD_QUEUE_SUCCESS,\r\n    UPLOAD_QUEUE_FAILURE,\r\n] = createRequestActionTypes('saveCenter/UPLOAD_QUEUE');\r\n/*포스트 폼 전체를 담당*/\r\nconst [\r\n    SAVE_CENTER,\r\n    SAVE_CENTER_SUCCESS,\r\n    SAVE_CENTER_FAILURE,\r\n] = createRequestActionTypes('saveCenter/SAVE_CENTER');\r\n\r\n/*개별 이미지 파일 업로드 담당*/\r\nconst [\r\n    SAVE_FILE,\r\n    SAVE_FILE_SUCCESS,\r\n    SAVE_FILE_FAILURE,\r\n]= createRequestActionTypes('saveCenter/SAVE_FILE');\r\n\r\nexport const initialize=createAction(INITIALIZE);\r\n\r\nexport const selectImage = createAction(SELECT_IMAGE, selectedImg => selectedImg);\r\n\r\nexport const changeField=createAction(CHANGE_FIELD, ({key, value}) => ({\r\n    key,\r\n    value,\r\n}));\r\n\r\nexport const setLocation=createAction(SET_LOCATION, ({data}) => ({\r\n    data,\r\n}));\r\nexport const saveCenterRequest=createAction(\r\n    SAVE_CENTER,\r\n    (data)=> (data));\r\n\r\n//이미지 파일 리스트 업로드를 위한 큐\r\nfunction* uploadQueueSaga(imgList){\r\n    console.log(\"큐 시작\");\r\n\r\n    for(let i=0; i< imgList.length; i++){\r\n        console.dir(imgList[i]);\r\n        const response=yield call (saveFileSaga, {\r\n            type: SAVE_FILE,\r\n            payload: {\r\n                fileObject: imgList[i].file,\r\n                curOrder: i,\r\n            },\r\n        });\r\n        if(!response){\r\n            yield put({\r\n                type: UPLOAD_QUEUE_FAILURE\r\n            });\r\n            return false;\r\n        }\r\n    }\r\n    yield put({\r\n        type: UPLOAD_QUEUE_SUCCESS\r\n    });\r\n    return true;\r\n}\r\n//개별 파일 업로드\r\nfunction* saveFileSaga(action) {\r\n\r\n    try{\r\n        const response = yield call(saveAPI.imageUpload, action.payload);\r\n        console.dir(response);console.dir(response.data.url);\r\n        yield put({\r\n            type: SAVE_FILE_SUCCESS,\r\n            payload: {\r\n                url: response.data.url,\r\n                curOrder: action.payload.curOrder,\r\n            },\r\n        });\r\n        return true;\r\n\r\n    }catch(e){\r\n        console.error(e);\r\n        yield put({\r\n            type: SAVE_FILE_FAILURE,\r\n            payload: e,\r\n            error: true,\r\n        });\r\n        return false;\r\n    }\r\n}\r\n\r\nfunction* saveCenterRequestSaga(action){\r\n    console.dir(action);\r\n    yield put(startLoading(SAVE_CENTER));\r\n    const { imgList } = action.payload;\r\n    delete action.payload.imgList;\r\n\r\n    if(imgList.length !== 0){\r\n\r\n        const isUploaded=yield call (uploadQueueSaga, imgList);\r\n        if(!isUploaded) {\r\n            yield put({\r\n                type: SAVE_CENTER_FAILURE,\r\n                payload: 'IMAGE UPLOAD QUEUE ERROR'\r\n            });\r\n            return -1;\r\n        }\r\n    }\r\n    const imgUrlList=yield select(state=> state.saveCenter.imgUrlList);\r\n    action.payload.imgUrlList=imgUrlList;\r\n    console.dir(action.payload);\r\n\r\n    try{\r\n        const response=yield call (saveAPI.saveCenter, action.payload);\r\n        console.dir(response);\r\n        yield put({\r\n            type: SAVE_CENTER_SUCCESS,\r\n            payload: response.data,\r\n        });\r\n    }catch(e){\r\n        yield put({\r\n            type: SAVE_CENTER_FAILURE,\r\n            payload: e,\r\n            error: true,\r\n        })\r\n    }\r\n    yield put(finishLoading(SAVE_CENTER));\r\n}\r\n\r\n//사가 생성\r\nexport function* saveCenterSaga(){\r\n    yield takeLatest(SAVE_CENTER, saveCenterRequestSaga);\r\n    yield takeLatest(UPLOAD_QUEUE, uploadQueueSaga);\r\n}\r\n\r\nconst initialState={\r\n    imgQueue: {\r\n        imgList: [],\r\n        listToUpload: [], //Todo: 실패시 다시 업로드 시도\r\n        imgCount: 0, //temp\r\n        uploadedCount: 0,\r\n        selectedImg: null,\r\n        status: 'initial', //initial, pending, ready, complete, failure,\r\n        queueError: null,\r\n    },\r\n    title: '',\r\n    location: '',\r\n    locationDetail: '',\r\n    locationObject: null,\r\n    sites: [],\r\n    prices: [],\r\n    contact: '',\r\n    time: '',\r\n    imgUrlList: [],\r\n    hasParking: false,\r\n    facility: [],\r\n    imageSource:[],\r\n    hasImages: false, //선택된 이미지 파일이 있는지\r\n    post: null,\r\n    postError: null,\r\n};\r\n\r\nconst saveCenter=handleActions(\r\n    {\r\n        [INITIALIZE]: state=> initialState,\r\n        [CHANGE_FIELD]: (state, {payload: {key, value}})=>({\r\n            ...state,\r\n            [key]: value, //특정 key 값을 업데이트\r\n        }),\r\n        [SET_LOCATION]: (state, {payload: {data}})=>{\r\n            let fullAddress = data.address;\r\n            let extraAddress = '';\r\n\r\n            if (data.addressType === 'R') {\r\n                if (data.bname !== '') {\r\n                    extraAddress += data.bname;\r\n                }\r\n                if (data.buildingName !== '') {\r\n                    extraAddress += (extraAddress !== '' ? `, ${data.buildingName}` : data.buildingName);\r\n                }\r\n                fullAddress += (extraAddress !== '' ? ` (${extraAddress})` : '');\r\n            }\r\n            return {\r\n            ...state,\r\n            locationObject: data,\r\n            location: fullAddress,\r\n        }},\r\n        [SELECT_IMAGE]: (state, { payload: selectedImg }) =>\r\n            produce(state, draft => {\r\n                console.dir(selectedImg);\r\n                if (selectedImg.file.name && selectedImg.file.name.match(/.(jpg|jpeg|png)$/i)) {\r\n                    //파일 확장자 검증\r\n                    draft.imgQueue.imgList.push(selectedImg);\r\n                    draft.imgQueue.imgCount++;\r\n                    draft.hasImages=true;\r\n                }else{\r\n                    //Todo: 이미지 파일이 아닌 파일 선택하면 에러 메세지 보여주기\r\n                    console.log(\"ONLY IMAGE FILE ACCECPTED\");\r\n                }\r\n            }),\r\n        [SAVE_FILE_SUCCESS]: (state, {payload: {url, curOrder}})=>\r\n            produce(state, draft => {\r\n                const queue=draft.imgQueue;\r\n                queue.uploadedCount++;\r\n                queue.imgList[curOrder].done=true;\r\n                queue.listToUpload.splice(\r\n                    queue.listToUpload.findIndex(item => item.id === curOrder),\r\n                    1\r\n                );\r\n                draft.imgUrlList[curOrder]=url;\r\n            }),\r\n        [SAVE_CENTER]: (state, {payload: {imgList}})=>\r\n            produce(state, draft=> {\r\n                const queue=draft.imgQueue;\r\n                queue.status='ready';\r\n                queue.listToUpload=imgList;\r\n                //post, postError을 초기화\r\n                draft.post=null;\r\n                draft.postError=null;\r\n            }),\r\n        [SAVE_CENTER_SUCCESS]: (state, {payload: post})=>\r\n            produce(state, draft=> {\r\n                draft.post=post;\r\n            }),\r\n        [SAVE_CENTER_FAILURE]: (state, {payload: postError}) => produce(state, draft=> {\r\n            draft.postError=postError;\r\n        }),\r\n        [UPLOAD_QUEUE_SUCCESS]: (state)=>\r\n            produce(state, draft=> {\r\n                draft.imgQueue.status='complete';\r\n            }),\r\n        [UPLOAD_QUEUE_FAILURE]: (state)=>\r\n            produce(state, draft=> {\r\n                draft.imgQueue.status='failure';\r\n            }),\r\n    },\r\n    initialState,\r\n);\r\n\r\nexport default saveCenter;","import React, {useCallback, useEffect} from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {withRouter} from 'react-router-dom';\r\nimport SaveForm from '../../../components/admin/saveCenterInfo/SaveForm';\r\nimport {changeField} from \"../../../modules/admin/saveCenter\";\r\n\r\nconst SaveFormContainer=({history})=>{\r\n    const dispatch=useDispatch();\r\n    const {title, imageSource, location, sites, prices, hasParking}= useSelector(({saveCenter})=>({\r\n        title: saveCenter.title,\r\n        imageSource: saveCenter.imageSource,\r\n        location: saveCenter.location,\r\n        sites: saveCenter.sites,\r\n        prices: saveCenter.prices,\r\n        hasParking: saveCenter.hasParking,\r\n    }));\r\n    useEffect(()=>{\r\n        console.dir(hasParking)\r\n    }, [hasParking])\r\n\r\n    const onChangeField=useCallback(e=> {\r\n        return dispatch(changeField({key: e.target.name, value: e.target.value}));\r\n    }, [dispatch]);\r\n\r\n    const onChangeArray=useCallback((name, nextTags)=> {\r\n        return dispatch(changeField({key: name, value: nextTags}));\r\n    },[dispatch]);\r\n\r\n    const onChangeCheck=useCallback(state=> {\r\n\r\n        return dispatch(changeField({key: \"facility\", value: state}));\r\n    }, [\r\n        dispatch,\r\n    ]);\r\n    return(\r\n        <SaveForm\r\n            title={title}\r\n            imageSource={imageSource}\r\n            location={location}\r\n            sites={sites}\r\n            prices={prices}\r\n            hasParking={hasParking}\r\n            onChangeCheck={onChangeCheck}\r\n            onChangeField={onChangeField}\r\n            onChangeArray={onChangeArray}\r\n        />\r\n    );\r\n};\r\n\r\nexport default withRouter(SaveFormContainer);","import React, {useEffect} from 'react';\r\nimport DaumPostcode from 'react-daum-postcode';\r\n\r\nexport default function PostCode({onSelectLocation, handleClose}){\r\n\r\n    useEffect(()=>{\r\n        console.dir(PostCode);\r\n    },[PostCode]);\r\n    const handleComplete = (data) => {\r\n        onSelectLocation(data); //test redux\r\n        handleClose();\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <DaumPostcode\r\n            onComplete={handleComplete}\r\n            width='100%'\r\n            />\r\n        </>\r\n    );\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Button from '@material-ui/core/Button';\r\nimport PostCode from './PostCode';\r\nfunction rand() {\r\n    return Math.round(Math.random() * 20) - 10;\r\n}\r\n\r\nfunction getModalStyle() {\r\n    const top = 50 + rand();\r\n    const left = 50 + rand();\r\n    return {\r\n        top: `${top}%`,\r\n        left: `${left}%`,\r\n        transform: `translate(-${top}%, -${left}%)`,\r\n    };\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    paper: {\r\n        position: 'absolute',\r\n        width: 400,\r\n        backgroundColor: theme.palette.background.paper,\r\n        border: '2px solid #000',\r\n        boxShadow: theme.shadows[5],\r\n    },\r\n}));\r\n\r\nexport default function PostCodeModal({onSelectLocation}) {\r\n    const classes = useStyles();\r\n    // getModalStyle is not a pure function, we roll the style only on the first render\r\n    const [modalStyle] = React.useState(getModalStyle);\r\n    const [open, setOpen] = React.useState(false);\r\n\r\n    const handleOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    const body = (\r\n        <div style={modalStyle} className={classes.paper}>\r\n            <PostCode onSelectLocation={onSelectLocation} handleClose={handleClose}/>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div>\r\n            <Button variant=\"outlined\" color=\"primary\" onClick={handleOpen}>\r\n                주소 검색\r\n            </Button>\r\n            <Modal\r\n                open={open}\r\n                onClose={handleClose}\r\n                aria-labelledby=\"search-postcode\"\r\n                aria-describedby=\"search-postcode-description\"\r\n            >\r\n                {body}\r\n            </Modal>\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\nimport styled, {css} from 'styled-components';\r\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\r\nimport PostCodeModal from './common/PostCodeModal';\r\n\r\nconst InputLabelBox=styled.label`\r\n    flex: 1;\r\n    display: grid;\r\n    grid-template-columns: 1fr 2fr;\r\n    //background: skyblue;\r\n    width: 100%;\r\n    align-items: center;\r\n`;\r\nconst StyledInput=styled(OutlinedInput)`\r\n    height: 40px;\r\n    ${props =>\r\n    props.right &&\r\n    css`\r\n        grid-column: 2 / 3;\r\n        margin-bottom: 4px;\r\n    `}  \r\n`;\r\n\r\nconst LocationSearchForm=({ location, locationDetail, onSelectLocation, onChangeField })=>{\r\n\r\n    return (\r\n        <>\r\n            <InputLabelBox>\r\n                <h3>Location</h3>\r\n                <PostCodeModal onSelectLocation={onSelectLocation} />\r\n                <StyledInput right=\"true\" disabled={true} value={location}/>\r\n                <StyledInput\r\n                    placeholder=\"상세주소 입력\"\r\n                    right=\"true\"\r\n                    onChange={onChangeField}\r\n                    name=\"locationDetail\"\r\n                    value={locationDetail}\r\n                />\r\n            </InputLabelBox>\r\n        </>\r\n    )\r\n\r\n};\r\n\r\nexport default LocationSearchForm;","import React, {useEffect, useCallback} from 'react';\r\nimport LocationSearchForm from '../../../components/admin/saveCenterInfo/LocationSearchForm';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {changeField, initialize, setLocation} from \"../../../modules/admin/saveCenter\";\r\nconst LocationSearchContainer=()=>{\r\n    const dispatch = useDispatch();\r\n    const {location, locationDetail}= useSelector(({saveCenter})=>({\r\n        location: saveCenter.location,\r\n        locationDetail: saveCenter.locationDetail,\r\n    }));\r\n\r\n    const onSelectLocation=useCallback(object=> {\r\n        return dispatch(setLocation({ data: object }));\r\n    }, [\r\n        dispatch,\r\n    ]);\r\n\r\n    const onChangeField=useCallback(e=> {\r\n        return dispatch(changeField({key: e.target.name, value: e.target.value}));\r\n    }, [dispatch]);\r\n\r\n    //언마운트 될 때 초기화\r\n    useEffect(()=> {\r\n        return() => {\r\n            dispatch(initialize());\r\n        };\r\n    }, [dispatch]);\r\n\r\n    return (\r\n        <>\r\n            <LocationSearchForm\r\n                onSelectLocation={onSelectLocation}\r\n                location={location}\r\n                onChangeField={onChangeField}\r\n                locationDetail={locationDetail}\r\n            />\r\n        </>\r\n    )\r\n};\r\n\r\nexport default LocationSearchContainer;","import React, {useEffect} from 'react';\r\nimport WriteActionButton from '../../../components/community/writePost/WriteActionButton';\r\nimport {useSelector, useDispatch} from \"react-redux\";\r\nimport {withRouter} from 'react-router-dom';\r\nimport {saveCenterRequest} from '../../../modules/admin/saveCenter';\r\n\r\nconst WriteActionButtonContainer= ({history}) => {\r\n    const dispatch=useDispatch();\r\n\r\n    const {post, postError, ...centerInfoObject}= useSelector(({saveCenter}) => ({\r\n        imgList: saveCenter.imgQueue.imgList,\r\n        imageSource: saveCenter.imageSource,\r\n        title: saveCenter.title,\r\n        location: saveCenter.location,\r\n        locationDetail: saveCenter.locationDetail,\r\n        locationObject: saveCenter.locationObject,\r\n        contact: saveCenter.contact,\r\n        sites: saveCenter.sites,\r\n        prices: saveCenter.prices,\r\n        time: saveCenter.time,\r\n        hasParking: saveCenter.hasParking,\r\n        facility: saveCenter.facility,\r\n        post: saveCenter.post,\r\n        postError: saveCenter.postError,\r\n    }));\r\n\r\n    const onPublish = (e)=> {\r\n        e.preventDefault();\r\n\r\n        dispatch(\r\n            saveCenterRequest(centerInfoObject),\r\n        );\r\n    };\r\n\r\n\r\n    const onCancel=()=> {\r\n        history.goBack();\r\n    };\r\n\r\n    useEffect(()=> {\r\n        if(post) {\r\n            const {_id, user}=post;\r\n            //history.push(`/@${user.username}/${_id}`);\r\n        }else{\r\n            console.log('no post');\r\n        }\r\n        if(postError){\r\n            console.log(postError);\r\n        }\r\n    }, [history, post, postError]);\r\n    return <WriteActionButton onPublish={onPublish} />;\r\n};\r\n\r\nexport default withRouter(WriteActionButtonContainer);","import React, { useRef, useEffect } from 'react';\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport styled from 'styled-components';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport Done from '@material-ui/icons/Done';\r\n\r\nconst PreviewBox=styled.div`\r\n    display: flex;\r\n    flex-wrap: nowrap;\r\n    white-space: nowrap;\r\n    overflow-x: auto;\r\n    width: 100%;\r\n    & > * {\r\n      flex: 0 0 auto;\r\n    }\r\n`;\r\nconst PreviewItem=styled.div`\r\n    width: 150px;\r\n    height: 150px;\r\n    position: relative;\r\n    margin: 3px;\r\n`;\r\nconst ImgFilter=styled.div`\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: black;\r\n    z-index: 2;\r\n    position: absolute;\r\n    opacity: 0.5;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n`;\r\nconst ImgPreview=styled.img`\r\n    width: 100%;\r\n    height: 100%;\r\n    z-index: 1;\r\n    top: 0;\r\n    position: absolute;\r\n`;\r\nconst ImgSelector=styled.div`\r\n    width: 150px;\r\n    height: 150px;\r\n    display: flex;\r\n    border-style: dashed;\r\n    align-items: center;\r\n    justify-content: center;\r\n`;\r\nconst Input=styled.input`\r\n    overflow: hidden;\r\n    width: 0;\r\n    height: 0;\r\n    position: absolute;\r\n    top: 0;\r\n`;\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    doneIcon: {\r\n        color: 'white',\r\n        zIndex: 3,\r\n        fontSize: '5rem',\r\n\r\n    },\r\n    fab:{\r\n        margin: '0.5rem',\r\n    },\r\n    addIcon: {\r\n        fontSize: '5rem',\r\n    }\r\n}));\r\nconst ImageForm=({ hasImages, imgList, onChange })=>{\r\n    const classes = useStyles();\r\n    const previewBoxRef=useRef();\r\n\r\n    useEffect(()=>{\r\n        //이미지 추가 시 horizontal scroll 위치 맨 오른쪽으로 이동\r\n        const width=previewBoxRef.current.scrollWidth;\r\n        console.dir(width);\r\n        previewBoxRef.current.scrollLeft=width;\r\n    }, [imgList]);\r\n    return (\r\n        <>\r\n            <PreviewBox ref={previewBoxRef}>\r\n                {imgList.map(object => {\r\n                    const url=URL.createObjectURL(object.file);\r\n                    return (\r\n                        <PreviewItem key={object.id}>\r\n                            {object.done ? (\r\n                                <ImgFilter>\r\n                                    <Done className={classes.doneIcon}/>\r\n                                </ImgFilter>\r\n                            ): (undefined)}\r\n\r\n                            <ImgPreview src={url} alt=\"preview\" />\r\n                        </PreviewItem>\r\n                    );\r\n                })}\r\n                <PreviewItem>\r\n                    <label>\r\n                        <ImgSelector>\r\n                            <AddIcon className={classes.addIcon}/>\r\n                        </ImgSelector>\r\n                        <Input\r\n                            accept=\"image/*\"\r\n                            type=\"file\"\r\n                            name=\"imgCollection\"\r\n                            multiple onChange={onChange}\r\n                        />\r\n                    </label>\r\n                </PreviewItem>\r\n\r\n            </PreviewBox>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default ImageForm;","import React, {useEffect} from 'react';\r\nimport ImageForm from '../../../components/admin/saveCenterInfo/ImageForm';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {selectImage} from \"../../../modules/admin/saveCenter\";\r\n\r\nconst ImageContainer=()=>{\r\n    const { hasImages, imgList, imgCount } = useSelector(({ saveCenter }) => ({\r\n        hasImages: saveCenter.hasImages,\r\n        imgList: saveCenter.imgQueue.imgList, //type: Array [{file: File, id: number, done: boolean}]\r\n        imgCount: saveCenter.imgQueue.imgCount,\r\n    }));\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(()=>{\r\n        console.dir(imgList);\r\n    }, [imgList]);\r\n\r\n    const onFileChange = e => {\r\n        dispatch(\r\n            selectImage({\r\n                file: e.target.files[0], //type: File\r\n                id: imgCount,\r\n                done: false,\r\n            })\r\n        );\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <ImageForm\r\n                hasImages={hasImages}\r\n                onChange={onFileChange}\r\n                imgList={imgList}\r\n            />\r\n\r\n        </>\r\n    )\r\n};\r\nexport default ImageContainer;","import React from 'react';\r\nimport SideAppBar from \"../../components/admin/SideAppBar\";\r\nimport FormTemplate from '../../components/admin/saveCenterInfo/FormTemplate';\r\nimport SaveFormContainer from '../../containers/admin/saveCenterInfo/SaveFormContainer';\r\nimport LocationSearchContainer from '../../containers/admin/saveCenterInfo/LocationSearchContainer';\r\nimport WriteActionButtonContainer from '../../containers/admin/saveCenterInfo/WriteActionButtonContainer';\r\nimport ImageContainer from \"../../containers/admin/saveCenterInfo/ImageContainer\";\r\n\r\nconst DashboardPage=()=>{\r\n    return (\r\n        <>\r\n            <SideAppBar>\r\n                <FormTemplate>\r\n                    <ImageContainer/>\r\n                    <LocationSearchContainer/>\r\n                    <SaveFormContainer/>\r\n                    <WriteActionButtonContainer/>\r\n                </FormTemplate>\r\n            </SideAppBar>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default DashboardPage;","import React from 'react';\nimport {Route} from 'react-router-dom';\nimport HomePage from \"./pages/HomePage\";\nimport LoginPage from \"./pages/LoginPage\";\nimport RegisterPage from \"./pages/RegisterPage\";\nimport CenterListPage from \"./pages/centers/CenterListPage\";\nimport CommunityPage from \"./pages/community/CommunityPage\";\nimport WritePage from \"./pages/community/WritePage\";\n\nimport VirtualizingTest from \"./pages/test/VirtualizingTest\";\nimport DashboardPage from \"./pages/admin/DashboardPage\";\n\nimport EditAccountPage from './pages/account/EditAccountPage';\n\nfunction App() {\n    return (\n        <>\n\n            <Route component={HomePage} path=\"/\" exact/>\n            <Route component={LoginPage} path=\"/login\"/>\n            <Route component={RegisterPage} path=\"/register\"/>\n            <Route component={CenterListPage} path=\"/centers\"/>\n            <Route component={CommunityPage} path=\"/community\"/>\n            <Route component={WritePage} path=\"/write\"/>\n\n\n            <Route component={VirtualizingTest} path=\"/test\"/>\n            <Route component={DashboardPage} path=\"/dashboard\"/>\n            <Route component={EditAccountPage} path=\"/accounts/edit\"/>\n        </>\n    );\n}\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import {combineReducers} from \"redux\";\r\nimport {all} from 'redux-saga/effects';\r\nimport auth, {authSaga} from './auth';\r\nimport loading from './loading';\r\nimport user, {userSaga} from './user';\r\nimport write, {writeSaga} from \"./write\";\r\nimport posts, {postsSaga} from \"./posts\";\r\nimport saveCenter, {saveCenterSaga} from \"./admin/saveCenter\";\r\nimport centerList, {centerListSaga} from \"./centers/centerList\";\r\n\r\nconst rootReducer=combineReducers({\r\n    auth,\r\n    loading,\r\n    user,\r\n    write,\r\n    posts,\r\n    saveCenter,\r\n    centerList,\r\n});\r\n\r\n\r\nexport function* rootSaga() {\r\n    yield all([authSaga(), userSaga(), writeSaga(), postsSaga(), saveCenterSaga(), centerListSaga()]);\r\n}\r\n\r\n\r\nexport default rootReducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { Provider }from \"react-redux\";\nimport {BrowserRouter} from 'react-router-dom';\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport {composeWithDevTools} from \"redux-devtools-extension\";\nimport {createStore, applyMiddleware} from \"redux\";\nimport createSagaMiddleware from 'redux-saga';\nimport rootReducer, {rootSaga} from './modules';\nimport {tempSetUser, check} from './modules/user';\n\n\nconst sagaMiddleware = createSagaMiddleware();\nconst store=createStore(\n    rootReducer,\n    composeWithDevTools(applyMiddleware(sagaMiddleware)),\n);\n\nfunction loadUser() {\n    try{\n        const user=localStorage.getItem('user');\n        if (!user) return; //로그인 상태가 아니라면 아무것도 안함\n\n        store.dispatch(tempSetUser(user));\n        store.dispatch(check());\n    }catch(e) {\n        console.log('localStorage is not working');\n    }\n}\n\nsagaMiddleware.run(rootSaga);\nloadUser();\n\n\nReactDOM.render(\n    <Provider store={store}>\n        <BrowserRouter>\n            <CssBaseline />\n            <App />\n        </BrowserRouter>\n    </Provider>,\n    document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/climbing.158cb95e.jpg\";"],"sourceRoot":""}